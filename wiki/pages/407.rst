Camera接口
==========

Air724支持一路摄像头接口。可以用于扫码，拍照应用。

--------------

特点：
''''''

-  只支持SPI接口
-  最高像素30W像素@15fps
-  支持数据格式YUV422, Y420, RAW8, RAW10
-  集成CG0310驱动

硬件接口：
''''''''''

+---------+---------+---------+---------+---------+---------+---------+
| 管脚名  | 管脚    | 上电默  | I/O     | 管      | 电      | 备注    |
|         |         | 认状态  |         | 脚描述  | 气特性  |         |
+=========+=========+=========+=========+=========+=========+=========+
| C       | 78      | INPUT   | O       | 关闭    | VILmi   | 电压域  |
| AM_PWDN |         | PU      |         | Camera  | n=-0.3V | 是V_GLO |
|         |         | LL_DOWN |         |         | VILm    | BAL_1V8 |
|         |         |         |         |         | ax=0.6V | 不用    |
|         |         |         |         |         | VIHm    | 则悬空  |
|         |         |         |         |         | in=1.2V |         |
|         |         |         |         |         | VIHm    |         |
|         |         |         |         |         | ax=2.0V |         |
|         |         |         |         |         | VOHmin= |         |
|         |         |         |         |         | V_      |         |
|         |         |         |         |         | GLOBAL_ |         |
|         |         |         |         |         | 1V8*0.7 |         |
|         |         |         |         |         | VOLmax= |         |
|         |         |         |         |         | V_      |         |
|         |         |         |         |         | GLOBAL_ |         |
|         |         |         |         |         | 1V8*0.3 |         |
+---------+---------+---------+---------+---------+---------+---------+
| CAM_RST | 84      | INPUT   | O       | 重启    | 同上    | 同上    |
|         |         | PU      |         | Camera  |         |         |
|         |         | LL_DOWN |         |         |         |         |
+---------+---------+---------+---------+---------+---------+---------+
| CAM     | 85      | INPUT   | O       | Camera  | 同上    | 同上    |
| _REFCLK |         | PU      |         | 基      |         |         |
|         |         | LL_DOWN |         | 准时钟  |         |         |
+---------+---------+---------+---------+---------+---------+---------+
| CAM_SCK | 86      | INPUT   | I       | SPI     | 同上    | 同上    |
|         |         | PU      |         | Camera  |         |         |
|         |         | LL_DOWN |         | 时      |         |         |
|         |         |         |         | 钟输入  |         |         |
+---------+---------+---------+---------+---------+---------+---------+
| CAM_SI0 | 87      | INPUT   | I       | SPI     | 同上    | 同上    |
|         |         | PU      |         | Camer数 |         |         |
|         |         | LL_DOWN |         | 据输入0 |         |         |
+---------+---------+---------+---------+---------+---------+---------+
| CAM_SI1 | 88      | INPUT   | I       | SPI     | 同上    | 同上    |
|         |         | PU      |         | Camer数 |         |         |
|         |         | LL_DOWN |         | 据输入1 |         |         |
+---------+---------+---------+---------+---------+---------+---------+
| CAMI    | 50      | INPUT   | I/O     | Camera  | 同上    | 同上    |
| 2C_SDA1 |         | PULL_UP |         | I2C     |         |         |
| (G      |         |         |         |         |         |         |
| PIO_17) |         |         |         |         |         |         |
+---------+---------+---------+---------+---------+---------+---------+
| CAMI    | 51      | INPUT   | O       | Camera  | 同上    | 同上    |
| 2C_SCL1 |         | PULL_UP |         | I2C     |         |         |
| (G      |         |         |         |         |         |         |
| PIO_16) |         |         |         |         |         |         |
+---------+---------+---------+---------+---------+---------+---------+
| V       | 80      |         | O       | Camer   | 1.      |         |
| CC_CAMD |         |         |         | a数字部 | 4V~2.18 |         |
|         |         |         |         | 分电源  | v/100mA |         |
|         |         |         |         |         | 默      |         |
|         |         |         |         |         | 认1.8V  |         |
+---------+---------+---------+---------+---------+---------+---------+
| V       | 79      |         | O       | Camer   | 1       |         |
| CC_CAMA |         |         |         | a模拟部 | .6V~3.2 |         |
|         |         |         |         | 分电源  | v/100mA |         |
|         |         |         |         |         | 默      |         |
|         |         |         |         |         | 认1.8V  |         |
+---------+---------+---------+---------+---------+---------+---------+

参考设计
''''''''

.. image:: http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20200615000342506_11.png

   AVDD,DVDD,DOVDD的滤波电容要靠近摄像投接口放置
   CAM_SCK,CAM_REFCLK时钟走线要包地处理
   整个camera走线要远离VBAT和RF走线，以免互相干扰
   模拟电源VCAMA要包地处理，整个摄像投的模拟部分是由VCAMA供电

--------------

AT
~~

-  目前AT指令只支持扫码功能，且只能支持CG0310摄像头。
-  扫码支持QR,Code 49,Code 128格式。
-  内部集成Zbar解码库

AT+CAM=0 打开cam AT+CAM=1 关闭cam AT+CAM=2 打开扫码 AT+CAM=3 关闭扫码
扫码成功有+CCAM上报

``注意：版本号大于470的固件才能支持摄像头功能``
-----------------------------------------------

LUAT 二次开发
~~~~~~~~~~~~~

相关API接口
