<!DOCTYPE html>

<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
  <title>Luatools v2烧录教程（适用于2G、4G Cat.1、4G Cat.4模块） [ Luat doc 社区文章静态页面镜像 ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="/css/iLiKE.css">
    
  
  
  
<meta name="generator" content="Hexo 5.3.0"></head>
<body>
    <div class="header">
        <div class="container">
    <div class="menu">
      <div class="menu-left">
        <a href="/">
          <img src="https://iot.openluat.com/assets/img/logo.jpg"></img>
        </a>
      </div>
      <div class="menu-right">
        
          
          
          
          
          
          
          <a href="/">首页</a>
        
          
          
          
          
          
          
          <a href="/archives">归档</a>
        
          
          
          
          
          
          
          <a href="/about">关于</a>
        
      </div>
    </div>
</div>
    </div>
    <div class="container">
        <h1 class="post-title">Luatools v2烧录教程（适用于2G、4G Cat.1、4G Cat.4模块）</h1>
<article class="post markdown-style">
  <p>#目录，可以根据需要直接点击跳转：</p>
<ul>
<li><a href="#%E4%B8%8B%E8%BD%BDLuaTools%E5%B7%A5%E5%85%B7">下载LuaTools工具</a></li>
<li><a href="#2G%E6%A8%A1%E5%9D%97%E7%83%A7%E5%86%99%E6%95%99%E7%A8%8B%EF%BC%88Air2xx%E7%B3%BB%E5%88%97%E3%80%81Air8xx%E7%B3%BB%E5%88%97%EF%BC%89">2G模块烧写教程（Air2xx系列、Air8xx系列）</a><ul>
<li><a href="#%E8%BF%9E%E6%8E%A5%E6%A8%A1%E5%9D%97">连接模块</a></li>
<li><a href="#2G%E5%88%B7%E5%85%A5AT%E7%89%88%E6%9C%AC%E7%9A%84lod">刷入AT版本的lod</a></li>
<li><a href="#2G%E5%88%B7%E5%85%A5%E4%BB%BB%E6%84%8F%E7%9A%84lod%E5%9B%BA%E4%BB%B6">刷入任意的lod固件</a></li>
<li><a href="#2G%E4%B8%8B%E8%BD%BDlua%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6">下载lua脚本文件</a></li>
</ul>
</li>
<li>[4G 模块烧写教程（Air720x/Air720Sx/Air720Ux系列）](#4G 模块烧写教程（Air720x/Air720Sx/Air720Ux系列）)<ul>
<li><a href="#%E6%A8%A1%E5%9D%97%E5%9E%8B%E5%8F%B7%E4%B8%8E%E8%8A%AF%E7%89%87%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB">模块型号与芯片对应关系</a></li>
<li><a href="#%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8">安装驱动</a></li>
<li><a href="#%E8%BF%9E%E6%8E%A5%E6%A8%A1%E5%9D%97%E5%88%B0%E7%94%B5%E8%84%91">连接模块到电脑</a></li>
<li><a href="#%E8%BF%9B%E5%85%A5%E4%B8%8B%E8%BD%BD%E6%A8%A1%E5%BC%8F">进入下载模式</a><ul>
<li><a href="#Air720x%E7%B3%BB%E5%88%97">Air720x系列</a></li>
<li><a href="#Air720Sx%E7%B3%BB%E5%88%97">Air720Sx系列</a></li>
<li><a href="#Air720Ux%E7%B3%BB%E5%88%97">Air720Ux系列</a></li>
</ul>
</li>
<li><a href="#%E7%83%A7%E5%BD%95AT%E5%9B%BA%E4%BB%B6">烧录AT固件</a></li>
<li><a href="#%E7%83%A7%E5%BD%95%E5%85%B6%E4%BB%96blf/pac%E5%9B%BA%E4%BB%B6">烧录其他blf/pac固件</a></li>
<li><a href="#%E7%83%A7%E5%BD%95Lua%E8%84%9A%E6%9C%AC">烧录Lua脚本</a></li>
</ul>
</li>
</ul>
<h2 id="下载LuaTools工具"><a href="#下载LuaTools工具" class="headerlink" title="下载LuaTools工具"></a>下载LuaTools工具</h2><p><a target="_blank" rel="noopener" href="http://www.openluat.com/Product/file/luatoolsV2-redirect.html">点击这里下载</a></p>
<p>下载后可能会进行自动升级，这个工具基本上是持续使用，都不会出现版本过旧的问题</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20200727163109048_5_32875.jpg" alt="luatools v2图片"></p>
<h2 id="2G模块烧写教程（Air2xx系列、Air8xx系列）"><a href="#2G模块烧写教程（Air2xx系列、Air8xx系列）" class="headerlink" title="2G模块烧写教程（Air2xx系列、Air8xx系列）"></a>2G模块烧写教程（Air2xx系列、Air8xx系列）</h2><p>（4G模块烧录方法请看往下翻，看下一部分）</p>
<h3 id="连接模块"><a href="#连接模块" class="headerlink" title="连接模块"></a>连接模块</h3><p>我们只需要用usb转串口线，与给模块/开发板的HOST串口相连，GND相连，并给模块上电即可。部分开发板可以直接连接microUSB口</p>
<blockquote>
<p>意：模块的HOST口使用的是921600波特率，如果你使用的是劣质串口芯片（如质量差的pl2303以及山寨的ch340之类的），会出现无法通讯的现象。<br>并且需要<strong>保证模块供电充足，不然会出现无限重启的状况</strong>。</p>
</blockquote>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_91840.jpg"></p>
<h3 id="2G刷入AT版本的lod"><a href="#2G刷入AT版本的lod" class="headerlink" title="2G刷入AT版本的lod"></a>2G刷入AT版本的lod</h3><p>刷入AT版本的固件十分简单，在上面连接模块完成之后，确保串口选项卡的串口为你设备的串口值，点击菜单中的<code>AT</code>–<code>2G模块切换为xxxx</code>（TTS还是SSL按需选择），如下图：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_19700.jpg"></p>
<p>模块开机后，点击<code>下载</code>：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_99295.gif"></p>
<p>等待下载完成</p>
<h3 id="2G刷入任意的lod固件"><a href="#2G刷入任意的lod固件" class="headerlink" title="2G刷入任意的lod固件"></a>2G刷入任意的lod固件</h3><p>luat的固件因为需求不同，所以为了节省空间，提供了多种库的组合<br>luat的固件可以在下载工具目录的/LuaTools 2.x.x/resource/8955_lua_lod/core_V00xx找到，每个版本的区别可以参考readme.txt文件中的描述，部分内容也贴在下面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Luat_VXXXX_8955.lod：不支持SSL、TTS、SPI接口的LCD功能</span><br><span class="line">Luat_VXXXX_8955_SSL.lod：支持SSL功能</span><br><span class="line">Luat_VXXXX_8955_SSL_TTS.lod：支持SSL、TTS功能，不支持MP3、MIDI、录音功能</span><br><span class="line">Luat_VXXXX_8955_SSL_UI.lod：支持SSL、SPI接口的LCD功能</span><br><span class="line">Luat_VXXXX_8955_TTS_UI.lod：支持TTS、SPI接口的LCD功能</span><br><span class="line">Luat_VXXXX_8955_TTS1.lod：支持TTS功能</span><br><span class="line">Luat_VXXXX_8955_TTS2.lod：支持TTS功能、不支持MP3、MIDI、录音、json</span><br><span class="line">Luat_VXXXX_8955_UI.lod：支持SPI接口的LCD功能</span><br><span class="line">Luat_VXXXX_8955_SSL_FLOAT.lod：支持SSL功能、浮点数</span><br><span class="line">Luat_VXXXX_8955_SSL_UI_FLOAT.lod：支持SSL功能、SPI接口的LCD功能、浮点数</span><br><span class="line">Luat_VXXXX_8955F.lod：64M flash版本（Air202F），支持以上提到的所有功能（除浮点数外）</span><br><span class="line">Luat_VXXXX_8955F_FLOAT.lod：64M flash版本（Air202F），支持以上提到的所有功能</span><br></pre></td></tr></table></figure>
<p>我以烧录最基本的Luat_VXXXX_8955.lod为例，首先在调试工具中确保串口选项卡的串口为你设备的串口值，点击下载LOD(core)按钮，选中之前在工具目录的lod文件（LuaTools 2.x.x/resource/8955_lua_lod/core_V00xx/Luat_V00xx_8955.lod）：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_79034.gif"></p>
<p>选中固件无误后，模块开机，点击下载进行写入lod的操作</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_24739.gif"></p>
<h3 id="2G下载lua脚本文件"><a href="#2G下载lua脚本文件" class="headerlink" title="2G下载lua脚本文件"></a>2G下载lua脚本文件</h3><p>由于luat模块的特色就是lua二次开发，所以下载烧录脚本的方法也是必须掌握的，下面以烧录ADC demo示例程序为例</p>
<p>lua脚本分为两部分：一个部分是官方写的lib库文件（library），另一部分是用户自己的脚本文件。一般lib的文件不用去修改，除非有特殊需求。</p>
<p>点击<code>项目管理测试</code>，点击左下角<code>创建项目</code>，自己起个名字，这里我起名<code>ADC demo</code>：</p>
<p><img src="http://doc.openluat.com/apihttp://doc.openluat.com/api/static/editormd/uploads/5_34907.gif"></p>
<p>选好lod固件（按需求）和脚本，demo脚本可在工具目录下找到（luatools2/resource/8955_script/script_LuaTask_Vx.x.x/demo/adc），勾选<code>添加默认lib</code>：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_64090.jpg"></p>
<p>现在把模块开机等待烧录。</p>
<p>如果模块是第一次烧录，需要点<code>下载底层和脚本</code>；<br>如果模块内的固件版本就是已选的固件（已经烧录过固件），那么就点<code>下载脚本</code>：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_10901.jpg"></p>
<p>等待下载完成即可</p>
<h2 id="4G-模块烧写教程（Air720x-Air720Sx-Air720Ux系列）"><a href="#4G-模块烧写教程（Air720x-Air720Sx-Air720Ux系列）" class="headerlink" title="4G 模块烧写教程（Air720x/Air720Sx/Air720Ux系列）"></a>4G 模块烧写教程（Air720x/Air720Sx/Air720Ux系列）</h2><h3 id="模块型号与芯片对应关系"><a href="#模块型号与芯片对应关系" class="headerlink" title="模块型号与芯片对应关系"></a>模块型号与芯片对应关系</h3><p>因为工具内的固件与脚本都是按芯片型号分别存放在文件夹里的，所以需要对应一下，以便更快地找到他们</p>
<table>
<thead>
<tr>
<th>模块</th>
<th>芯片</th>
</tr>
</thead>
<tbody><tr>
<td>Air720x系列</td>
<td>1802</td>
</tr>
<tr>
<td>Air720Sx系列</td>
<td>1802s</td>
</tr>
<tr>
<td>AirUx系列/Air723/Air724</td>
<td>8910</td>
</tr>
</tbody></table>
<h3 id="安装驱动"><a href="#安装驱动" class="headerlink" title="安装驱动"></a>安装驱动</h3><p>Air720x/Air720Sx模块（Cat.4）请参考这篇文章<a target="_blank" rel="noopener" href="http://doc.openluat.com/article/463/0">史上最详细的Air7xx驱动安装教程</a></p>
<p>Air720Ux模块（Cat.1）请<a target="_blank" rel="noopener" href="http://www.openluat.com/Product/file/uis8910dm/sw_file_20200303181718_8910_module_usb_driver_signed%20_20200303_hezhou.7z">点击此处下载驱动</a><br>win7打开<code>DriversForWin78</code>，win10打开<code>DriversForWin10</code>，根据自己电脑的位数点击相应的exe安装驱动</p>
<h3 id="连接模块到电脑"><a href="#连接模块到电脑" class="headerlink" title="连接模块到电脑"></a>连接模块到电脑</h3><p>这里我们使用官方开发板作为演示，首先需要将开发板按如下方式连接电脑：</p>
<p>720系列：<br><img src="http://doc.openluat.com/api/static/editormd/uploads/5_34395.png"></p>
<p>720S系列：<br><img src="http://doc.openluat.com/api/static/editormd/uploads/5_52306.jpg"></p>
<p>720U Cat.1系列<br><img src="http://doc.openluat.com/api/static/editormd/uploads/5_66385.jpg"></p>
<p>如果是模块飞线烧录，请先确保可以保证模块的稳定供电，并且烧录时模块不会被重启，按下图进行飞线usb：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_57781.jpg"></p>
<p>长按开机键/拉低power key引脚，即可开机</p>
<h3 id="进入下载模式"><a href="#进入下载模式" class="headerlink" title="进入下载模式"></a>进入下载模式</h3><p>由于4G Cat.4模块必须在烧录状态下，才会再PC上显示出烧录设备，所以烧录时都需要先在工具上点击<code>下载</code>，再对模块进行操作</p>
<h4 id="Air720x系列"><a href="#Air720x系列" class="headerlink" title="Air720x系列"></a>Air720x系列</h4><p>Air720x的烧录设备，会在每次开机后出现一秒左右，所以烧录时只需要让模块重启即可。</p>
<p>我们可以直接断电后重新上电，也可以使用复位按键（对于开发板，可以<code>点击开发板上的“重启”按键，或者开关旁边的拨码开关</code>）：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_32974.png"></p>
<p>设备管理器中会出现这个设备<strong>一秒左右</strong>，如果没出现，就是驱动安装有问题，或者设备没开机</p>
<p><img src="http://doc.openluat.com/apihttp://doc.openluat.com/api/static/editormd/uploads/5_11572.jpg"></p>
<h4 id="Air720Sx系列"><a href="#Air720Sx系列" class="headerlink" title="Air720Sx系列"></a>Air720Sx系列</h4><p>Air720Sx系列的设备，需要在上电时同时将<code>BOOT</code>与<code>v1.8</code>引脚短接，才会进入下载模式。（或者使用AT命令使模块重启进入下载模式）</p>
<p>对于<code>luatools v2</code>版本，工具会自动重启模块以进入下载模式。</p>
<p>如果需要手动操作使模块进入下载模式，请将<code>BOOT</code>与<code>v1.8</code>引脚短接（开发板为按下boot按键不松开），然后再上电和开机，同时工具烧录时需要勾选<code>USB BOOT下载</code></p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_62015.jpg"></p>
<p>设备管理器中会出现这个设备，如果没出现，就是驱动安装有问题，或者设备没开机</p>
<p><img src="http://doc.openluat.com/apihttp://doc.openluat.com/api/static/editormd/uploads/5_11572.jpg"></p>
<h4 id="Air720Ux系列"><a href="#Air720Ux系列" class="headerlink" title="Air720Ux系列"></a>Air720Ux系列</h4><p>Air720Ux系列的设备，需要在上电时同时将<code>BOOT</code>与<code>v1.8</code>引脚短接，才会进入下载模式。（或者使用AT命令使模块重启进入下载模式）</p>
<p>如果需要手动操作使模块进入下载模式，请将<code>BOOT</code>与<code>v1.8</code>引脚短接（开发板为按下boot按键不松开），然后再上电和开机，同时工具烧录时需要勾选<code>USB BOOT下载</code></p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_57330.jpg"></p>
<p>设备管理器中会出现这个设备，如果没出现，就是驱动安装有问题，或者设备没开机；如果出现的时<code>串口设备xxx</code>，那么说明系统认错了驱动，请右击该设备并<code>卸载驱动程序</code>让电脑重新识别</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_38643.jpg"></p>
<h3 id="烧录AT固件"><a href="#烧录AT固件" class="headerlink" title="烧录AT固件"></a>烧录AT固件</h3><p>直接点击<code>AT</code>–<code>72xxxx系列xxx固件切换为AT版本</code>，点击下载，然后让模块进入<code>烧录模式</code>（如果使用BOOT开机，请勾选<code>USB BOOT下载</code>）：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_65295.jpg"></p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_33460.gif"></p>
<p>烧录后，我们可以用串口工具，通过<code>USB虚拟的AT串口</code>或<code>物理串口UART2</code>（720Ux系列使<code>物理串口UART1</code>）来进行AT操作：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_40687.jpg"></p>
<h3 id="烧录其他blf-pac固件"><a href="#烧录其他blf-pac固件" class="headerlink" title="烧录其他blf/pac固件"></a>烧录其他blf/pac固件</h3><p>直接点击工具的<code>下载固件</code>，选择固件后，点击下载，使设备进入<code>烧录模式</code>后便会进行下载（如果使用BOOT开机，请勾选<code>USB BOOT下载</code>）：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_69784.gif"></p>
<h3 id="烧录Lua脚本"><a href="#烧录Lua脚本" class="headerlink" title="烧录Lua脚本"></a>烧录Lua脚本</h3><p>由于luat模块的特色就是lua二次开发，所以下载烧录脚本的方法也是必须掌握的，下面以烧录ADC demo示例程序为例</p>
<p>lua脚本分为两部分：一个部分是官方写的lib库文件（library），另一部分是用户自己的脚本文件。一般lib的文件不用去修改，除非有特殊需求。</p>
<p>点击<code>项目管理测试</code>，点击左下角<code>创建项目</code>，自己起个名字，这里我起名<code>ADC demo</code>：</p>
<p><img src="http://doc.openluat.com/apihttp://doc.openluat.com/api/static/editormd/uploads/5_34907.gif"></p>
<p>选好lod固件（按需求）和脚本，demo脚本可在工具目录下找到（luatools2/resource/xxxx_script/script_LuaTask_Vx.x.x/demo/adc）勾选<code>添加默认lib</code>，例如下图：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_79126.jpg"></p>
<p>如果模块是第一次烧录，需要点<code>下载底层和脚本</code>；<br>如果模块内的固件版本就是已选的固件（已经烧录过固件），那么就点<code>下载脚本</code>（如果使用BOOT开机，请勾选<code>USB BOOT下载</code>）：</p>
<p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_27874.gif"></p>
<p>等待下载完成即可</p>
<script>
location.href="https://wiki.openluat.com/doc/tools/";
</script>

</article>

    <div class="pagenator post-pagenator">
    
    
        <a class="extend prev post-prev" href="/2020/03/30/714/">上一篇</a>
    

    
    <p>上次更新 2021-01-28</p>
    
    
        <a class="extend next post-next" href="/2020/03/28/712/">下一篇</a>
    
    </div>

    </div>
    <div class="footer">
        <div class="container">
    <div class="social">
	<ul class="social-list">
		
			
		
			
		
			
		
			
		
			
		
			
		
			
				
				<li>
					<a href="https://github.com/openluat" title="github" target="_self">
					<i class="fa fa-github"></i>
					</a>
				</li>
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
	</ul>
</div>
    <div class="copyright">
        <span>
            
            
            
                © chenxuuu 2017 - 2021
            
        </span>
    </div>
    <div class="power">
        <span>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> & <a target="_blank" rel="noopener" href="https://github.com/CaiChenghan/iLiKE">iLiKE Theme</a>
        </span>
    </div>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <!--page counter part-->
<script>
function addCount (Counter) {
    url=$('.article-date').attr('href').trim();
    title = $('.article-title').text().trim();
    var query = new AV.Query(Counter);
    //use url as unique idnetfication
    query.equalTo("url",url);
    query.find({
        success: function(results) {
            if (results.length>0) {
                var counter=results[0];
                counter.fetchWhenSave(true); //get recent result
                counter.increment("time");
                counter.save();
            } else {
                var newcounter=new Counter();
                newcounter.set("title",title);
                newcounter.set("url",url);
                newcounter.set("time",1);
                newcounter.save(null,{
                    success: function(newcounter) {
                        //alert('New object created');
                    }, error: function(newcounter,error) {
                        alert('Failed to create');
                    }
                })
            }
        },
        error: function(error) {
            //find null is not a error
            alert('Error:'+error.code+" "+error.message);
        }
    });
}
$(function() {
    var Counter=AV.Object.extend("Counter");
    //only increse visit counting when intering a page
    if ($('.article-title').length == 1) {
       addCount(Counter);
    }
    var query=new AV.Query(Counter);
    query.descending("time");
    // the sum of popular posts
    query.limit(10); 
    query.find({
        success: function(results) {
                for(var i=0;i<results.length;i++) {
                    var counter=results[i];
                    title=counter.get("title");
                    url=counter.get("url");
                    time=counter.get("time");
                    // add to the popularlist widget
                    showcontent=title+" ("+time+")";
                    //notice the "" in href
                    $('.popularlist').append('<li><a href="'+url+'">'+showcontent+'</a></li>');
                }
            },
        error: function(error) {
            alert("Error:"+error.code+" "+error.message);
        }
    });
});
</script>
</div>
    </div>
</body>
</html>
