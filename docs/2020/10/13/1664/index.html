<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Luat task 延时那些事 | Luat doc 社区文章静态页面镜像</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="我们知道, 在 lua 中是不存在多线程的, 只是实现了一个相对轻量级的协程用来满足对多线任务的一些需求, lua 使用 Clean C (标准C和标准C++的公共子集) 实现, 然而 Clean C 中并没有直接提供有关多线程的实现, 多线程其实更依赖于其所运行的系统, 出于轻量以及移植性方面的考虑, lua 放弃了对多线程的实现, 利用协程进行替代. 我们首先来看下协程的简单使用： 12345">
<meta property="og:type" content="article">
<meta property="og:title" content="Luat task 延时那些事">
<meta property="og:url" content="https://doc.luatos.wiki/2020/10/13/1664/index.html">
<meta property="og:site_name" content="Luat doc 社区文章静态页面镜像">
<meta property="og:description" content="我们知道, 在 lua 中是不存在多线程的, 只是实现了一个相对轻量级的协程用来满足对多线任务的一些需求, lua 使用 Clean C (标准C和标准C++的公共子集) 实现, 然而 Clean C 中并没有直接提供有关多线程的实现, 多线程其实更依赖于其所运行的系统, 出于轻量以及移植性方面的考虑, lua 放弃了对多线程的实现, 利用协程进行替代. 我们首先来看下协程的简单使用： 12345">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103134268_1.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103148716_2.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103201354_3.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103213587_4.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103248990_5.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103314271_678.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103332981_910.png">
<meta property="article:published_time" content="2020-10-13T02:48:38.000Z">
<meta property="article:modified_time" content="2021-01-27T16:09:27.336Z">
<meta property="article:author" content="chenxuuu">
<meta property="article:tag" content="lua">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103134268_1.png">
  
    <link rel="alternate" href="/atom.xml" title="Luat doc 社区文章静态页面镜像" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Luat doc 社区文章静态页面镜像</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://doc.luatos.wiki"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-1664" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/10/13/1664/" class="article-date">
  <time class="dt-published" datetime="2020-10-13T02:48:38.000Z" itemprop="datePublished">2020-10-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Luat task 延时那些事
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>我们知道, 在 lua 中是不存在多线程的, 只是实现了一个相对轻量级的协程用来满足对多线任务的一些需求, lua 使用 Clean C (标准C和标准C++的公共子集) 实现, 然而 Clean C 中并没有直接提供有关多线程的实现, 多线程其实更依赖于其所运行的系统, 出于轻量以及移植性方面的考虑, lua 放弃了对多线程的实现, 利用协程进行替代.</p>
<p>我们首先来看下协程的简单使用：</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">1</span>, <span class="number">5</span> <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;A\t&quot;</span>..i)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">1</span>, <span class="number">5</span> <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">coroutine</span>.<span class="built_in">yield</span>()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;B\t&quot;</span>..i)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">co = <span class="built_in">coroutine</span>.<span class="built_in">create</span>(B)</span><br><span class="line"></span><br><span class="line">A()</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">    A	1</span></span><br><span class="line"><span class="comment">    B	1</span></span><br><span class="line"><span class="comment">    A	2</span></span><br><span class="line"><span class="comment">    B	2</span></span><br><span class="line"><span class="comment">    A	3</span></span><br><span class="line"><span class="comment">    B	3</span></span><br><span class="line"><span class="comment">    A	4</span></span><br><span class="line"><span class="comment">    B	4</span></span><br><span class="line"><span class="comment">    A	5</span></span><br><span class="line"><span class="comment">]]</span></span><br></pre></td></tr></table></figure>
<p>这是一种简单的使用场景, yield 和 resume 只是负责切换控制, 让控制权在两个任务之间来回切换, 达到了使两个任务 “并行” 的目的. 当然 yield 和 resume 之间还可以传入和返回参数, 所以两个协程之间也并非处于完全相等的地位, 他们的主从关系还是有一些细微差别的, 不过这个以后有时间再讲. 协程只是对多线程的一种模拟, 并不能替代多线程. 它把本该在一个地方实现的代码拆分到了不同任务, 这会让逻辑表述看起来更加清晰. 了解了基本使用之后, 我们现在来看个需求, 还是上面的代码, 不过我们这回希望 A 和 B 能分别以 1000s 的延时间隔打印, 那么代码该如何实现? 听完之后, 你可能写出下面的代码:</p>
 <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wait</span><span class="params">(ms)</span></span></span><br><span class="line">    <span class="comment">-- 阻塞延时, 仅仅只做说明, 并不实现</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">1</span>, <span class="number">5</span> <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;A\t&quot;</span>..i)</span><br><span class="line">        wait(<span class="number">1000</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">1</span>, <span class="number">5</span> <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">coroutine</span>.<span class="built_in">yield</span>()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;B\t&quot;</span>..i)</span><br><span class="line">        wait(<span class="number">1000</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">co = <span class="built_in">coroutine</span>.<span class="built_in">create</span>(B)</span><br><span class="line"></span><br><span class="line">A()</span><br></pre></td></tr></table></figure>
<p>我们期望两个协程都能以 1000ms 的延时打印输出, 但是这种阻塞延时其实是会在两个协程之间相互影响的, A 在延时的过程中其实是会加长 B 的延时, 最终两个协程都会以 2000ms 的延时打印输出, 当然, 聪明的你可会想到让每个协程延时 500ms 来解决上面问题, 但是如果是多个协程分别以不同的时间进行延时, 又该如何实现呢? 说到这里, 就不得不提到非阻塞延时的概念了, 实现效果就是, 延时这种操作不再影响全局, 只对当前协程有效, 下面我们就来看看这种非阻塞延时的机制是如何实现的.</p>
<p>虽然在 lua 层也可以, 但是 luat 的非阻塞延时其实是靠 Core 层的 RTT 实现的, RTT 的全称是 Real Time-Thread, 是一个实时多线程操作系统, 主要用于嵌入式, 基本属性之一就是支持多任务, 也是个轻量级的实现, 可以很方便的裁剪, 定制, 由国人开发维护. luat 的 task 框架主要用到了其中的定时器进行延时, 所以我们先来看看 RTT 的定时器是怎么运行的. 在单任务系统, 依靠切换控制权来模拟多线程的话, 那延时必定不可能是真正”延时”的, 一个任务的阻塞延时肯定会干扰到其他任务的计时, 所以一定会有一个第三者来进行时间管理, 我们可以称之为时钟调度器, Core 的时钟调度器自己维护了一个时钟和一个时间管理链表, 时钟的最小计时单位是时钟节拍, 所以延时时间只能是时钟节拍的整数倍.</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 伪代码, 仅作原理说明</span></span><br><span class="line"><span class="comment">-- 任务A</span></span><br><span class="line">task(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">true</span> <span class="keyword">do</span></span><br><span class="line">        wait(<span class="number">100</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 任务B</span></span><br><span class="line">task(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">true</span> <span class="keyword">do</span></span><br><span class="line">        wait(<span class="number">80</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">run()</span><br></pre></td></tr></table></figure>
<p>假设现在时钟节拍是 1ms, 任务 A 需要间隔 100ms 执行, 任务 B 需要间隔 80ms 执行, 那么运行情况将会是这样的, 最开始控制权是在 Core 手中, 当完成一些列初始化工作后, Core 的时钟到了 30ms (假设初始工作需要 30ms), 此时 Core 会把控制权交给任务A执行.　</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103134268_1.png"></p>
<p>任务 A 在执行到 wait(100) 时会把当前延时时间加上系统时钟时间的数值, 连同自身ID, 添加进 Core 的时间链表.</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103148716_2.png"></p>
<p>然后来到了任务 B, 任务 B 在执行到 wait(80) 时也会向 Core 中添加消息</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103201354_3.png"></p>
<p>接着会执行到 run, run 开始从 Core 中阻塞读取消息</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103213587_4.png"></p>
<p>之后 Core 会以 1ms 的间隔独自计时, 每过 1ms, Core 都会检查链表第一项时间是否达到, 当时钟计时达到时间的时候, 控制权会交还给 run, 并且告诉 run, B 的计时时间到了</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103248990_5.png"><br>之后 run 会把控制权交给 B, B 执行完返还控制权, 当然 B 在执行过程中依然会向 Core 中添加消息,</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103314271_678.png"></p>
<p>再然后 run 会接着阻塞读取, 如此往复…</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201013103332981_910.png"></p>
<p>最开始从 Core–&gt;A–&gt;B–&gt;run 的控制权移交顺序是由代码顺序决定的, 因为 Core 会先启动, 然后执行 lua 脚本, 脚本中代码顺序正好是 A, B, run, 再之后的顺序才是调度框架的顺序. 可以看到, 整个框架的核心就是 run, run 会从 Core 中阻塞读取消息, 然后依照消息编号调用其他任务, 其他任务执行完, 或者执行到延时时, 会向 run 返还控制权, 由 run 接着调度, 没有显式调用的话, 其他任务之间是不会相互移交控制权的. run 和其他任务之间的控制权移交是依靠协程实现的, 其他任务和 Core 的交互仅仅只是向时间链表中添加消息. 之所以用链表实现是为了方便添加与移除消息, 在添加时 Core 还会对时间进行排序, 这样只需比较链表的首项就能完成判断, 不需要对所有时间都进行逐一比较.<br>实际上 luat 在设定时间到达后并不是通过直接调用方式传递控制权, 而是用消息队列的方式把控制权交回到了lua 层, 这是 RTT 的另一项机制, 因为除了时钟消息, Core 层还有其他消息需要传递给lua. 通过上面的分析我们也不难发现, lua 层当中的所有代码几乎都是瞬时完成的, 所有延时操作都是把控制权移交到了 Core. 以上就是关于 luat task 延时的一些事.</p>
<p><em>参考:</em></p>
<p>LuatOS <a target="_blank" rel="noopener" href="https://github.com/openLuat/LuatOS">https://github.com/openLuat/LuatOS</a></p>
<p>RT-Thread 文档中心 <a target="_blank" rel="noopener" href="https://www.rt-thread.org/document/site/">https://www.rt-thread.org/document/site/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2020/10/13/1664/" data-id="ckkfmdg9q0016vkcgbb5ta5vu" data-title="Luat task 延时那些事" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/10/13/1671/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          AIR724 UG阿里云OTA差分升级遇到的一些问题
        
      </div>
    </a>
  
  
    <a href="/2020/10/12/1657/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">Air530Z GPS/北斗定位模块_设计指导手册_V1.1</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2032/01/">一月 2032</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2032/01/01/608/">【置顶】合宙模块资料汇总</a>
          </li>
        
          <li>
            <a href="/2022/12/31/638/">Air系列模块常见问题列表</a>
          </li>
        
          <li>
            <a href="/2021/01/27/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2021/01/27/2420/">ECMAScript(ES6)基本语法介绍（一）</a>
          </li>
        
          <li>
            <a href="/2021/01/26/2417/">Air720S系列_luat二次开发固件（ 底层软件+上层脚本）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 chenxuuu<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>