<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Air302接入腾讯物联网通信平台  | Luat doc 社区文章静态页面镜像</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Air302接入腾讯物联网通信平台一、前简介合宙Air302, 是基于移芯EC616的NB-IOT模块。 腾讯云物联网通信（Internet of Things Hub， IoT Hub）旨在提供一个安全、稳定、高效的连接平台，帮助开发者低成本、快速地实现“设备-设备”、“设备-用户应用”、“设备-云服务”之间可靠、高并发的数据通信。不仅可以实现设备之间的互动、设备的数据上报和配置下发，还可以基于">
<meta property="og:type" content="article">
<meta property="og:title" content="Air302接入腾讯物联网通信平台 ">
<meta property="og:url" content="https://doc.luatos.wiki/2020/12/06/1978/index.html">
<meta property="og:site_name" content="Luat doc 社区文章静态页面镜像">
<meta property="og:description" content="Air302接入腾讯物联网通信平台一、前简介合宙Air302, 是基于移芯EC616的NB-IOT模块。 腾讯云物联网通信（Internet of Things Hub， IoT Hub）旨在提供一个安全、稳定、高效的连接平台，帮助开发者低成本、快速地实现“设备-设备”、“设备-用户应用”、“设备-云服务”之间可靠、高并发的数据通信。不仅可以实现设备之间的互动、设备的数据上报和配置下发，还可以基于">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150236051_QQ%E6%88%AA%E5%9B%BE20201206141728.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150312977_QQ%E6%88%AA%E5%9B%BE20201206141834.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150323856_QQ%E6%88%AA%E5%9B%BE20201206142003.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150343240_QQ%E6%88%AA%E5%9B%BE20201206142251.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150400600_QQ%E6%88%AA%E5%9B%BE20201206142429.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150411086_QQ%E6%88%AA%E5%9B%BE20201206142559.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150427848_QQ%E6%88%AA%E5%9B%BE20201206142642.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150443315_QQ%E6%88%AA%E5%9B%BE20201206142928.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150451326_QQ%E6%88%AA%E5%9B%BE20201206142956.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150502405_QQ%E6%88%AA%E5%9B%BE20201206143120.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150511405_QQ%E6%88%AA%E5%9B%BE20201206143229.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150521268_QQ%E6%88%AA%E5%9B%BE20201206143430.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150826691_QQ%E6%88%AA%E5%9B%BE20201206143755.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150539230_QQ%E6%88%AA%E5%9B%BE20201206144039.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150555443_QQ%E6%88%AA%E5%9B%BE20201206145054.png">
<meta property="og:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150604781_QQ%E6%88%AA%E5%9B%BE20201206145702.png">
<meta property="article:published_time" content="2020-12-06T07:14:22.000Z">
<meta property="article:modified_time" content="2021-01-27T16:09:27.362Z">
<meta property="article:author" content="chenxuuu">
<meta property="article:tag" content="lua">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150236051_QQ%E6%88%AA%E5%9B%BE20201206141728.png">
  
    <link rel="alternate" href="/atom.xml" title="Luat doc 社区文章静态页面镜像" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Luat doc 社区文章静态页面镜像</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://doc.luatos.wiki"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-1978" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/06/1978/" class="article-date">
  <time class="dt-published" datetime="2020-12-06T07:14:22.000Z" itemprop="datePublished">2020-12-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Air302接入腾讯物联网通信平台 
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Air302接入腾讯物联网通信平台"><a href="#Air302接入腾讯物联网通信平台" class="headerlink" title="Air302接入腾讯物联网通信平台"></a>Air302接入腾讯物联网通信平台</h1><h3 id="一、前简介"><a href="#一、前简介" class="headerlink" title="一、前简介"></a>一、前简介</h3><p><a target="_blank" rel="noopener" href="https://gitee.com/openLuat/LuatOS/tree/master/bsp/air302">合宙Air302</a>, 是基于移芯EC616的NB-IOT模块。</p>
<p><a target="_blank" rel="noopener" href="https://console.cloud.tencent.com/iothub">腾讯云物联网通信</a>（Internet of Things Hub， IoT Hub）旨在提供一个安全、稳定、高效的连接平台，帮助开发者低成本、快速地实现“设备-设备”、“设备-用户应用”、“设备-云服务”之间可靠、高并发的数据通信。不仅可以实现设备之间的互动、设备的数据上报和配置下发，还可以基于规则引擎和腾讯云产品打通，方便快捷地实现海量设备数据的存储、计算以及智能分析。</p>
<p>MQTT是一个基于客户端-服务器的消息发布/订阅传输协议。MQTT协议是轻量、简单、开放和易于实现的，这些特点使它适用范围非常广泛。在很多情况下，包括受限的环境中，如：机器与机器（M2M）通信和物联网（IoT）。其在，通过卫星链路通信传感器、偶尔拨号的医疗设备、智能家居、及一些小型化设备中已广泛使用。</p>
<h3 id="二、Air302刷入Luat固件"><a href="#二、Air302刷入Luat固件" class="headerlink" title="二、Air302刷入Luat固件"></a>二、Air302刷入Luat固件</h3><p>emmm 这部分还在写，其实已经有了官方教程。</p>
<h3 id="三、腾讯云注册"><a href="#三、腾讯云注册" class="headerlink" title="三、腾讯云注册"></a>三、腾讯云注册</h3><p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/">点击直连腾讯云</a></p>
<h3 id="四、设置腾讯云物联网通信平台"><a href="#四、设置腾讯云物联网通信平台" class="headerlink" title="四、设置腾讯云物联网通信平台"></a>四、设置腾讯云物联网通信平台</h3><p>1、进入腾讯云物联网通信</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150236051_QQ%E6%88%AA%E5%9B%BE20201206141728.png" alt="undefined" title="undefined"></p>
<p>2、点击左上侧的创建新产品</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150312977_QQ%E6%88%AA%E5%9B%BE20201206141834.png" alt="undefined" title="undefined"></p>
<p>3、这里注意，节点类型选设备，产品类型选普通产品（别问为什么，因为这么做简单）</p>
<p>产品名称随便填，认证方式选密钥认证（这篇文章讲的就是密钥接入，主要还是简单）</p>
<p>数据格式建议json，比较方便，描述随意了。</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150323856_QQ%E6%88%AA%E5%9B%BE20201206142003.png" alt="undefined" title="undefined"></p>
<p>4、设置完之后，记录下产品ID</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150343240_QQ%E6%88%AA%E5%9B%BE20201206142251.png" alt="undefined" title="undefined"></p>
<p>5、进到设备列表，这里要添加两个设备，一个设备是air302，另一个设备相当于客户。</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150400600_QQ%E6%88%AA%E5%9B%BE20201206142429.png" alt="undefined" title="undefined"><br>密钥选择物联网通信提供的即可。</p>
<p>6、进入新建好的设备，找到设备密钥一栏。</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150411086_QQ%E6%88%AA%E5%9B%BE20201206142559.png" alt="undefined" title="undefined"><br>点击右侧的显示</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150427848_QQ%E6%88%AA%E5%9B%BE20201206142642.png" alt="undefined" title="undefined"></p>
<p>这里需要注意三个值，client id ；mqtt username；mqtt password；一会儿会用到</p>
<p>7、新建信息转发规则（因为两个设备如果信息不转发是不能收到互相的信息的）</p>
<p>点击左侧的“规则引擎”</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150443315_QQ%E6%88%AA%E5%9B%BE20201206142928.png" alt="undefined" title="undefined"><br>点击新建规则</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150451326_QQ%E6%88%AA%E5%9B%BE20201206142956.png" alt="undefined" title="undefined"></p>
<p>名称随便填 点击确定</p>
<p>设置好后会出现这条规则</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150502405_QQ%E6%88%AA%E5%9B%BE20201206143120.png" alt="undefined" title="undefined"><br>不要启用，点击管理</p>
<p>进入后先点击筛选数据右侧的编辑</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150511405_QQ%E6%88%AA%E5%9B%BE20201206143229.png" alt="undefined" title="undefined"><br> 进入后进行如下的设置</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150521268_QQ%E6%88%AA%E5%9B%BE20201206143430.png" alt="undefined" title="undefined"></p>
<p>字段填*号，意思是全部转发</p>
<p>下面三个框框选择你的产品 设备 订阅地址</p>
<p>设置好后点击确定</p>
<p>接下来点击添加行为操作</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150826691_QQ%E6%88%AA%E5%9B%BE20201206143755.png" alt="undefined" title="undefined"></p>
<p>按照下图设置即可</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150539230_QQ%E6%88%AA%E5%9B%BE20201206144039.png" alt="undefined" title="undefined"></p>
<p>设置好后回到规则引擎，启用规则皆可。</p>
<h3 id="五、编写lua脚本"><a href="#五、编写lua脚本" class="headerlink" title="五、编写lua脚本"></a>五、编写lua脚本</h3><p>这里使用了air302的mqtt2 demo修改</p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/openLuat/LuatOS/blob/master/bsp/air302/demo/mqtt2/main.lua">链接在这里</a></p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150555443_QQ%E6%88%AA%E5%9B%BE20201206145054.png" alt="undefined" title="undefined"></p>
<p>这里放一个腾讯的官方文档，链接地址直接复制就行。<a target="_blank" rel="noopener" href="https://cloud.tencent.com/document/product/634/14630">点我直达</a></p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201206150604781_QQ%E6%88%AA%E5%9B%BE20201206145702.png" alt="undefined" title="undefined"><br>这里改一下就行</p>
<h3 id="六、上传lua脚本"><a href="#六、上传lua脚本" class="headerlink" title="六、上传lua脚本"></a>六、上传lua脚本</h3><p>建议用python脚本上传</p>
<p>python air302.py lfs dlfs</p>
<p>或者python air302.py lfs full</p>
<hr>
<p>上传完之后你就会看见腾讯云物联网通信平台显示设备一上线，客户端那里也可以接收到信息。</p>
<p>至此，air302接入腾讯物联网通信平台就完成了。</p>
<h5 id="有错误还请指出。"><a href="#有错误还请指出。" class="headerlink" title="有错误还请指出。"></a>有错误还请指出。</h5><p>梦程MI</p>
<p>2020.12.6</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://space.bilibili.com/88809897">bilibili</a></p>
<p><a target="_blank" rel="noopener" href="https://www.dreamcstudio.cn/">个人博客</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2020/12/06/1978/" data-id="ckkfmdga6002gvkcgbqgq97u5" data-title="Air302接入腾讯物联网通信平台 " class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/12/07/1992/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
           合宙wifi模块air640w--python烧录Demo
        
      </div>
    </a>
  
  
    <a href="/2020/12/06/1976/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">MIT 6.824 Distributed Systems 分布式系统课程系列3 Lab3-Fault-tolerant Key/Value Service</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2032/01/">一月 2032</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2032/01/01/608/">【置顶】合宙模块资料汇总</a>
          </li>
        
          <li>
            <a href="/2022/12/31/638/">Air系列模块常见问题列表</a>
          </li>
        
          <li>
            <a href="/2021/01/27/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2021/01/27/2420/">ECMAScript(ES6)基本语法介绍（一）</a>
          </li>
        
          <li>
            <a href="/2021/01/26/2417/">Air720S系列_luat二次开发固件（ 底层软件+上层脚本）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 chenxuuu<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>