<!DOCTYPE html>

<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
  <title>合宙Luat WiFi模块AT指令手册及示例（一） [ Luat doc 社区文章静态页面镜像 ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="/css/iLiKE.css">
    
  
  
  
<meta name="generator" content="Hexo 5.3.0"></head>
<body>
    <div class="header">
        <div class="container">
    <div class="menu">
      <div class="menu-left">
        <a href="/">
          <img src="https://iot.openluat.com/assets/img/logo.jpg"></img>
        </a>
      </div>
      <div class="menu-right">
        
          
          
          
          
          
          
          <a href="/">首页</a>
        
          
          
          
          
          
          
          <a href="/archives">归档</a>
        
          
          
          
          
          
          
          <a href="/about">关于</a>
        
      </div>
    </div>
</div>
    </div>
    <div class="container">
        <h1 class="post-title">合宙Luat WiFi模块AT指令手册及示例（一）</h1>
<article class="post markdown-style">
  <h1><b><span style="font-family:'宋体';font-size:16pt;">1</span><span style="font-family:Calibri;font-size:16pt;"> </span><span style="font-family:'宋体';font-size:16pt;"><font>引言</font></span></b></h1>



<h2><b><span style="font-family:'黑体';font-size:14pt;">1</span></b><b><span style="font-family:Arial;font-size:14pt;">.1</span></b><b><span style="font-family:'黑体';font-size:14pt;"><font>概述</font></span></b></h2>



<p><span style="font-family:Arial;font-size:10.5pt;"><font>本手册介绍合宙</font>Luat<font>嵌入式</font><font>Wi-Fi</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>模块</font></span><span style="font-family:Arial;font-size:10.5pt;"><font>的</font>AT+<font>指令通讯协议，</font><font>AT+</font><font>指令协议采用一套基于</font><font>ascii</font><font>的命令行格式指令集，通过</font><font>UART</font><font>接口与</font><font>Wi-Fi</font><font>芯片进行通讯。</font></span></p>

<h2><b><span style="font-family:'黑体';font-size:14pt;">1</span></b><b><span style="font-family:Arial;font-size:14pt;">.2</span></b><b><span style="font-family:'黑体';font-size:14pt;"><font>控制指令协议</font></span></b></h2>



<h3><b><span style="font-family:Arial;font-size:12pt;">1.2.1</span></b><b><span style="font-family:'宋体';font-size:12pt;"><font>命令代码</font></span></b></h3>



<p><span style="font-family:Arial;font-size:10.5pt;"><font>本部分内容为用户命令，用于实现产品的参数配置及联网传输等功能，命令列表如下：</font></span></p>

<p><span style="font-family:Arial;font-size:10.5pt;"><font><br /></font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-miNMWrrN5b8dec3a2c6b0.jpg" class="img-responsive" style="width:657.5px;" alt="attachments-2018-09-miNMWrrN5b8dec3a2c6b0.jpg" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-BkjcXf0x5b8dec44de421.jpg" class="img-responsive" style="width:657.5px;" alt="attachments-2018-09-BkjcXf0x5b8dec44de421.jpg" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-d7BUfYdC5b8dec4c2f3de.jpg" class="img-responsive" style="width:657.5px;" alt="attachments-2018-09-d7BUfYdC5b8dec4c2f3de.jpg" /><span style="font-family:Arial;font-size:10.5pt;"><font><br /></font></span></p>

<p><b><span style="font-family:Arial;font-size:12pt;">1.2.2</span></b><b><span style="font-family:Arial;font-size:12pt;">错误代码</span></b><br /></p>



<p><span style="font-family:Arial;font-size:10.5pt;"><font>本系统支持的错误代码定义如下，用于</font>AT+<font>指令协议中的响应消息：</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-AsHnh5zT5b8dedaab64ee.jpg" class="img-responsive" style="width:655px;" alt="attachments-2018-09-AsHnh5zT5b8dedaab64ee.jpg" /><span style="font-family:Arial;font-size:10.5pt;"><font><br /></font></span></p>

<p><b><span style="font-family:Arial;font-size:16pt;">2  AT指令协议</span></b><br /></p>



<h2><b><span style="font-family:Arial;font-size:14pt;">2.1<font>语法说明</font></span></b></h2>



<p><span style="font-family:Arial;font-size:10.5pt;"><font>本模块使用</font>AT+<font>指令协议作为用户控制协议。</font><font>AT+</font><font>指令协议采用一套基于</font><font>ascii</font><font>的命令行格式指令集，下面对其语法格式和处理流程进行描述。</font></span></p>

<h3><b><span style="font-family:Arial;font-size:12pt;">2.2.1</span></b><b><span style="font-family:Arial;font-size:12pt;"><font>语法格式</font></span></b></h3>



<p style="text-align:justify;"><span style="font-family:Wingdings;font-size:10.5pt;">l </span><span style="font-family:'宋体';font-size:10.5pt;"><font>格式说明</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">&lt;&gt;<font>：表示必须包含的部分</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">[]<font>：表示可选的部分</font></span></p>



<p> </p>

<p style="text-align:justify;"><span style="font-family:Wingdings;font-size:10.5pt;">l </span><span style="font-family:'宋体';font-size:10.5pt;"><font>命令消息</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">AT+[op][para1],[para2],[para3],[para4]</span><span style="font-family:Arial;font-size:10.5pt;">…</span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">AT+<font>：命令消息前缀</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">CMD<font>：指令字符串</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">[op]<font>：指令操作符，当命令需要带参数时，可以指定参数的操作类型，包括：</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">=<font>，参数</font><font>/</font><font>返回值前导符</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">=!<font>，在设置参数类命令中，表示将修改同步至</font><font>flash</font><font>，重启不消失；如果设置命令没有！只有</font><font>=</font><font>，则表示只保存在内存中，重启后参数消失。</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">=?<font>，在设置参数类命令中，查询当前设置</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;"><font>：回车，</font><font>ascii</font><font>字符</font><font>0x0d</font></span></p>



<p> </p>

<p style="text-align:justify;"><span style="font-family:Wingdings;font-size:10.5pt;">l </span><span style="font-family:'宋体';font-size:10.5pt;"><font>响应消息</font></span></p>

<p><span style="font-family:Arial;font-size:10.5pt;">+[op][para1],[para2],[para3],[para4]…</span></p>

<p><span style="font-family:Arial;font-size:10.5pt;">+<font>：响应消息前缀</font></span></p>

<p><span style="font-family:Arial;font-size:10.5pt;">RSP<font>：响应字符串</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">OK  <font>成功</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">ERR <font>失败</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;"><font>：回车，</font><font>ascii</font><font>字符</font><font>0x0d</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;"><font>：换行，</font><font>ascii</font><font>字符</font><font>0x0a</font></span></p>



<p> </p>

<p style="text-align:justify;"><span style="font-family:Wingdings;font-size:10.5pt;">l </span><span style="font-family:'宋体';font-size:10.5pt;"><font>数据类型</font></span></p>

<p><span style="font-family:Arial;font-size:10.5pt;">S</span><span style="font-family:'宋体';font-size:10.5pt;">tring<font>：字符串，以双引号包围，内容不含引号，如：</font></span><span style="font-family:Arial;font-size:10.5pt;">"</span><span style="font-family:'宋体';font-size:10.5pt;">this is a string</span><span style="font-family:Arial;font-size:10.5pt;">"</span></p>

<p><span style="font-family:Arial;font-size:10.5pt;">D</span><span style="font-family:'宋体';font-size:10.5pt;">ec<font>：十进制数字，如：</font><font>10</font></span></p>

<p><span style="font-family:Arial;font-size:10.5pt;">H</span><span style="font-family:'宋体';font-size:10.5pt;">ex<font>：</font><font>16</font><font>进制数字，如：</font><font>a</font></span></p>

<p><span style="font-family:Arial;font-size:10.5pt;">I</span><span style="font-family:'宋体';font-size:10.5pt;">p<font>：</font><font>ip</font><font>地址串，如：</font><font>192.168.0.1</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;">MAC<font>：由</font><font>12</font><font>个</font><font>16</font><font>进制数字组成，如</font><font>001EE3A80102</font></span></p>



<p> </p>

<h4><b><span style="font-family:Arial;font-size:12pt;">2.1.1.1<font>处理流程</font></span></b></h4>



<p><span style="font-family:'宋体';font-size:10.5pt;">AT+<font>指令协议采用命令</font><font>+</font><font>响应的形式，绝大多数指令需要接收方在处理完成后返回响应消息，如果在前一个命令处理过程中，再次接收到新的命令，则将其静静丢弃，不返回任何消息，如下图所示：</font></span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-SCPC1kfC5b8ccc6543cd5.png" class="img-responsive" alt="attachments-2018-09-SCPC1kfC5b8ccc6543cd5.png" /></p>

<p><span style="font-family:'宋体';font-size:10.5pt;"><font>对于某些特殊命令，如</font>AT+SKSND<font>、</font><font>AT+SKRCV</font><font>，需要在指令或响应详细后面传输二进制数据，此时命令传输的接收方暂时进入透明传输状态，开始接收二进制数据流，直到接收到在命令或消息的</font><font>字段中规定长度的数据或等待超时后，自动退出透明传输状态，其流程如下图所示：</font></span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-x2zEQK295b8ccc962fd87.png" class="img-responsive" alt="attachments-2018-09-x2zEQK295b8ccc962fd87.png" /></p>

<p><br /></p>

<p><span style="color:inherit;font-family:inherit;font-size:18px;text-align:justify;"> </span><br /></p>

<h4><b><span style="font-size:12pt;">2.1.1.2</span><span style="font-size:12pt;font-family:'宋体';">格式范例</span></b></h4>

<h4><br /></h4>

<p style="text-align:justify;">范例<span style="color:inherit;font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="color:inherit;font-size:10.5pt;font-family:'宋体';">：返回成功消息</span></p>

<table width="100%"><tr><td>
     <div>
     <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span></p>
     <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p><p><span style="background-color:transparent;color:inherit;font-size:10.5pt;font-family:'宋体';"><br /></span></p><p><span style="background-color:transparent;color:inherit;font-size:10.5pt;font-family:'宋体';">范例</span><span style="background-color:transparent;color:inherit;font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="background-color:transparent;color:inherit;font-size:10.5pt;font-family:'宋体';">：返回错误消息</span></p></div></td></tr></table>

<table width="100%"><tr><td>
     <div>
     <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WJOIN</span></p>
     <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+ERR=-10</span></p>
     <p><span style="color:inherit;font-size:10.5pt;font-family:'宋体';"><br /></span></p><p><span style="color:inherit;font-size:10.5pt;font-family:'宋体';">范例</span><span style="color:inherit;font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="color:inherit;font-size:10.5pt;font-family:'宋体';">：使用输入参数</span></p></div></td></tr></table>

<table width="100%"><tr><td><div><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+UART=9600,1,1,0</span></p><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"><br /></span></p><p><span style="color:inherit;font-size:10.5pt;font-family:'宋体';">范例</span><span style="color:inherit;font-size:10.5pt;font-family:Arial, sans-serif;">4</span><span style="color:inherit;font-size:10.5pt;font-family:'宋体';">：使用参数同步到</span><span style="color:inherit;font-size:10.5pt;font-family:Arial, sans-serif;">Flash</span><span style="color:inherit;font-size:10.5pt;font-family:'宋体';">操作符</span></p></div></td></tr></table>

<table width="100%"><tr><td><div><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+ATPT=!500</span></p><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p><p> </p><p><span style="color:inherit;font-size:10.5pt;font-family:'宋体';">范例</span><span style="color:inherit;font-size:10.5pt;font-family:Arial, sans-serif;">5</span><span style="color:inherit;font-size:10.5pt;font-family:'宋体';">：使用查询操作符</span><span style="color:inherit;font-size:10.5pt;font-family:Arial, sans-serif;">&lt;?&gt;</span></p></div></td></tr></table>

<table width="100%"><tr><td>
     <div>
     <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+ATPT=?</span></p>
     <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK=500</span></p>
     <p> </p><span style="background-color:transparent;color:inherit;font-family:inherit;"> </span>

</div></td></tr></table>

<p><b><span style="font-size:14pt;">2.2</span><span style="font-size:14pt;font-family:'宋体';">指令</span><span style="font-size:14pt;font-family:'宋体';">定义</span></b><br /></p>

<h3><b><span style="font-size:12pt;font-family:Arial, sans-serif;">2.2.1</span><span style="font-size:12pt;font-family:'宋体';">系统控制</span><span style="font-size:12pt;font-family:'宋体';">类</span></b></h3>

<h4><b><span style="font-size:12pt;">2.2.1.1<span style="font-size:7pt;font-family:'Times New Roman';">   
</span></span><span style="font-size:12pt;font-family:'黑体';">空操作指令：</span><span style="font-size:12pt;">AT+</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">空操作，可用于检测程序是否正常响应。</span></p>

<h5><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式（</span><span>ASCII</span></b><b><span style="font-family:'宋体';">）：</span></b></h5>



<table class="MsoNormalTable" width="558"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><span style="font-size:10.5pt;font-family:'宋体';">无</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例：<span style="color:rgb(255,0,0);">（</span></span></b><span style="color:rgb(255,0,0);"><b><span style="font-size:10.5pt;font-family:'宋体';">→表示输入，←表示返回或主动上报，下同</span><span style="font-size:10.5pt;font-family:'宋体';">）</span></b></span></p>

<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span></p>
  </td>
 </tr><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p> </p>

<h4><b><span style="font-size:12pt;">2.2.1.2<span style="font-size:7pt;font-family:'Times New Roman';">   
</span></span><span style="font-size:12pt;font-family:'黑体';">系统复位：</span><span style="font-size:12pt;">AT+Z</span></b></h4>



<h5><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">复位系统。</span></h5>

<h5><span style="font-size:10.5pt;font-family:'宋体';"><br /></span><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式（</span><span>ASCII</span></b><b><span style="font-family:'宋体';">）：</span></b></h5>



<table class="MsoNormalTable" width="562"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+Z</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<h5><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">参数：</span></b><span style="font-family:'宋体';">无</span></h5>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例：</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Ee9nVK745b8df30929fff.jpg" class="img-responsive" style="width:632px;" alt="attachments-2018-09-Ee9nVK745b8df30929fff.jpg" /></p>

<p><br /></p>



<h4><b><span style="font-size:12pt;">2.2.1.3<span style="font-size:7pt;font-family:'Times New Roman';">   
</span></span><span style="font-size:12pt;font-family:'黑体';">设置回显：</span><span style="font-size:12pt;">AT+E</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">切换串口指令回显。</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">格式</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">（</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">）：</span></b></p>

<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+E</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><span style="font-size:10.5pt;font-family:'宋体';">无</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例：</span></b></p>

<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+E</span></p>
  </td>
 </tr><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p> </p>

<h4><b><span style="font-size:12pt;">2.2.1.4<span style="font-size:7pt;font-family:'Times New Roman';">    </span></span><span style="font-size:12pt;font-family:'黑体';">串口进入透传模式：</span><span style="font-size:12pt;">AT+ENTM</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b></p>



<p><span style="font-family:'宋体';">  </span><span style="font-size:10.5pt;font-family:'宋体';">串口进入透明传输模式；系统在透明传输模式下接收到符合触发条件的逃逸字符时退出此模式。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">注意：进入透传前，必须满足下面的条件</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">．联网；</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="font-size:10.5pt;font-family:'宋体';">．创建一个</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">；</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="font-size:10.5pt;font-family:'宋体';">．设置透传的默认连接为当前创建的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+ENTM</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><span style="font-size:10.5pt;font-family:'宋体';">无</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">：</span></b></p>

<p><b><span style="font-size:10.5pt;font-family:'宋体';">  进入透传模式需要以下几个步骤：</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-3llHfieG5b8e1405f1668.jpg" class="img-responsive" style="width:612.5px;" alt="attachments-2018-09-3llHfieG5b8e1405f1668.jpg" /><br /> <b><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></b></p>



<h4><b><span style="font-size:12pt;">2.2.1.5<span style="font-size:7pt;font-family:'Times New Roman';">    </span></span><span style="font-size:12pt;font-family:'黑体';">节能模式：</span><span style="font-size:12pt;">AT+ENTS</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b></p>



<p><span style="font-size:10.5pt;font-family:'宋体';">设置系统进入节能模式（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Wi-Fi OFF/</span><span style="font-size:10.5pt;font-family:'宋体';">睡眠</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">/</span><span style="font-size:10.5pt;font-family:'宋体';">待机状态）。</span></p>

<h5><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式</span></b><b><span style="font-family:'宋体';">（</span></b><b><span style="font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-family:'宋体';">）</span></b><b><span style="font-family:'宋体';">：</span></b></h5>

<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+ENTS=[ps_type],[wake_type],[delay_time],[wake_time]</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<h5><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">参数：</span></b></h5>

<h5><img src="http://oldask.openluat.com/image/show/attachments-2018-09-tisC0lsk5b8e14b0252a9.jpg" class="img-responsive" style="width:575px;" alt="attachments-2018-09-tisC0lsk5b8e14b0252a9.jpg" /></h5>

<p><br /></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">       delay_time</span><span style="font-size:10.5pt;font-family:'宋体';">：延迟时间，单位</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ms</span><span style="font-size:10.5pt;font-family:'宋体';">，有效值</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> 100</span><span style="font-size:10.5pt;font-family:'宋体';">～</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1000</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">       wake_time</span><span style="font-size:10.5pt;font-family:'宋体';">：唤醒时间，单位</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ms</span><span style="font-size:10.5pt;font-family:'宋体';">，有效值</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1000</span><span style="font-size:10.5pt;font-family:'宋体';">～</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">65535</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">注：</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">①、</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Wi-Fi OFF</span><span style="font-size:10.5pt;font-family:'宋体';">节能模式，只有在网络断开的状态下，设置才有效</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">,wake_time</span><span style="font-size:10.5pt;font-family:'宋体';">参数无意义。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">②、</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Standby</span><span style="font-size:10.5pt;font-family:'宋体';">和</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">sleep</span><span style="font-size:10.5pt;font-family:'宋体';">节能模式，都会导致网络连接断开，唤醒会复位。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">③、设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WAKEUP</span><span style="font-size:10.5pt;font-family:'宋体';">管脚唤醒模式，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">wake_time</span><span style="font-size:10.5pt;font-family:'宋体';">参数无意义。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">：</span></b></p>



<p><b><span style="font-size:10.5pt;font-family:'Arial Unicode MS', sans-serif;">1.<span style="font-weight:normal;font-size:7pt;font-family:'Times New Roman';">     
</span></span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Wi-Fi OFF</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">节能模式</span></b></p>



<h5><span style="font-family:'宋体';">进入</span><span style="font-family:Arial, sans-serif;">Wi-Fi OFF</span><span style="font-family:'宋体';">节能模式</span><span style="font-family:'宋体';">：<br /></span></h5>

<h5><span style="font-family:'宋体';"><br /></span><span style="font-family:Arial, sans-serif;">AT+ENTS=0,1,1000,10000<br /></span><span style="font-family:Arial, sans-serif;"> <br /></span><span style="font-family:'宋体';">退出</span><span style="font-family:Arial, sans-serif;">Wi-Fi OFF</span><span style="font-family:'宋体';">节能模式</span><span style="font-family:'宋体';">：<br /></span></h5>

<h5><span style="font-family:'宋体';"><br /></span><span style="font-family:Arial, sans-serif;">AT+ENTS=0,0,100,1000</span></h5>

<h5><span style="font-family:Arial, sans-serif;"><br /></span></h5>

<h5><b><span style="font-size:10.5pt;font-family:'Arial Unicode MS', sans-serif;"><br /></span></b></h5>

<h5><b><span style="font-size:10.5pt;font-family:'Arial Unicode MS', sans-serif;">2.<span style="font-weight:normal;font-size:7pt;font-family:'Times New Roman';">     </span></span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">standy</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">模式</span></b></h5>

<h5><span style="font-family:'宋体';">定时唤醒，单位</span><span style="font-family:Arial, sans-serif;">ms</span><span style="font-family:'宋体';">，</span><span style="font-family:Arial, sans-serif;">(</span><span style="font-family:'宋体';">延迟</span><span style="font-family:Arial, sans-serif;">1s</span><span style="font-family:'宋体';">，</span><span style="font-family:Arial, sans-serif;">10s</span><span style="font-family:'宋体';">后唤醒</span><span style="font-family:Arial, sans-serif;">)<br /></span></h5>

<h5><span style="font-family:Arial, sans-serif;"><br /></span><span style="font-family:Arial, sans-serif;">AT+ENTS=1,1,1000,10000<br /></span></h5>

<h5><span style="font-family:Arial, sans-serif;"><br /></span><span style="font-family:Arial, sans-serif;">WAKEUP</span><span style="font-family:'宋体';">管脚唤醒模式（</span><span style="font-family:Arial, sans-serif;">wake_time</span><span style="font-family:'宋体';">参数无意义）<br /></span></h5>

<h5><span style="font-family:'宋体';"><br /></span><span style="font-family:Arial, sans-serif;">AT+ENTS=1,0,1000,10000</span></h5>

<p><b><span style="font-size:10.5pt;font-family:'Arial Unicode MS', sans-serif;"><br /></span></b></p>

<p><b><span style="font-size:10.5pt;font-family:'Arial Unicode MS', sans-serif;">3.<span style="font-weight:normal;font-size:7pt;font-family:'Times New Roman';">     </span></span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">sleep</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">模式</span></b></p>



<h5><span style="font-family:'宋体';">同</span><span style="font-family:Arial, sans-serif;">standby</span></h5>

<p><span style="font-family:Arial, sans-serif;"> </span><span style="font-family:Arial, sans-serif;font-size:10.5pt;color:inherit;"> </span></p>

<h4><b><span style="font-size:12pt;">2.2.1.6<span style="font-size:7pt;font-family:'Times New Roman';">   
</span></span><span style="font-size:12pt;font-family:'黑体';">恢复出厂设置：</span><span style="font-size:12pt;">AT+RSTF</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">恢复</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> FLASH </span><span style="font-size:10.5pt;font-family:'宋体';">中的出厂设置</span><span style="font-size:10.5pt;font-family:'宋体';">；</span><span style="font-size:10.5pt;font-family:'宋体';">恢复后的设置需系统重启后才能生效。</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+RSTF</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><span style="font-size:10.5pt;font-family:'宋体';">无</span></p>



<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例：</span></b></p>

<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+RSTF</span></p>
  </td>
 </tr><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p> </p>



<p> </p>

<h4><b><span style="font-size:12pt;">2.2.1.7<span style="font-size:7pt;font-family:'Times New Roman';">   
</span></span><span style="font-size:12pt;font-family:'黑体';">将内存中的参数保存至</span><span style="font-size:12pt;">FLASH</span><span style="font-size:12pt;font-family:'黑体';">：</span><span style="font-size:12pt;">AT+PMTF</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">将保存在内存中的参数全部更新至</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> FLASH</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+PMTF</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><span style="font-size:10.5pt;font-family:'宋体';">无</span></p>



<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例：</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-uR2FR6cB5b8e1588720a7.jpg" class="img-responsive" style="width:589px;" alt="attachments-2018-09-uR2FR6cB5b8e1588720a7.jpg" /></p>

<p><br /></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+PMTF</span><span style="font-size:10.5pt;font-family:'宋体';">命令相当于将上述三个命令的参数保存到</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">NV</span><span style="font-size:10.5pt;font-family:'宋体';">里，这样模块重启或关开机后不需要重新设置这些参数。效果等同于将每个命令的参数单独保存（如下所示）：</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-d3IYSXSf5b8e16248cdfc.jpg" class="img-responsive" style="width:634px;" alt="attachments-2018-09-d3IYSXSf5b8e16248cdfc.jpg" /></p>

<p><br /></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"><b> </b></span></p>

<h4><b><span style="font-size:12pt;">2.2.1.8<span style="font-size:7pt;font-family:'Times New Roman';">    </span></span><span style="font-size:12pt;font-family:'黑体';">获取</span><span style="font-size:12pt;">STA</span><span style="font-size:12pt;font-family:'黑体';">模式下无线网卡的物理地址：</span><span style="font-size:12pt;">AT+QMAC</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">获取无线网卡的物理地址。</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+QMAC</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK=</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">   </span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  mac address</span><span style="font-size:10.5pt;font-family:'宋体';">：物理地址，返回格式如下</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Js9rGLug5b8e16a4b84b0.jpg" class="img-responsive" style="width:569.5px;" alt="attachments-2018-09-Js9rGLug5b8e16a4b84b0.jpg" /></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">:</span></b><br /></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+QMAC</span></p>
  </td>
 </tr><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK=286dcd004e7d</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h4><b><span style="font-size:12pt;">2.2.1.9<span style="font-size:7pt;font-family:'Times New Roman';">    </span></span><span style="font-size:12pt;font-family:'黑体';">获取</span><span style="font-size:12pt;">SoftAP</span><span style="font-size:12pt;font-family:'黑体';">模式下无线网卡的物理地址：</span><span style="font-size:12pt;">AT+APMAC</span></b></h4>

<blockquote><span style="font-family:Wingdings;">l</span><span style="font-size:7pt;font-family:'Times New Roman';">  </span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">获取</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SoftAP</span><span style="font-size:10.5pt;font-family:'宋体';">物理地址，仅在</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SoftAP</span><span style="font-size:10.5pt;font-family:'宋体';">、</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">APSTA</span><span style="font-size:10.5pt;font-family:'宋体';">模</span><span style="font-family:'宋体';">式有效</span><span style="font-family:'宋体';">。</span></blockquote>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+APMAC </span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK=</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">   </span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">mac address</span><span style="font-size:10.5pt;font-family:'宋体';">：物理地址，返回格式如下</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-lCbuIueQ5b8e1a07bdd18.jpg" class="img-responsive" style="width:577px;" alt="attachments-2018-09-lCbuIueQ5b8e1a07bdd18.jpg" /></p>

<p><br /></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">:</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p>  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+APMAC</span></p>  </td>
 </tr><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK=2a6dcd004e7d</span></p>
  </td>
 </tr></table>

<p><span> </span></p>

<h4><b><span style="font-size:12pt;">2.2.1.10<span style="font-size:7pt;font-family:'Times New Roman';">    </span></span><span style="font-size:12pt;font-family:'黑体';">获取版本信息：</span><span style="font-size:12pt;">AT+QVER</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">       </span><span style="font-size:10.5pt;font-family:'宋体';">获取系统版本信息，包括硬件版本和固件版本。</span></p>



<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+QVER</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK=</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">firm</span><span style="font-size:10.5pt;font-family:'宋体';">：固件版本信息，</span></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">字符串格式，如</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">" </span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AirM2M_Luat_WiFi_V008_WM</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> "</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">:</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+QVER</span></p>
  </td>
 </tr><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK=AirM2M_Luat_WiFi_V008_WM</span></p>
  </td>
 </tr></table>

<p> </p>

<h3><b><span style="font-size:14pt;">2.2.2<span style="font-size:7pt;font-family:'Times New Roman';">         
</span></span><span style="font-size:14pt;font-family:'宋体';">参数设置</span><span style="font-size:14pt;font-family:'宋体';">类</span></b></h3>



<h4><b><span style="font-size:12pt;">2.2.2.1<span style="font-size:7pt;font-family:'Times New Roman';">         
</span></span><span style="font-size:12pt;font-family:'黑体';">无线网络类型：</span><span style="font-size:12pt;">AT+WPRT</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">       </span><span style="font-size:10.5pt;font-family:'宋体';">设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">/</span><span style="font-size:10.5pt;font-family:'宋体';">查询无线网络类型。</span></p>



<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WPRT=[!?][type]</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK[=type]</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span></b></p>

<p> <span style="font-size:10.5pt;font-family:Arial, sans-serif;">type</span><span style="font-size:10.5pt;font-family:'宋体';">：网络类型</span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-w2RSBg6q5b8e1b7a2f173.jpg" class="img-responsive" style="width:537px;" alt="attachments-2018-09-w2RSBg6q5b8e1b7a2f173.jpg" /></p>

<p><br /></p>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例</span></b><span style="font-family:'宋体';">：</span></p>



<p><span style="font-size:10.5pt;font-family:'宋体';">设置成</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SoftAp</span><span style="font-size:10.5pt;font-family:'宋体';">模式：</span></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WPRT=!2</span></p>
  </td>
 </tr><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p><br /><span style="font-family:Arial, sans-serif;font-size:10.5pt;color:inherit;"> </span><span style="font-family:Arial, sans-serif;font-size:10.5pt;"> </span></p>

<h4><b><span style="font-size:12pt;">2.2.2.2<span style="font-size:7pt;font-family:'Times New Roman';">         
</span></span><span style="font-size:12pt;">STA</span><span style="font-size:12pt;font-family:'黑体';">模式下查询</span><span style="font-size:12pt;">/</span><span style="font-size:12pt;font-family:'黑体';">设置本端</span><span style="font-size:12pt;">IP</span><span style="font-size:12pt;font-family:'黑体';">地址：</span><span style="font-size:12pt;">AT+NIP</span></b></h4>



<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b></p>



<p><span style="font-size:10.5pt;font-family:'宋体';">当无线网卡作为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">STA</span><span style="font-size:10.5pt;font-family:'宋体';">时，该指令用于设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">/</span><span style="font-size:10.5pt;font-family:'宋体';">查询本端</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址。需要说明的是，当地址类型设置为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">DHCP Server</span><span style="font-size:10.5pt;font-family:'宋体';">使能时，使用本命令无法查询无线网卡实际动态分配到的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址信息。查询可以使用</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+LKSTT</span><span style="font-size:10.5pt;font-family:'宋体';">命令。</span></p>



<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+NIP=[!?][type],[ip],[netmask],[gateway],[dns]</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK[=type,ip,netmask,gateway,dns]</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span></b></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Type</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:'宋体';">地址类型</span><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;"><br /></span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-jh8kP9Ru5b8e1dc94f60e.jpg" class="img-responsive" style="width:529px;" alt="attachments-2018-09-jh8kP9Ru5b8e1dc94f60e.jpg" /></p>

<p><br /></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ip</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ip</span><span style="font-size:10.5pt;font-family:'宋体';">地址，数据格式为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">"192.168.1.22"</span><span style="font-size:10.5pt;font-family:'宋体';">，不含引号</span></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">netmask</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:'宋体';">子网掩码，数据格式同</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ip</span><span style="font-size:10.5pt;font-family:'宋体';">地址</span></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">gateway</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:'宋体';">网关地址，数据格式同</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ip</span><span style="font-size:10.5pt;font-family:'宋体';">地址号</span></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">dns</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">DNS</span><span style="font-size:10.5pt;font-family:'宋体';">地址，数据格式同</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ip</span><span style="font-size:10.5pt;font-family:'宋体';">地址</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>



<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">:</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-0giOeaVQ5b8e1fdbb1d31.jpg" class="img-responsive" style="width:687.5px;" alt="attachments-2018-09-0giOeaVQ5b8e1fdbb1d31.jpg" /></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Note：</span><span style="font-size:10.5pt;font-family:'宋体';">上面的测试可以看出，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">DHCP</span><span style="font-size:10.5pt;font-family:'宋体';">使能的情况下，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+NIP=?</span><span style="font-size:10.5pt;font-family:'宋体';">查询出的第二个参数不是模块实际获得的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+LKSTT</span><span style="font-size:10.5pt;font-family:'宋体';">查询到的第二个参数才是。</span> </p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h4><b><span style="font-size:12pt;">2.2.2.3<span style="font-size:7pt;font-family:'Times New Roman';">    </span></span><span style="font-size:12pt;">SoftAP</span><span style="font-size:12pt;font-family:'黑体';">模式下查询</span><span style="font-size:12pt;">/</span><span style="font-size:12pt;font-family:'黑体';">设置本端</span><span style="font-size:12pt;">IP</span><span style="font-size:12pt;font-family:'黑体';">地址：</span><span style="font-size:12pt;">AT+APNIP</span></b></h4>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">功能：</span></b></p>



<p><span style="font-size:10.5pt;font-family:'宋体';">当无线网卡作为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SoftAP</span><span style="font-size:10.5pt;font-family:'宋体';">时，该指令用于设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">/</span><span style="font-size:10.5pt;font-family:'宋体';">查询本端的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址以及使能和禁用</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">DHCP Server</span><span style="font-size:10.5pt;font-family:'宋体';">，在使</span><span style="font-family:'宋体';">能</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">DHCP Server</span><span style="font-size:10.5pt;font-family:'宋体';">时，仍然可以通过该指令查询无线网卡的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址。</span></p>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式（</span></b><b><span style="font-family:'宋体';">ASCII</span></b><b><span style="font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+APNIP=[!?][type],[ip],[netmask],[gateway],[dns]</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK[=type,ip,netmask,gateway,dns]</span></p>
  </td>
 </tr></table>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数</span></b><b><span style="font-family:'宋体';">：</span></b><b><span style="font-family:'宋体';">  </span></b></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">type: </span><span style="font-size:10.5pt;font-family:'宋体';">地址类型</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Ag3HKLyR5b8e2235e87af.jpg" class="img-responsive" style="width:528px;" alt="attachments-2018-09-Ag3HKLyR5b8e2235e87af.jpg" /></p>

<p><br /></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ip: IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址，数据格式为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">"192.168.1.22",</span><span style="font-size:10.5pt;font-family:'宋体';">不含引号</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">netmask:
</span><span style="font-size:10.5pt;font-family:'宋体';">子网掩码，数据格式同</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">gateway:
</span><span style="font-size:10.5pt;font-family:'宋体';">网关地址，数据格式同</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">dns:
DNS</span><span style="font-size:10.5pt;font-family:'宋体';">地址，数据格式同</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">:</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+APNIP=1,192.168.1.1,255.255.255.0,192.168.1.1,192.168.1.1</span></p>
  </td>
 </tr><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p><span style="font-family:'宋体';">具体应用请参考本文档</span><span><span><a> <span style="font-family:'宋体';"><span>创建</span></span>SoftAP<span style="font-family:'宋体';"><span>流程</span></span></a></span></span></p>

<p><span> </span></p>

<h4><b><span style="font-size:12pt;">2.2.2.4<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-size:12pt;font-family:'黑体';">网卡模块域名：</span><span style="font-size:12pt;">AT+DNS</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">/</span><span style="font-size:10.5pt;font-family:'宋体';">查询网卡模块域名，该设置仅在网卡作为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SoftAP</span><span style="font-size:10.5pt;font-family:'宋体';">时有效。</span></p>



<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+DNS=[!?][dnsname]</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK[=dnsname]</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">   </span></b></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">dns name</span><span style="font-size:10.5pt;font-family:'宋体';">：网卡模块域名，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1~31</span><span style="font-size:10.5pt;font-family:'宋体';">个字符，双引号包围</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">:</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+DNS="DNS-FOR-TEST"</span></p>
  </td>
 </tr><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p><br /></p>

<h4><span style="font-weight:bold;">相关文章：</span></h4>

<p><a href="http://oldask.openluat.com/article/42" target="_blank" rel="noreferrer noopener">合宙Luat WiFi模块AT指令手册及示例（二）</a></p>

<p><span style="background-color:rgb(255,255,255);color:rgb(107,173,222);font-size:16px;"><a href="http://oldask.openluat.com/article/43" target="_blank" rel="noreferrer noopener">合宙Luat WiFi模块AT指令手册及示例（三）</a></span><br /><br /></p>

<p><br /><br /></p>




</article>

    <div class="pagenator post-pagenator">
    
    
        <a class="extend prev post-prev" href="/2018/09/04/423/">上一篇</a>
    

    
    <p>上次更新 2021-01-28</p>
    
    
        <a class="extend next post-next" href="/2018/09/04/421/">下一篇</a>
    
    </div>

    </div>
    <div class="footer">
        <div class="container">
    <div class="social">
	<ul class="social-list">
		
			
		
			
		
			
		
			
		
			
		
			
		
			
				
				<li>
					<a href="https://github.com/openluat" title="github" target="_self">
					<i class="fa fa-github"></i>
					</a>
				</li>
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
	</ul>
</div>
    <div class="copyright">
        <span>
            
            
            
                © chenxuuu 2017 - 2021
            
        </span>
    </div>
    <div class="power">
        <span>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> & <a target="_blank" rel="noopener" href="https://github.com/CaiChenghan/iLiKE">iLiKE Theme</a>
        </span>
    </div>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <!--page counter part-->
<script>
function addCount (Counter) {
    url=$('.article-date').attr('href').trim();
    title = $('.article-title').text().trim();
    var query = new AV.Query(Counter);
    //use url as unique idnetfication
    query.equalTo("url",url);
    query.find({
        success: function(results) {
            if (results.length>0) {
                var counter=results[0];
                counter.fetchWhenSave(true); //get recent result
                counter.increment("time");
                counter.save();
            } else {
                var newcounter=new Counter();
                newcounter.set("title",title);
                newcounter.set("url",url);
                newcounter.set("time",1);
                newcounter.save(null,{
                    success: function(newcounter) {
                        //alert('New object created');
                    }, error: function(newcounter,error) {
                        alert('Failed to create');
                    }
                })
            }
        },
        error: function(error) {
            //find null is not a error
            alert('Error:'+error.code+" "+error.message);
        }
    });
}
$(function() {
    var Counter=AV.Object.extend("Counter");
    //only increse visit counting when intering a page
    if ($('.article-title').length == 1) {
       addCount(Counter);
    }
    var query=new AV.Query(Counter);
    query.descending("time");
    // the sum of popular posts
    query.limit(10); 
    query.find({
        success: function(results) {
                for(var i=0;i<results.length;i++) {
                    var counter=results[i];
                    title=counter.get("title");
                    url=counter.get("url");
                    time=counter.get("time");
                    // add to the popularlist widget
                    showcontent=title+" ("+time+")";
                    //notice the "" in href
                    $('.popularlist').append('<li><a href="'+url+'">'+showcontent+'</a></li>');
                }
            },
        error: function(error) {
            alert("Error:"+error.code+" "+error.message);
        }
    });
});
</script>
</div>
    </div>
</body>
</html>
