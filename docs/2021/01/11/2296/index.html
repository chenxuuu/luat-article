<!DOCTYPE html>

<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
  <title>Air530 切换到 Air530Z 注意事项 [ Luat doc 社区文章静态页面镜像 ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="/css/iLiKE.css">
    
  
  
  
  <script src="//cdn1.lncld.net/static/js/3.1.1/av-min.js"></script>
    <script id="leancloud">
      AV.init({
          appId: "6E5zTbTljdUbVW2WkXPsXGJk-gzGzoHsz",
          appKey: "0vsyDKfNpeSECAI70J794ugv"
      });
    </script>

<meta name="generator" content="Hexo 5.3.0"></head>
<body>
    <div class="header">
        <div class="container">
    <div class="menu">
      <div class="menu-left">
        <a href="/">
          <img src="/favicon.ico"></img>
        </a>
      </div>
      <div class="menu-right">
        
          
          
          
          
          
          
          <a href="/">首页</a>
        
          
          
          
          
          
          
          <a href="/archives">归档</a>
        
          
          
          
          
          
          
          <a href="/about">关于</a>
        
      </div>
    </div>
</div>
    </div>
    <div class="container">
        <h1 class="post-title">Air530 切换到 Air530Z 注意事项</h1>
<article class="post markdown-style">
  <h1 id="1-综述"><a href="#1-综述" class="headerlink" title="1. 综述"></a>1. 综述</h1><p>Air530 即将逐渐停产，后续需要切换到Air530Z，Air530Z 和 Air530 基本可以直接替代，但还是存在一些细微差异。</p>
<h1 id="2-优缺点对比"><a href="#2-优缺点对比" class="headerlink" title="2.优缺点对比"></a>2.优缺点对比</h1><p>Air530 和 Air530Z 的优缺点对比如下：</p>
<table>
<thead>
<tr>
<th></th>
<th>Air530</th>
<th>Air530Z</th>
</tr>
</thead>
<tbody><tr>
<td>搜星效果</td>
<td>不支持北斗3</td>
<td>支持北斗3，可以搜到更多卫星辅助定位</td>
</tr>
<tr>
<td>供电范围</td>
<td>供电范围宽，支持2.8-4.2供电，可以用锂电池直接供电</td>
<td>只支持2.7-3.6V供电，推荐用3.3V</td>
</tr>
<tr>
<td>功耗</td>
<td>较高</td>
<td>较低</td>
</tr>
<tr>
<td>有源天线供电</td>
<td>需要外加</td>
<td>内置3.3V有源天线供电</td>
</tr>
<tr>
<td>备份电池充电</td>
<td>需要外加</td>
<td>已内置3.3V备份电池充电电路</td>
</tr>
<tr>
<td>管脚功能</td>
<td>无</td>
<td>增加了ON_OFF 和 BDS_GLONASS</td>
</tr>
</tbody></table>
<h1 id="3-性能参数对比"><a href="#3-性能参数对比" class="headerlink" title="3. 性能参数对比"></a>3. 性能参数对比</h1><table>
<thead>
<tr>
<th>类别</th>
<th>指标项</th>
<th>Air530</th>
<th>Air530Z</th>
<th>单位</th>
</tr>
</thead>
<tbody><tr>
<td>定位时间 [测试条件1]</td>
<td>纯硬件冷启动</td>
<td>≤27.5</td>
<td>≤32</td>
<td>s</td>
</tr>
<tr>
<td>定位时间 [测试条件1]</td>
<td>纯硬件热启动</td>
<td>&lt;1</td>
<td>&lt;1</td>
<td>s</td>
</tr>
<tr>
<td>定位时间 [测试条件1]</td>
<td>纯硬件重新捕获</td>
<td>&lt;1</td>
<td>&lt;1</td>
<td>s</td>
</tr>
<tr>
<td>定位时间 [测试条件1]</td>
<td>软件辅助A-GNSS（秒定位）</td>
<td>&lt;5</td>
<td>&lt;5</td>
<td>s</td>
</tr>
<tr>
<td>灵敏度 [测试条件2]</td>
<td>冷启动</td>
<td>-148</td>
<td>-148</td>
<td>dBm</td>
</tr>
<tr>
<td>灵敏度 [测试条件2]</td>
<td>热启动</td>
<td>-162</td>
<td>-156</td>
<td>dBm</td>
</tr>
<tr>
<td>灵敏度 [测试条件2]</td>
<td>重新捕获</td>
<td>-164</td>
<td>-160</td>
<td>dBm</td>
</tr>
<tr>
<td>灵敏度 [测试条件2]</td>
<td>跟踪</td>
<td>-166</td>
<td>-162</td>
<td>dBm</td>
</tr>
<tr>
<td>精度 [测试条件3]</td>
<td>水平定位精度</td>
<td>2.5</td>
<td>2</td>
<td>m</td>
</tr>
<tr>
<td>精度 [测试条件3]</td>
<td>速度精度</td>
<td>0.1</td>
<td>0.1</td>
<td>m/s</td>
</tr>
<tr>
<td>精度 [测试条件3]</td>
<td>授时精度</td>
<td>30</td>
<td>30</td>
<td>ns</td>
</tr>
<tr>
<td>功耗 [测试条件4]</td>
<td>捕获电流值@3.3v</td>
<td>42.6</td>
<td>33.3</td>
<td>mA</td>
</tr>
<tr>
<td>功耗 [测试条件4]</td>
<td>跟踪电流值@3.3v</td>
<td>36.7</td>
<td>29.2</td>
<td>mA</td>
</tr>
</tbody></table>
<p>从数据上看，两者的性能差别不大，Air530Z 在功耗上略有些优势。</p>
<h1 id="4-管脚功能"><a href="#4-管脚功能" class="headerlink" title="4.管脚功能"></a>4.管脚功能</h1><p>Air530的管脚图如下：</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20200615154210087_22.png"></p>
<p>Air530Z的管脚图如下：</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201024154240934_Air530Z%E7%AE%A1%E8%84%9A%E5%9B%BE.png"></p>
<p>功能有差异的管脚如下：</p>
<table>
<thead>
<tr>
<th><strong>Pin脚编号</strong></th>
<th><strong>Air530定义</strong></th>
<th><strong>差异</strong></th>
<th>Air530Z定义</th>
<th>差异</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>GPS_ANT</td>
<td>用到有源天线时必须从模块外部给天线供电</td>
<td>GPS_ANT</td>
<td>内置3.3V 有源天线供电电源</td>
</tr>
<tr>
<td>3</td>
<td>WAKE</td>
<td>保留管脚，无功能</td>
<td>ON_OFF</td>
<td>输入，内部上拉。拉低关闭模块，正常工作保持高电平或悬空；</td>
</tr>
<tr>
<td>4</td>
<td>VCC</td>
<td>供电输入范围2.8-4.2V</td>
<td>VCC</td>
<td>供电输入范围2.7-3.6V，推荐采用3.3V供电</td>
</tr>
<tr>
<td>5</td>
<td>VBACKUP</td>
<td>VBACKUP必须要有供电，否则模块不工作</td>
<td>VBACKUP</td>
<td>1.若不需要热启动功能，该管脚可悬空；2.已内置备份电池充电电路</td>
</tr>
<tr>
<td>8</td>
<td>TXD</td>
<td>电压是2.8V</td>
<td>TXD</td>
<td>电压是3.3V</td>
</tr>
<tr>
<td>9</td>
<td>RXD</td>
<td>电压是2.8V</td>
<td>RXD</td>
<td>电压是3.3V</td>
</tr>
<tr>
<td>11</td>
<td>MCU_TO_GPS</td>
<td>保留管脚，无功能</td>
<td>BDS_GLONASS</td>
<td>工作模式选择，高电平或悬空时为BDS+GPS;   低电平时为GPS+GLONASS。</td>
</tr>
<tr>
<td>13</td>
<td>1PPS</td>
<td>电压是2.8V</td>
<td>1PPS</td>
<td>电压是3.3V</td>
</tr>
</tbody></table>
<p>主要差异是：</p>
<ol>
<li>Air530的IO电压是2.8V，而Air530Z 的IO电压是3.3V；</li>
<li>Air530Z增加了ON_OFF 管脚和 BDS_GLONASS 管脚；</li>
<li>Air530Z 内置了有源天线供电；</li>
<li>Air530Z 内置了备份电池充电；</li>
</ol>
<h1 id="5-外围电路差异"><a href="#5-外围电路差异" class="headerlink" title="5.外围电路差异"></a>5.外围电路差异</h1><p>Air530 的最简模式参考电路如下：</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201023104518681_Air530%E5%8F%82%E8%80%83%E7%94%B5%E8%B7%AF1.png"></p>
<p>Air530Z的最简模式参考电路如下：</p>
<p><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201024162520645_%E6%97%A0%E6%BA%90%E5%A4%A9%E7%BA%BF.png"></p>
<p>最大的区别是 Air530Z 内置了备份电池充电电路，可以根据需要直接加或不加备份电池；而Air530 的VBACKUP是必须要外加供电的。</p>
<p>Air530Z模块内部集成了3.3V有源天线供电电路和检测电路， 可以给外部有源天线馈电。并根据馈电电流的大小，指示有源天线的状态。有源天线检测电路还提供了短路保护，通过限制给有源天线馈电的电流，保护芯片和有源天线不被损坏。检测电路定义了三种状态，当电流小于设定值时，指示天线开路；当电流大于设定值时，指示天线正常；当电流过大或者发生短路时，指示天线过流。<br>天线接入的默认最小检测电流为 2.5mA，短路保护的限流电流默认为 50mA。</p>
<p><strong>采用有源天线时要注意有源天线的供电范围</strong>，当使用的有源天线的供电是3.3V时，模块可以直接给有源天线进行馈电，参考电路如下所示：<br><strong>3.3V有源天线参考电路</strong><br><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201024161915561_%E6%9C%89%E6%BA%90%E5%A4%A9%E7%BA%BF3.3V.png"></p>
<p>当采用的有源天线供电为5V时，需使用外部供电，此时需串接一颗47nH电感，并联一颗1000pF的电容，同时还需要加一颗100pF 的隔直电容，参考电路如下所示：<br><strong>5V有源天线参考电路</strong><br><img src="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201024162036115_%E6%9C%89%E6%BA%90%E5%A4%A9%E7%BA%BF5V.png"></p>
<h1 id="6-协议"><a href="#6-协议" class="headerlink" title="6.协议"></a>6.协议</h1><p>&emsp;&emsp;Air530支持 NMEA0183 V4.1 协议并兼容以前版本，关于 NMEA0183 V4.1 的详细信息可以参照 NMEA 0183 V4.1 官方文档。</p>
<p>&emsp;&emsp;Air530Z兼容国际标准 NMEA0183 协议，默认支持 NMEA0183 4.1 版本，兼容 V2.3及 V3.X 版本，通过发送命令支持 NMEA0183 V4.0 标准，以及 V2.3 以前的标准。</p>
<p>详细的 NMEA 协议标准参考 <a target="_blank" rel="noopener" href="http://www.nmea.org/">http://www.nmea.org/</a></p>
<h1 id="7-指令区别"><a href="#7-指令区别" class="headerlink" title="7.指令区别"></a>7.指令区别</h1><table>
<thead>
<tr>
<th></th>
<th>Air530</th>
<th>Air530Z</th>
</tr>
</thead>
<tbody><tr>
<td>冷启动</td>
<td>$PGKC030,3,1*2E</td>
<td>$PCAS10,2*1E</td>
</tr>
<tr>
<td>温启动</td>
<td>$PGKC030,2,1*2F</td>
<td>$PCAS10,1*1D</td>
</tr>
<tr>
<td>热启动</td>
<td>$PGKC030,1,1*2C</td>
<td>$PCAS10,0*1C</td>
</tr>
</tbody></table>
<p>更多指令参阅模块指令协议</p>
<h1 id="8-Luat脚本API改动"><a href="#8-Luat脚本API改动" class="headerlink" title="8.Luat脚本API改动"></a>8.Luat脚本API改动</h1><h2 id="8-1-定位"><a href="#8-1-定位" class="headerlink" title="8.1 定位"></a>8.1 定位</h2><p>进行lua开发时，Air530需要使用<code>gps.lua</code>  Air530Z需要使用<code>gpsZkw.lua</code>。</p>
<p>进行AT开发时，Air530使用AT+CGNSPWR=1,2,115200,1打开GPS功能。Air530Z使用AT+CGNSPWR=1打开GPS功能，效果等同于AT+CGNSPWR=1,2,9600,0。</p>
<h2 id="8-2-AGPS辅助定位"><a href="#8-2-AGPS辅助定位" class="headerlink" title="8.2 AGPS辅助定位"></a>8.2 AGPS辅助定位</h2><p>开发AGPS快速定位功能，Air530需要使用<code>agps.lua</code>  Air530Z需要使用<code>agpsZkw.lua</code>。</p>
<p>AT开发没区别，直接使用AT+CGNSAID=31,1,1,1，即可快速定位。</p>
<p>详细的AT指令说明请查看<code>Luat 4G模块AT命令手册.docx</code></p>
<h1 id="9-调试工具"><a href="#9-调试工具" class="headerlink" title="9.调试工具"></a>9.调试工具</h1><p>Air530的调试工具是naviTrack</p>
<p><a target="_blank" rel="noopener" href="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/attachment/20201024180614297_%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7_naviTrack_v1.5.2_170720.rar">调试工具_naviTrack_v1.5.2_170720.rar</a></p>
<p>Air530Z的调试工具是GnssToolKit3</p>
<p><a target="_blank" rel="noopener" href="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/attachment/20201024170220041_%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7_GnssToolKit3.zip">调试工具_GnssToolKit3.zip</a></p>

</article>

    <div class="pagenator post-pagenator">
    
    
        <a class="extend prev post-prev" href="/2021/01/11/2297/">上一篇</a>
    

    
    <p>上次更新 2021-01-28</p>
    
    
        <a class="extend next post-next" href="/2021/01/11/2293/">下一篇</a>
    
    </div>

    </div>
    <div class="footer">
        <div class="container">
    <div class="social">
	<ul class="social-list">
		
			
				
				
				<li>
					<a href="mailto:1178752402@qq.com" title="email" target="_blank">
					<i class="fa fa-email"></i>
					</a>
				</li>
			
		
			
		
			
		
			
		
			
		
			
		
			
				
				<li>
					<a href="https://github.com/CaiChenghan" title="github" target="_self">
					<i class="fa fa-github"></i>
					</a>
				</li>
			
		
			
		
			
		
			
		
			
				
				<li>
					<a href="https://www.jianshu.com/u/565c8e790605" title="jianshu" target="_self">
					<i class="fa fa-jianshu"></i>
					</a>
				</li>
			
		
			
		
			
		
			
		
	</ul>
</div>
    <div class="copyright">
        <span>
            
            
            
                © chenxuuu 2017 - 2021
            
        </span>
    </div>
    <div class="power">
        <span>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> & <a target="_blank" rel="noopener" href="https://github.com/CaiChenghan/iLiKE">iLiKE Theme</a>
        </span>
    </div>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <!--page counter part-->
<script>
function addCount (Counter) {
    url=$('.article-date').attr('href').trim();
    title = $('.article-title').text().trim();
    var query = new AV.Query(Counter);
    //use url as unique idnetfication
    query.equalTo("url",url);
    query.find({
        success: function(results) {
            if (results.length>0) {
                var counter=results[0];
                counter.fetchWhenSave(true); //get recent result
                counter.increment("time");
                counter.save();
            } else {
                var newcounter=new Counter();
                newcounter.set("title",title);
                newcounter.set("url",url);
                newcounter.set("time",1);
                newcounter.save(null,{
                    success: function(newcounter) {
                        //alert('New object created');
                    }, error: function(newcounter,error) {
                        alert('Failed to create');
                    }
                })
            }
        },
        error: function(error) {
            //find null is not a error
            alert('Error:'+error.code+" "+error.message);
        }
    });
}
$(function() {
    var Counter=AV.Object.extend("Counter");
    //only increse visit counting when intering a page
    if ($('.article-title').length == 1) {
       addCount(Counter);
    }
    var query=new AV.Query(Counter);
    query.descending("time");
    // the sum of popular posts
    query.limit(10); 
    query.find({
        success: function(results) {
                for(var i=0;i<results.length;i++) {
                    var counter=results[i];
                    title=counter.get("title");
                    url=counter.get("url");
                    time=counter.get("time");
                    // add to the popularlist widget
                    showcontent=title+" ("+time+")";
                    //notice the "" in href
                    $('.popularlist').append('<li><a href="'+url+'">'+showcontent+'</a></li>');
                }
            },
        error: function(error) {
            alert("Error:"+error.code+" "+error.message);
        }
    });
});
</script>
</div>
    </div>
</body>
</html>
