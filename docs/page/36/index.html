<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Luat doc 社区文章静态页面镜像</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Luat doc 社区文章静态页面镜像">
<meta property="og:type" content="website">
<meta property="og:title" content="Luat doc 社区文章静态页面镜像">
<meta property="og:url" content="https://doc.luatos.wiki/page/36/index.html">
<meta property="og:site_name" content="Luat doc 社区文章静态页面镜像">
<meta property="og:description" content="Luat doc 社区文章静态页面镜像">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="chenxuuu">
<meta property="article:tag" content="lua">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Luat doc 社区文章静态页面镜像" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Luat doc 社区文章静态页面镜像</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://doc.luatos.wiki"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-627" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/12/627/" class="article-date">
  <time class="dt-published" datetime="2019-09-12T05:50:47.000Z" itemprop="datePublished">2019-09-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/12/627/">抓取4G模块底层log</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>有些时候需要抓取模块底层log分析问题，就需要编译<a target="_blank" rel="noopener" href="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/attachment/20200609163652475_jlzE5eVm5d79dbc301ed8_diag.zip">diag.zip</a>工具</p><p>一般情况下diag能够自动识别到设备文件，只需要调用</p><pre>./diag logname</pre><p>就能抓取log。</p><p>也可以手动指定设备文件</p><pre>./diag logname - - /dev/ttyUSB2</pre><p>设备文件名视情况更改</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/09/12/627/" data-id="ckkfmdgcm008yvkcg0tpv2uzd" data-title="抓取4G模块底层log" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-626" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/11/626/" class="article-date">
  <time class="dt-published" datetime="2019-09-11T06:05:44.000Z" itemprop="datePublished">2019-09-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/11/626/">Air系列4G模块AT版本HTTP应用说明</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;div style=&quot;border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;&quot;&gt;
</code></pre>
<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><a name="下载安装"></a><b><span style="font-size:14.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:18.0pt">一、应用概述</span></b><b><span lang="EN-US" style="font-size:
14.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">4G</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">模块支持<span lang="EN-US">HTTP</span>和<span lang="EN-US">HTTPS</span>协议，<span lang="EN-US"> HTTP</span>应用的基本流程如下：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、激活<span lang="EN-US">PDP</span>（参考：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/937">http://oldask.openluat.com/article/937</a></span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">）<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、初始化<span lang="EN-US">HTTP</span>服务<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、设置<span lang="EN-US">HTTP</span>会话参数<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、如果要支持<span lang="EN-US">SSL</span>，配置<span lang="EN-US">SSL</span>参数<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、如果使用<span lang="EN-US">POST</span>命令，输入<span lang="EN-US">POST</span>数据<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、发起<span lang="EN-US">HTTP</span>请求<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、收到<span lang="EN-US">HTTP</span>应答，读取应答数据<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、终止<span lang="EN-US">HTTP</span>服务<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">第<span lang="EN-US">1</span>步出现异常后：参考</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/937">http://oldask.openluat.com/article/937</a></span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;
mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
Calibri;mso-hansi-theme-font:minor-latin">进行异常处理</span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;
mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
Calibri;mso-hansi-theme-font:minor-latin">第</span><span lang="EN-US">2</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;
mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
Calibri;mso-hansi-theme-font:minor-latin">步到第</span><span lang="EN-US">5</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:minor-latin;
mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
Calibri;mso-hansi-theme-font:minor-latin">步，只要输入格式正确，基本不会出问题；如果出错，可以跳过，直接处理第</span><span lang="EN-US">6</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">步的异常</span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">第<span lang="EN-US">6</span>步和第<span lang="EN-US">7</span>步出现异常后：终止<span lang="EN-US">HTTP</span>服务，有选择性的去激活<span lang="EN-US">PDP</span>；然后再有选择性的激活<span lang="EN-US">PDP</span>，从第<span lang="EN-US">2</span>步开始重新执行<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:18.0pt">二、应用流程和异常处理</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">本章节分三部分来介绍<span lang="EN-US">HTTP</span>应用的基本流程和异常处理<span lang="EN-US">&nbsp;&nbsp; <o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">2.1</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、基本流程</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">先来看个正常情况下的<span lang="EN-US">AT</span>命令序列，如果不理解<span lang="EN-US">AT</span>命令含义，请自行参考<span lang="EN-US">AT</span>手册<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CPIN?<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CPIN: READY&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">查询</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">sim</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">卡是否正常</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CGATT?<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CGATT: 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">查询是否附着上数据网络，如果返回</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CGATT: 0</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">表示未附着上</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"CONTYPE","GPRS"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"APN",""&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">设置</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">APN</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">，此处</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">""</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">表示使用从网络端自动获取到的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">APN<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=1,1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">发起激活</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">的请求</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=2,1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">注意：此命令仅仅查询</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">地址，可以不执行</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+SAPBR: 1,1,"10.159.1.145"&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">请求到的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">地址</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPINIT<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPPARA="CID",1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPPARA="URL","www.baidu.com"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPACTION=0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+HTTPACTION: 0,200,153869<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPREAD<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+HTTPREAD: 153869<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">&lt;!DOCTYPE html&gt;<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">......<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">&lt;/html&gt;</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">正常功能以及异常处理的流程图如下<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><img src="http://oldask.openluat.com/image/show/attachments-2019-09-LpXknJR65d788eafc711b.png" class="img-responsive" style="width: 903.5px;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"> <v:shapetype id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter">
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0">
  <v:f eqn="sum @0 1 0">
  <v:f eqn="sum 0 0 @1">
  <v:f eqn="prod @2 1 2">
  <v:f eqn="prod @3 21600 pixelWidth">
  <v:f eqn="prod @3 21600 pixelHeight">
  <v:f eqn="sum @0 0 1">
  <v:f eqn="prod @6 1 2">
  <v:f eqn="prod @7 21600 pixelWidth">
  <v:f eqn="sum @8 21600 0">
  <v:f eqn="prod @7 21600 pixelHeight">
  <v:f eqn="sum @10 21600 0">
 </v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect">
 <o:lock v:ext="edit" aspectratio="t">
</o:lock></v:path></v:stroke></v:shapetype><v:shape id="图片_x0020_1" o:spid="_x0000_i1025" type="#_x0000_t75" alt="http应用.png" style="width:415.8pt;height:364.2pt;visibility:visible;
 mso-wrap-style:square">
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image001.png" o:title="http应用">
</v:imagedata></v:shape><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">在这个过程中，注意事项如下：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、发送<span lang="EN-US">AT+HTTPACTION</span>命令后，收到<span lang="EN-US">OK</span>仅仅表示<span lang="EN-US">4G</span>模块开始处理这条命令，并不表示请求发送成功，收到了应答；只有收到<span lang="EN-US">+HTTPACTION: n,statusCode,len</span>才表示请求结束，<span lang="EN-US">statusCode</span>表示应答成功，其余都表示应答失败<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、<span lang="EN-US">HTTP</span>应答数据的缓冲区大小为<span lang="EN-US">319488</span>字节，如果返回的<span lang="EN-US">http body</span>数据超过了这个大小，则需要断点下载，可以使用<span lang="EN-US">AT+HTTPPARA</span>命令，通过设置<span lang="EN-US">BREAK</span>和<span lang="EN-US">BREAKEND</span>参数来实现<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">2.2</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">TCP</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">被动断开</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;
color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">发送<span lang="EN-US">AT+HTTPACTION</span>命令，和服务器建立了<span lang="EN-US">http</span>连接后，如果连接异常被动断开，会输出<span lang="EN-US">+HTTPACTION:
&lt;Method&gt;,&lt;StatusCode&gt;,&lt;DataLen&gt;</span>提示<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">2.3</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">PDP</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">被动去激活</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;
color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">先来看下<span lang="EN-US">PDP</span>被动去激活时的<span lang="EN-US">AT</span>命令处理序列，如果不理解<span lang="EN-US">AT</span>命令含义，请自行参考<span lang="EN-US">AT</span>手册<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">......&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">此处省略了</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">激活的过程，参考</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">2.1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">章节</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPINIT<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPPARA="CID",1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPPARA="URL","www.baidu.com"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPACTION=0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+SAPBR 1: DEACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">此处</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">PDP</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">被动去激活</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+HTTPACTION: 0,601,0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+HTTPTERM<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:
  Consolas;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
  mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:red;
  border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;padding:0cm">此处无论返回</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">OK</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">、</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">ERROR</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">还是</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">CME ERROR</span></span><span class="pln"><span style="font-size:
  7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:
  宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">，都直接跳过，不用做正确性判断</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+SAPBR=0,1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+CME ERROR: 3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">此处无论返回</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">OK</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">、</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">ERROR</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">还是</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">CME ERROR</span></span><span class="pln"><span style="font-size:
  7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:
  宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">，都直接跳过，不用做正确性判断</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">......&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">此处省略了</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">激活的过程，参考</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">2.1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">章节</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPINIT<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPPARA="CID",1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPPARA="URL","www.baidu.com"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPACTION=0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+HTTPACTION: 0,200,154293</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">参考<span lang="EN-US">2.1</span>章节流程图，右下角的“收到<span lang="EN-US">+SAPBR 1: DEACT</span>错误提示，表示<span lang="EN-US">PDP</span>被动去激活”为异常处理的触发点<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;mso-hansi-font-family:
inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt">三、常见问题</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">3.1</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">HTTP</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">支持多连接吗</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">目前<span lang="EN-US">HTTP</span>仅支持单连接，不支持多连接<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">3.2</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">HTTPS</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">如何使用</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">本文主要描述了基本流程和异常处理，对于<span lang="EN-US">HTTPS</span>使用方法没有做过多描述，这一部分，请自行参考<span lang="EN-US">AT</span>手册<span lang="EN-US">HTTP</span>章节下《使用方法举例》中的<span lang="EN-US">"</span>带<span lang="EN-US">SSL</span>证书验证功能的<span lang="EN-US">HTTPS</span>流程<span lang="EN-US">"</span>使用方法；支持的<span lang="EN-US">SSL</span>参数，请自行参考<span lang="EN-US">AT+SSLCFG</span>命令说明<span lang="EN-US"><o:p></o:p></span></span></p><p>





































































</p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">如果<span lang="EN-US">SSL</span>的参数配置不变，则每次开机运行过程中，</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">仅设置一次即可</span></p>

<div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">3.3</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、重试多次</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">PDP</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">，</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;
mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">HTTP</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-ascii-font-family:inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">应用一直连接失败</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">如果重试多次<span lang="EN-US">PDP</span>激活，<span lang="EN-US">PDP</span>一直激活失败，或者<span lang="EN-US">HTTP</span>一直请求应答失败，则尝试使用如下手段恢复：<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、使用<span lang="EN-US">RESET</span>引脚复位模块<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、极端情况下，直接给模块断电，再上电，<span lang="EN-US">POWER
KEY</span>引脚拉低开机</span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">3.4</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">HTTP</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">如何下载大文件（断点续传）</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">在实际的应用场景中，可能需要下载一个非常大的文件，例如几百<span lang="EN-US">K</span>字节、几<span lang="EN-US">M</span>字节，但是<span lang="EN-US">4G</span>模块中<span lang="EN-US">HTTP</span>可用的内存缓冲区为<span lang="EN-US">300KB</span>左右，当文件大小超过这个缓冲区时，就要使用断点续传功能来分段下载处理了。下面以“下载一个<span lang="EN-US">11975260</span>字节的文件”为例，来说明如何使用断点续传功能（注意：本示例仅仅演示了正常流程的<span lang="EN-US">HTTP AT</span>命令，完整流程以及异常处理流程请参考本文第二章节）<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPINIT<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPPARA="URL","http://openluat-erp.oss-cn-hangzhou.aliyuncs.com/erp_site_file/product_file/sw_file_20200108162920_Luat_V0028_ASR1802.zip"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPACTION=2<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+HTTPACTION: 2,200,0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+HTTPHEAD<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+HTTPHEAD: 454<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">server: aliyunoss<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">date: thu, 16 jan 2020 06:50:58 gmt<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">content-type: application/zip<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">content-length: 11975260&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:
  Consolas;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
  mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:red;
  border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;padding:0cm">此处的</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">11975260</span></span><span class="pln"><span style="font-size:
  7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:
  宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">表示文件总大小</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">connection: keep-alive<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">x-oss-request-id: 5e2007d108f4be32353a92ae<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">accept-ranges: bytes<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">etag: "a5b9cc75c0f26413bbaf00a0fa952bb2"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">last-modified: wed, 08 jan 2020 08:29:29 gmt<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">x-oss-object-type: normal<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">x-oss-hash-crc64ecma: 16925484473913319613<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">x-oss-storage-class: standard<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">content-md5: pbnmdcdyzbo7rwcg+pursg==<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">x-oss-server-time: 111<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">如下红色指令，表示下载文件的第一个</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">300KB</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">数据</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+HTTPPARA="BREAK",0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+HTTPPARA="BREAKEND",307199<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+HTTPACTION=0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+HTTPACTION: 0,206,307200<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+HTTPREAD<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+HTTPREAD: 307200<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">......&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:
  Consolas;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
  mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:red;
  border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;padding:0cm">此处输出</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">307200</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">字节数据</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">如下绿色指令，表示下载文件的第二个</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#00B050;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">300KB</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">数据</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#00B050;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+HTTPPARA="BREAK",307200<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+HTTPPARA="BREAKEND",614399<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+HTTPACTION=0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+HTTPACTION: 0,206,307200<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+HTTPREAD<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+HTTPREAD: 307200<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">......&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:
  Consolas;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
  mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:#00B050;
  border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;padding:0cm">此处输出</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#00B050;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">307200</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">字节数据</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#00B050;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#00B050;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">此处参考上文的红色或者绿色指令，一直循环读取文件的下一个</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">300KB</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">数据，直到读取结束</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">......<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">AT+HTTPTERM<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">OK</span></span><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">3.5</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">HTTP</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">下载的大文件如何可靠的发送给</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">MCU</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">（</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">AT</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">流控）</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;
color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">在<span lang="EN-US">3.4 </span>章节中，如下一段<span lang="EN-US">AT</span>指令<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+HTTPREAD<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+HTTPREAD: 307200<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">......&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:
  Consolas;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
  mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:red;
  border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;padding:0cm">此处输出</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">307200</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">字节数据</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK</span></span><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ......</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">处的<span lang="EN-US">307200</span>字节数据，是模块通过<span lang="EN-US">UART AT</span>口发送给<span lang="EN-US">MCU</span>，在实际传输过程中，由于串口芯片驱动、<span lang="EN-US">MCU</span>端的处理能力、波特率的选择都存在不确定性，可能会导致<span lang="EN-US">MCU</span>端接收到的数据，实际上没有<span lang="EN-US">307200</span>字节，这就要求<span lang="EN-US">UART AT</span>口打开流控功能。模块支持硬流控和软流控两种：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 42pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
微软雅黑;color:#333333;mso-font-kerning:0pt">1.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">硬流控，参考如下步骤操作：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 63pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
微软雅黑;color:#333333;mso-font-kerning:0pt">1)<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">模块和 的<span lang="EN-US">UART</span>口，<span lang="EN-US">CTS</span>、<span lang="EN-US">RTS</span>要交叉相连<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 63pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
微软雅黑;color:#333333;mso-font-kerning:0pt">2)<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">MCU</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">端固件要支持并且打开硬流控功能<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 63pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
微软雅黑;color:#333333;mso-font-kerning:0pt">3)<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">MCU</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">端要发送<span lang="EN-US">AT+IFC=2,2</span>命令到模块端，打开模块端的硬流控功能<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 42pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
微软雅黑;color:#333333;mso-font-kerning:0pt">2.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">软流控，参考如下步骤操作：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 63pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
微软雅黑;color:#333333;mso-font-kerning:0pt">1)<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">MCU</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">端固件要支持并且打开软流控功能<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;">



























</p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 63pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
微软雅黑;color:#333333;mso-font-kerning:0pt">2)<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">MCU</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">端要发送<span lang="EN-US">AT+IFC=1,1</span>命令到模块端，打开模块端的硬流控功能<span lang="EN-US"><o:p></o:p></span></span></p>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/09/11/626/" data-id="ckkfmdgfz00f4vkcg19to5zjp" data-title="Air系列4G模块AT版本HTTP应用说明" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-625" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/05/625/" class="article-date">
  <time class="dt-published" datetime="2019-09-05T10:21:43.000Z" itemprop="datePublished">2019-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/05/625/">Air系列4G模块AT版本MQTT应用说明</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;div style=&quot;border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;&quot;&gt;
</code></pre>
<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><a name="下载安装"></a><b><span style="font-size:14.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:18.0pt">一、应用概述</span></b><b><span lang="EN-US" style="font-size:
14.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">4G</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">模块支持<span lang="EN-US">MQTT</span>和<span lang="EN-US">MQTT
SSl</span>协议，<span lang="EN-US">&nbsp; MQTT</span>应用的基本流程如下：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span lang="EN-US" style="font-size: 9pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">1</span><span style="font-size: 9pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">、激活<span lang="EN-US">PDP</span>（参考：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/937">http://oldask.openluat.com/article/937</a></span><span style="font-size: 9pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">）</span></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、如果要支持<span lang="EN-US">SSL</span>，配置<span lang="EN-US">SSL</span>参数<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、通过<span lang="EN-US">TCP</span>连接到<span lang="EN-US">MQTT</span>服务器<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、发送<span lang="EN-US">MQTT CONNECT</span>到服务器，打开会话连接<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、订阅或者发布消息<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size: 9pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6</span><span style="font-size: 9pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">、出现异常后：关闭<span lang="EN-US">TCP</span>连接，有选择性的去激活<span lang="EN-US">PDP</span>；然后再有选择性的激活<span lang="EN-US">PDP</span>，从第<span lang="EN-US">2</span>步开始执行</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:18.0pt">二、应用流程和异常处理</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">本章节分四部分来介绍<span lang="EN-US">MQTT</span>应用的基本流程和异常处理<span lang="EN-US"> <o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">2.1</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、连接、订阅、发布</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">先来看个正常情况下的<span lang="EN-US">AT</span>命令序列，如果不理解<span lang="EN-US">AT</span>命令含义，请自行参考<span lang="EN-US">AT</span>手册<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CPIN?<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CPIN: READY&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">查询</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">sim</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">卡是否正常</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CGATT?<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CGATT: 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">查询是否附着上数据网络，如果返回</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CGATT: 0</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">表示未附着上</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"CONTYPE","GPRS"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"APN",""&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">设置</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">APN</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">，此处</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">""</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">表示使用从网络端自动获取到的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">APN<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=1,1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">发起激活</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">的请求</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=2,1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">注意：此命令仅仅查询</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">地址，可以不执行</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+SAPBR: 1,1,"10.159.1.145"&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">请求到的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">地址</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONFIG="866289037465624","user","password"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MIPSTART="lbsmqtt.airm2m.com","1884"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNECT OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONNECT=1,60<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNACK OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MSUB="mqtt/sub_topic",0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">SUBACK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MPUB="mqtt/pub_topic",0,0,"publish
  0 payload"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MPUB="mqtt/pub_topic",1,0,"publish
  1 payload"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PUBACK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MPUB="mqtt/pub_topic",2,0,"publish
  2 payload"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PUBREC<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PUBCOMP</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">正常功能以及异常处理的流程图如下<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><img src="http://oldask.openluat.com/image/show/attachments-2019-09-A2393J3U5d774dd06a722.png" class="img-responsive" style="width: 974px;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"> <v:shapetype id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter">
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0">
  <v:f eqn="sum @0 1 0">
  <v:f eqn="sum 0 0 @1">
  <v:f eqn="prod @2 1 2">
  <v:f eqn="prod @3 21600 pixelWidth">
  <v:f eqn="prod @3 21600 pixelHeight">
  <v:f eqn="sum @0 0 1">
  <v:f eqn="prod @6 1 2">
  <v:f eqn="prod @7 21600 pixelWidth">
  <v:f eqn="sum @8 21600 0">
  <v:f eqn="prod @7 21600 pixelHeight">
  <v:f eqn="sum @10 21600 0">
 </v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect">
 <o:lock v:ext="edit" aspectratio="t">
</o:lock></v:path></v:stroke></v:shapetype><v:shape id="图片_x0020_4" o:spid="_x0000_i1025" type="#_x0000_t75" alt="mqtt应用.png" style="width:414.6pt;height:502.8pt;visibility:visible;
 mso-wrap-style:square">
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image001.png" o:title="mqtt应用">
</v:imagedata></v:shape><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">在这个过程中，注意事项如下：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、发送<span lang="EN-US">MIPSTART</span>命令后，收到<span lang="EN-US">OK</span>仅仅表示<span lang="EN-US">4G</span>模块开始处理这条命令，并不表示<span lang="EN-US">TCP</span>已经连接成功；只有收到<span lang="EN-US">CONNECT OK</span>才是成功的应答（其余错误应答，参考<span lang="EN-US">AT</span>手册）<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、发送<span lang="EN-US">MCONNECT</span>命令后，收到<span lang="EN-US">OK</span>仅仅表示<span lang="EN-US">4G</span>模块开始处理这条命令，并不表示<span lang="EN-US">MQTT</span>已经连接成功；只有收到<span lang="EN-US">CONNACK OK</span>才是成功的应答（其余错误应答，参考<span lang="EN-US">AT</span>手册）<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、发送<span lang="EN-US">MSUB</span>命令后，收到<span lang="EN-US">OK</span>仅仅表示<span lang="EN-US">4G</span>模块开始处理这条命令，并不表示<span lang="EN-US">MQTT</span>已经订阅成功；只有收到<span lang="EN-US">SUBACK</span>才是成功的应答（其余错误应答，参考<span lang="EN-US">AT</span>手册）<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、发送<span lang="EN-US">MPUB</span>命令后，如果<span lang="EN-US">QOS</span>不是<span lang="EN-US">0</span>，则收到<span lang="EN-US">OK</span>仅仅表示<span lang="EN-US">4G</span>模块开始处理这条命令，并不表示<span lang="EN-US">MQTT</span>已经发布成功；只有收到<span lang="EN-US">PUBACK</span>（<span lang="EN-US">QOS</span>为<span lang="EN-US">1</span>时）或者<span lang="EN-US">PUBCOMP</span>（<span lang="EN-US">QOS</span>为<span lang="EN-US">2</span>时）才是成功的应答（其余错误应答，参考<span lang="EN-US">AT</span>手册）<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">2.2</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、接收</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">先来看下接收到订阅消息时的<span lang="EN-US">AT</span>命令处理序列，如果不理解<span lang="EN-US">AT</span>命令含义，请自行参考<span lang="EN-US">AT</span>手册<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">......&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">此处省略了</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">激活的过程，参考</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">2.1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">章节</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONFIG="866289037465624","user","password"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MIPSTART="lbsmqtt.airm2m.com","1884"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNECT OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONNECT=1,60<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNACK OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MSUB="mqtt/sub_topic",0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">SUBACK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">在</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">mqtt/sub_topic</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">上收到订阅消息，</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">payload</span></span><span class="pln"><span style="font-size:
  7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:
  宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">为</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">123456<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">默认是直接输出收到的订阅消息，不做缓存</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+MSUB: "mqtt/sub_topic",6
  byte,123456</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">设置订阅消息的处理模式，设置为缓存模式</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">接下来收到订阅消息时，会提示订阅消息的缓存位置</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+MQTTMSGSET=1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">在</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">mqtt/sub_topic</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">上收到一条订阅消息，缓存到位置</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+MSUB: 0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">主动读取缓存的所有订阅消息</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+MQTTMSGGET<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+MSUB:mqtt/sub_topic,6 byte,123456<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">在</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">mqtt/sub_topic</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">上收到一条订阅消息，缓存到位置</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+MSUB: 0<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">在</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">mqtt/sub_topic</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">上收到一条订阅消息，缓存到位置</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+MSUB: 1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">主动读取缓存的所有订阅消息</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+MQTTMSGGET<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+MSUB:mqtt/sub_topic,6 byte,123456<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+MSUB:mqtt/sub_topic,6 byte,123456<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:#0070C0;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">注意事项如下：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:red;mso-font-kerning:
0pt">红色</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">和</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#0070C0;mso-font-kerning:0pt">蓝色</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">两部分演示了处理订阅消息的两种方式，用户根据产品需要自行决定使用何种方式<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、使用</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#0070C0;
mso-font-kerning:0pt">蓝色</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">的缓存方式处理订阅消息时，需要注意最多支持<span lang="EN-US">4</span>条缓存，为了防止消息覆盖导致的丢失，收到订阅消息时，应及时主动读取处理<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">2.3</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">TCP</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">被动断开</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;
color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">先来看下连接被动断开时的<span lang="EN-US">AT</span>命令处理序列，如果不理解<span lang="EN-US">AT</span>命令含义，请自行参考<span lang="EN-US">AT</span>手册<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">......&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">此处省略了</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">激活的过程，参考</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">2.1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">章节</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONFIG="866289037465624","user","password"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MIPSTART="lbsmqtt.airm2m.com","1884"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNECT OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONNECT=1,60<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNACK OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">CLOSED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:
  Consolas;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
  mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:red;
  border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;padding:0cm">此处</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">TCP</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">连接被动断开</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+MIPCLOSE<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+CME ERROR: 767&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">此处无论返回</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">OK</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">、</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">ERROR</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">还是</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">CME ERROR</span></span><span class="pln"><span style="font-size:
  7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:
  宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">，都直接跳过，不用做正确性判断</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONFIG="866289037465624","user","password"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MIPSTART="lbsmqtt.airm2m.com","1884"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNECT OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONNECT=1,60<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNACK OK</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">参考<span lang="EN-US">2.1</span>章节流程图，左下角的“收到<span lang="EN-US">CLOSED</span>错误提示，表示<span lang="EN-US">MQTT</span>的<span lang="EN-US">TCP</span>连接被动断开”为异常处理的触发点<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">2.4</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">PDP</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">被动去激活</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;
color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">先来看下<span lang="EN-US">PDP</span>被动去激活时的<span lang="EN-US">AT</span>命令处理序列，如果不理解<span lang="EN-US">AT</span>命令含义，请自行参考<span lang="EN-US">AT</span>手册<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">......&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">此处省略了</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">激活的过程，参考</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">2.1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">章节</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONFIG="866289037465624","user","password"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MIPSTART="lbsmqtt.airm2m.com","1884"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNECT OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONNECT=1,60<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNACK OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+SAPBR 1: DEACT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">此处</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">PDP</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">被动去激活</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+MIPCLOSE<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">OK&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:
  Consolas;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
  mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:red;
  border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;padding:0cm">此处无论返回</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">OK</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">、</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">ERROR</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">还是</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">CME ERROR</span></span><span class="pln"><span style="font-size:
  7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:
  宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">，都直接跳过，不用做正确性判断</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">AT+SAPBR=0,1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size:7.5pt;
  font-family:Consolas;color:red;border:none windowtext 1.0pt;mso-border-alt:
  none windowtext 0cm;padding:0cm">+CME ERROR: 3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size:7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;
  mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:
  Consolas;mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">此处无论返回</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">OK</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">、</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">ERROR</span></span><span class="pln"><span style="font-size:7.5pt;
  font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:宋体;
  mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">还是</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm">CME ERROR</span></span><span class="pln"><span style="font-size:
  7.5pt;font-family:宋体;mso-ascii-font-family:Consolas;mso-fareast-font-family:
  宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:Consolas;
  mso-bidi-font-family:Consolas;color:red;border:none windowtext 1.0pt;
  mso-border-alt:none windowtext 0cm;padding:0cm">，都直接跳过，不用做正确性判断</span></span><span class="pln"><span lang="EN-US" style="font-size:7.5pt;font-family:Consolas;
  color:red;border:none windowtext 1.0pt;mso-border-alt:none windowtext 0cm;
  padding:0cm"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">......&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">此处省略了</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">激活的过程，参考</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">2.1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">章节</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONFIG="866289037465624","user","password"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MIPSTART="lbsmqtt.airm2m.com","1884"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNECT OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+MCONNECT=1,60<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">CONNACK OK</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><p>







































































</p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">参考<span lang="EN-US">2.1</span>章节流程图，右下角的“收到<span lang="EN-US">+SAPBR 1: DEACT</span>错误提示，表示<span lang="EN-US">PDP</span>被动去激活”为异常处理的触发点</span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;mso-hansi-font-family:
inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt">三、常见问题</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">3.1</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">MQTT</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">支持多连接吗</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">目前<span lang="EN-US">MQTT</span>仅支持单连接，不支持多连接<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">3.2</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">MQTT</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">的遗嘱如何使用</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">通过<span lang="EN-US">AT+MCONFIG</span>命令可以设置遗嘱的<span lang="EN-US">qos</span>、<span lang="EN-US">retain</span>标志、<span lang="EN-US">topic</span>、<span lang="EN-US">payload</span>；在如下几种（包含但是又不仅限于如下情况）情况下，服务器会主动发布遗嘱消息到订阅的客户端：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、模块和服务器通信异常（例如模块突然关机、模块进入了一个没有网络信号的环境等）超过<span lang="EN-US">1.5</span>倍（一般是<span lang="EN-US">1.5</span>倍，但不排除服务器可以修改这个时间）的<span lang="EN-US"> keep alive</span>时间（可以通过<span lang="EN-US">AT+MCONNECT</span>设置<span lang="EN-US">keep alive</span>时间）<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、模块主动执行<span lang="EN-US">AT+MDISCONNECT</span>或者<span lang="EN-US">AT+MIPCLOSE<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">曾经有用户碰到过如下问题：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;">













</p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">模块设置了遗嘱<span lang="EN-US">topic</span>为<span lang="EN-US">/will_topic</span>，遗嘱<span lang="EN-US">payload</span>为<span lang="EN-US">offline</span>，<span lang="EN-US">keep alive</span>时间为<span lang="EN-US">5</span>分钟，模块关机后，等待<span lang="EN-US">2</span>分钟，在等待的<span lang="EN-US">2</span>分钟内，其他订阅了<span lang="EN-US">/will_topic</span>的客户端没有收到遗嘱消息（这是正常的，因为还没有到达<span lang="EN-US">1.5</span>倍的<span lang="EN-US">keep alive</span>时间），<span lang="EN-US">2</span>分钟后，模块开机<span lang="EN-US">mqtt</span>重连成功后，其他客户端却收到了遗嘱消息，这是什么原因呢？这部分机制是服务器端设计的，和模块无关，个人认为：服务器端仍然在维持<span lang="EN-US">2</span>分钟前的那个<span lang="EN-US">mqtt</span>连接，现在模块开机，用同样的<span lang="EN-US">client id</span>重连后，会断开之前维护的相同<span lang="EN-US">client id</span>的<span lang="EN-US">mqtt</span>连接，断开时，就发布了一次遗嘱消息。那这种问题，如何解决呢？模块可以在<span lang="EN-US">AT+MCONNECT</span>返回<span lang="EN-US">CONNACK OK</span>之后，通过<span lang="EN-US">AT+MPUB</span>一个<span lang="EN-US">topic</span>为<span lang="EN-US">/will_topic</span>，<span lang="EN-US">payload</span>为<span lang="EN-US">online</span>的消息，这样订阅了遗嘱<span lang="EN-US">topic</span>的其他客户端就会收到这个<span lang="EN-US">online</span>消息</span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">3.3</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">MQTT SSL</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">如何使用</span></b></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">本文主要描述了基本流程和异常处理，对于</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">MQTT
SSL</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">使用方法没有做过多描述，这一部分，请自行参考</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">AT</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">手册</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">MQTT</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">章节下《使用方法举例》中的</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">"SSL</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">带证书验证流程</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">"</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">使用方法；支持的</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">SSL</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">参数，请自行参考</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">AT+SSLCFG</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">命令说明</span></p>

<p><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt;mso-ansi-language:
EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;
mso-bidi-language:AR-SA">如果<span lang="EN-US">SSL</span>的参数配置不变，则每次开机运行过程中，</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">仅设置一次即可</span><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;"></p>
<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">3.4</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、重试多次</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">PDP</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">，</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;
mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">MQTT</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-ascii-font-family:inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">应用一直连接失败</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">如果重试多次<span lang="EN-US">PDP</span>激活，<span lang="EN-US">PDP</span>一直激活失败，或者<span lang="EN-US">MQTT</span>一直连接失败，则尝试使用如下手段恢复：<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、使用<span lang="EN-US">RESET</span>引脚复位模块<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、极端情况下，直接给模块断电，再上电，<span lang="EN-US">POWER
KEY</span>引脚拉低开机<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><span lang="EN-US"><o:p></o:p></span></span></p>









      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/09/05/625/" data-id="ckkfmdgfz00f3vkcg7fwaflxc" data-title="Air系列4G模块AT版本MQTT应用说明" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-624" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/09/04/624/" class="article-date">
  <time class="dt-published" datetime="2019-09-04T09:26:45.000Z" itemprop="datePublished">2019-09-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/09/04/624/">Air系列4G模块AT版本PDP使用汇总</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;div style=&quot;border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;&quot;&gt;
</code></pre>
<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><a name="下载安装"></a><b><span style="font-size:14.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:18.0pt"="">一、移动设备如何上网</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"=""><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">MS</span><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">（移动台，可以是手机、无线通信模块等设备）要接入外部<span lang="EN-US">PDN</span>（外部分组数据网，包括企业内部网、<span lang="EN-US">Internet</span>、<span lang="EN-US">WAP</span>网站、行业内部网等），首先要具有一个<span lang="EN-US">IP</span>地址，称为<span lang="EN-US">PDP</span>地址，<span lang="EN-US">PDP</span>地址是用于<span lang="EN-US">PDN</span>识别<span lang="EN-US">MS</span>的<span lang="EN-US">PDP</span>上下文时使用的地址。<span lang="EN-US">MS</span>以后就通过这个<span lang="EN-US">IP</span>地址和<span lang="EN-US">PDN</span>进行数据通信，简化的通信图如下：</span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img src="http://oldask.openluat.com/image/show/attachments-2019-09-GTxucYXa5d6f83019861e.png" class="img-responsive" style="width: 50%;"><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"=""><span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"=""><v:shapetype id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter">
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0">
  <v:f eqn="sum @0 1 0">
  <v:f eqn="sum 0 0 @1">
  <v:f eqn="prod @2 1 2">
  <v:f eqn="prod @3 21600 pixelWidth">
  <v:f eqn="prod @3 21600 pixelHeight">
  <v:f eqn="sum @0 0 1">
  <v:f eqn="prod @6 1 2">
  <v:f eqn="prod @7 21600 pixelWidth">
  <v:f eqn="sum @8 21600 0">
  <v:f eqn="prod @7 21600 pixelHeight">
  <v:f eqn="sum @10 21600 0">
 </v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect">
 <o:lock v:ext="edit" aspectratio="t">
</o:lock></v:path></v:stroke></v:shapetype><v:shape id="_x0000_i1027" type="#_x0000_t75" alt="0_1290061989D7Fl (1).gif" style="width:415.2pt;height:104.4pt;visibility:visible;mso-wrap-style:square">
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image001.jpg" o:title="0_1290061989D7Fl (1)">
</v:imagedata></v:shape></span><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";="" mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">上图中各关键节点释义如下<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MS</span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">：移动台，可以是手机、无线通信模块等设备<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BSS</span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">：移动基站<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GGSN</span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">：移动网关，和外部数据网络（包括企业内部网、<span lang="EN-US">Internet</span>、<span lang="EN-US">WAP</span>网站、行业内部网等）相连，<span lang="EN-US">MS</span>经由<span lang="EN-US">GGSN</span>就可以和外部数据网络“自由交谈”了<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PSTN</span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">：外部数据网络（包括企业内部网、<span lang="EN-US">Internet</span>、<span lang="EN-US">WAP</span>网站、行业内部网等）<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">若无特殊说明，在下文中用<span lang="EN-US">4G</span>模块来代表<span lang="EN-US">MS</span>，用基站来代表<span lang="EN-US">BSS</span>，用网关来代表<span lang="EN-US">GGSN</span>，用外部数据网络来代表<span lang="EN-US">PSTN<o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:18.0pt"="">二、什么是</span></b><b><span lang="EN-US" style="font-size:
14.5pt;font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:18.0pt"="">PDP</span></b><b><span style="font-size:14.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:18.0pt"="">上下文</span></b><b><span lang="EN-US" style="font-size:
14.5pt;font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:18.0pt"=""><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">由上文可知，<span lang="EN-US">4G</span>模块首先要请求网关分配一个<span lang="EN-US">IP</span>地址（称为<span lang="EN-US">PDP</span>地址，可以看做是移动网关内部的私有地址），然后才能经由网关和外部数据网络通信<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">这个请求网关分配地址的过程称为激活<span lang="EN-US">PDP </span>，<span lang="EN-US">PDP</span>地址就像开通有线电话时，开通工单上的电话号码，而<span lang="EN-US">PDP</span>上下文就是这张电话开通工单，上面不仅有分配给你的电话号码，还有这部电话对应的其他属性、其他功能的信息。<span lang="EN-US">PDP</span>上下文是一个结构<span lang="EN-US">,</span>而<span lang="EN-US">PDP</span>地址只是结构中的一个成员而已，除此之外，还包括<span lang="EN-US">QoS</span>、<span lang="EN-US">APN</span>等，这些都是<span lang="EN-US">PDP</span>上下文的内容<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">在<span lang="EN-US">PDP</span>上下文中，有一个重要的参数<span lang="EN-US">APN</span>，<span lang="EN-US">APN</span>是<span lang="EN-US">4G</span>模块用来告知网关要访问哪种外部数据网络（外部分组数据网，包括企业内部网、<span lang="EN-US">Internet</span>、<span lang="EN-US">WAP</span>网站、行业内部网等）；还是以刚才的开通电话为例，开通时要求“仅支持省内电话呼入呼出”、“仅支持国内电话呼入呼出”、“可全球呼入呼出”这个就相当于是电话单的<span lang="EN-US">APN<o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:18.0pt"="">三、</span></b><b><span lang="EN-US" style="font-size:
14.5pt;font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:18.0pt"="">4G</span></b><b><span style="font-size:14.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:18.0pt"="">模块如何激活和去激活</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"="">PDP<o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">4G</span><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">模块最多支持<span lang="EN-US">8</span>路<span lang="EN-US">PDP</span>承载，这<span lang="EN-US">8</span>路<span lang="EN-US">PDP</span>承载可以是<span lang="EN-US">8</span>个独立的物理承载，也可以是多路共享<span lang="EN-US">1</span>个物理承载。怎么理解这个概念呢？要用到上文中提到的<span lang="EN-US">APN</span>，激活<span lang="EN-US">PDP</span>请求时，<span lang="EN-US">4G</span>模块会指定一个<span lang="EN-US">APN</span>（如果是通用的<span lang="EN-US">sim</span>卡，在<span lang="EN-US">AT</span>命令中，可以不再主动传入这个<span lang="EN-US">APN</span>参数，因为<span lang="EN-US">4G</span>模块固件会自动从网络端获取到正确的<span lang="EN-US">APN</span>），<span lang="EN-US">PDP</span>承载就根据<span lang="EN-US">APN</span>来决定是“直接使用之前已经激活的同名<span lang="EN-US">APN</span>的<span lang="EN-US">PDP</span>承载”还是“新激活一个<span lang="EN-US">PDP</span>承载”。例如：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">使用如下<span lang="EN-US">AT</span>命令，激活了一路<span lang="EN-US">id</span>为<span lang="EN-US">1</span>、<span lang="EN-US">APN</span>为自动获取的默认<span lang="EN-US">APN</span>的<span lang="EN-US">PDP</span>承载<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"CONTYPE","GPRS"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"APN",""<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=1,1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=2,1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+SAPBR: 1,1,"10.55.40.48"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">再使用如下<span lang="EN-US">AT</span>命令，激活了一路<span lang="EN-US">id</span>为<span lang="EN-US">2</span>、<span lang="EN-US">APN</span>为自动获取的默认<span lang="EN-US">APN</span>的<span lang="EN-US">PDP</span>承载<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,2,"CONTYPE","GPRS"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,2,"APN",""<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=1,2<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=2,2<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+SAPBR: 2,1,"10.55.40.48"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"=""><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">可以看出，<span lang="EN-US">id</span>为<span lang="EN-US">2</span>的<span lang="EN-US">PDP</span>承载，<span lang="EN-US">IP</span>地址和<span lang="EN-US">id</span>为<span lang="EN-US">1</span>的<span lang="EN-US">PDP</span>承载完全一样<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">实际上，激活<span lang="EN-US">id</span>为<span lang="EN-US">2</span>的<span lang="EN-US">PDP</span>承载时，首先检查已经激活的其他路<span lang="EN-US">PDP</span>承载，发现<span lang="EN-US">id</span>为<span lang="EN-US">1</span>的<span lang="EN-US">PDP</span>承载已经激活，并且<span lang="EN-US">APN</span>相同，则直接映射到<span lang="EN-US">id</span>为<span lang="EN-US">1</span>的这一路物理承载，并不会向网关发起激活<span lang="EN-US">PDP</span>的请求；如果<span lang="EN-US">APN</span>不同，才会向网关发起新的<span lang="EN-US">PDP</span>激活请求。在实际应用场景中，我们所用的<span lang="EN-US">sim</span>卡基本上都是多路<span lang="EN-US">PDP</span>共享一个物理承载的情况。<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">接下来我们进入正题，详细讲解一下<span lang="EN-US">4G</span>模块如何激活和去激活<span lang="EN-US">PDP<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">在激活<span lang="EN-US">PDP</span>之前，模块必须先附着上数据网络，<span lang="EN-US">4G</span>模块开机后，会自动去附着数据网络，只要通过<span lang="EN-US">AT+CGATT</span>？轮询是否附着成功即可，附着上数据网络之后，就可以激活<span lang="EN-US">PDP</span>了<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4G</span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">模块支持两套比较常用的通过<span lang="EN-US">AT</span>命令激活<span lang="EN-US">PDP</span>的方式，其中一套提供给<span lang="EN-US">socket</span>使用，另外一套提供给<span lang="EN-US">MQTT</span>、<span lang="EN-US">HTTP</span>、<span lang="EN-US">FTP</span>使用<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">3.1</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">socket</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">应用的激活</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">PDP</span></b><b><span style="font-size:
11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="" 0pt"="">方式</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";="" mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="" 0pt"=""><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">先来看个正常激活<span lang="EN-US">PDP</span>的<span lang="EN-US">AT</span>命令序列，请自行参考<span lang="EN-US">AT</span>手册理解<span lang="EN-US">AT</span>命令意义<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CPIN?<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CPIN: READY&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">查询</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">sim</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">卡是否正常</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CGATT?<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CGATT: 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">查询是否附着上数据网络，如果返回</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CGATT: 0</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">表示未附着上</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CSTT=""&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">设置</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">APN</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">，此处</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">""</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">表示使用从网络端自动获取到的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">APN<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CIICR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">发起激活</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">的请求</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CIFSR<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">10.159.1.145&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">请求到的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">地址</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">激活<span lang="EN-US">PDP</span>的流程图如下<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><img src="http://oldask.openluat.com/image/show/attachments-2019-09-Cgr0E9t75d6f832512251.png" class="img-responsive" style="width: 861px;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""> <v:shape id="图片_x0020_2" o:spid="_x0000_i1026" type="#_x0000_t75" alt="pdp激活（CIICR）.png" style="width:415.2pt;height:479.4pt;visibility:visible;
 mso-wrap-style:square">
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image002.png" o:title="pdp激活（CIICR）">
</v:imagedata></v:shape><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">3.2</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">socket</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">应用的去激活</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">PDP</span></b><b><span style="font-size:
11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="" 0pt"="">方式</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";="" mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="" 0pt"=""><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">PDP</span><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">激活成功之后，就可以发送<span lang="EN-US">socket</span>的<span lang="EN-US">AT</span>命令和服务器通信了，某些情况下，还需要执行去激活<span lang="EN-US">PDP</span>动作（发送<span lang="EN-US">AT+CIPSHUT</span>，参考<span lang="EN-US">3.1</span>章节的流程图），什么情况下，需要去激活<span lang="EN-US">PDP</span>呢？分为被动和主动两种场景：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">、被动场景：如果网络环境发生了异常变化（例如进入了一个没有信号的区域，拔掉天线，拔掉<span lang="EN-US">sim</span>卡等），一段时间后，<span lang="EN-US">4G</span>模块会产生一个<span lang="EN-US">+PDP: DEACT</span>的<span lang="EN-US">URC</span>提示，出现此提示说明已经激活的<span lang="EN-US">PDP</span>承载被网络端去激活了，此时仍然需要向<span lang="EN-US">4G</span>模块发送<span lang="EN-US">AT+CIPSHUT</span>命令主动关闭<span lang="EN-US">PDP <o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、主动场景，分为如下两种情况：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 63pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span><!--[endif]--><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">在激活<span lang="EN-US">PDP</span>过程中，激活失败，此时需要主动去激活，然后再重新激活<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 63pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span><!--[endif]--><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">socket</span><span style="font-size:
9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">应用过程中出现失败，根据项目需要，可以执行主动去激活，然后再重新激活，重新执行<span lang="EN-US">socket</span>应用<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">3.3</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">http</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">mqtt</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">ftp</span></b><b><span style="font-size:
11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="" 0pt"="">应用的激活</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;="" color:#333333;mso-font-kerning:0pt"="">PDP</span></b><b><span style="font-size:
11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="" 0pt"="">方式</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";="" mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="" 0pt"=""><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">先来看个正常激活<span lang="EN-US">PDP</span>的<span lang="EN-US">AT</span>命令序列，请自行参考<span lang="EN-US">AT</span>手册理解<span lang="EN-US">AT</span>命令意义<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CPIN?<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CPIN: READY&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">查询</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">sim</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">卡是否正常</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CGATT?<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CGATT: 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">查询是否附着上数据网络，如果返回</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+CGATT: 0</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">表示未附着上</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"CONTYPE","GPRS"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"APN",""&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">设置</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">APN</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">，此处</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">""</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">表示使用从网络端自动获取到的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">APN<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=1,1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">发起激活</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">的请求</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=2,1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;//</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">注意：此命令仅仅查询</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">地址，可以不执行</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+SAPBR: 1,1,"10.159.1.145"&nbsp;&nbsp;&nbsp; //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">请求到的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">PDP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">地址</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">OK</span></span><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">激活<span lang="EN-US">PDP</span>的流程图如下<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><img src="http://oldask.openluat.com/image/show/attachments-2019-09-YDWDgoSX5d6f833aa8837.png" class="img-responsive" style="width: 861px;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""> <v:shape id="图片_x0020_8" o:spid="_x0000_i1025" type="#_x0000_t75" alt="pdp激活（SAPBR）.png" style="width:415.2pt;height:489pt;visibility:visible;
 mso-wrap-style:square">
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image003.png" o:title="pdp激活（SAPBR）">
</v:imagedata></v:shape><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">3.4</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">http</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">mqtt</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">ftp</span></b><b><span style="font-size:
11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="" 0pt"="">应用的去激活</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;="" color:#333333;mso-font-kerning:0pt"="">PDP</span></b><b><span style="font-size:
11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="" 0pt"="">方式</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";="" mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="" 0pt"=""><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">PDP</span><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">激活成功之后，就可以执行<span lang="EN-US">http</span>、<span lang="EN-US">mqtt</span>、<span lang="EN-US">ftp</span>的<span lang="EN-US">AT</span>命令和服务器通信了，某些情况下，还需要执行去激活<span lang="EN-US">PDP</span>动作（发送<span lang="EN-US">AT+SAPBR=0,1</span>，参考<span lang="EN-US">3.3</span>章节的流程图），什么情况下，需要去激活<span lang="EN-US">PDP</span>呢？分为被动和主动两种场景：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">、被动场景：如果网络环境发生了异常变化（例如进入了一个没有信号的区域，拔掉天线，拔掉<span lang="EN-US">sim</span>卡等），一段时间后，<span lang="EN-US">4G</span>模块会产生一个<span lang="EN-US">+SAPBR 1: DEACT</span>的<span lang="EN-US">URC</span>提示，出现此提示说明已经激活的<span lang="EN-US">PDP</span>承载被网络端去激活了，此时仍然需要向<span lang="EN-US">4G</span>模块发送<span lang="EN-US">AT+SAPBR=0,1</span>命令主动关闭<span lang="EN-US">PDP <o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、主动场景，分为如下两种情况：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 63pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span><!--[endif]--><span style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">在激活<span lang="EN-US">PDP</span>过程中，激活失败，此时需要主动去激活，然后再重新激活<span lang="EN-US"><o:p></o:p></span></span></p><p>



































































































</p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 63pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span><!--[endif]--><span lang="EN-US" style="font-size:9.0pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">http</span><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、<span lang="EN-US">mqtt</span>、<span lang="EN-US">ftp</span>应用过程中出现失败，根据项目需要，可以执行主动去激活，然后再重新激活，重新执行<span lang="EN-US">http</span>、<span lang="EN-US">mqtt</span>、<span lang="EN-US">ftp</span></span><span style="text-indent: -21pt; font-size: 9pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">应用</span></p>

<div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:18.0pt">四、常见问题</span></b><span lang="EN-US" style="font-size:
6.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></p>

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">4.1</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、重试多次</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">PDP</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">一直激活失败</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;
color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">如果重试多次，<span lang="EN-US">PDP</span>一直激活失败，则尝试使用如下手段恢复：<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、使用<span lang="EN-US">RESET</span>引脚复位模块<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、极端情况下，直接给模块断电，再上电，<span lang="EN-US">POWER
KEY</span>引脚拉低开机<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoListParagraph" align="left" style="margin: 0cm 0cm 7.4pt 63pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"=""><span lang="EN-US"><o:p></o:p></span></span></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/09/04/624/" data-id="ckkfmdgfm00euvkcgezstbe37" data-title="Air系列4G模块AT版本PDP使用汇总" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-623" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/29/623/" class="article-date">
  <time class="dt-published" datetime="2019-08-29T09:59:23.000Z" itemprop="datePublished">2019-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/29/623/">安卓7 安卓8 出现三角符号，但是可以上网 解决方案</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;p&gt;&lt;span style=&quot;color: rgb(77, 77, 77); font-family: &amp;quot;Microsoft YaHei&amp;quot;; font-size: 12pt;&quot;&gt;现象：机器开机4G显示三角空框，但是可以正常上网。重启模块后显示正常&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-top:0pt;margin-bottom:12pt;line-height:19pt;font-family:&amp;quot;Microsoft YaHei&amp;quot;;
</code></pre>
<p>font-size:12.0pt;color:#4D4D4D”&gt;原因:模块注册状态广播后，安卓上层没有监听到</p><p style="margin-top:0pt;margin-bottom:12pt;line-height:19pt;font-family:&quot;Microsoft YaHei&quot;;
font-size:12.0pt;color:#4D4D4D">解决方法:</p><p style="margin-top:0pt;margin-bottom:12pt;line-height:19pt;font-family:&quot;Microsoft YaHei&quot;;
font-size:12.0pt;color:#4D4D4D"><b>一.<span style="font-size: 12pt;">Android7</span></b></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 12pt;">方案1：</span><span style="font-size: 16px;">diff –git a/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java b/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">index 34a03bf..962a773 100644</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">— a/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">+++ b/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">@@ -323,7 +323,7 @@ public class MobileSignalController extends SignalController&lt;</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return false;</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case ServiceState.STATE_OUT_OF_SERVICE:</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case ServiceState.STATE_EMERGENCY_ONLY:</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return mServiceState.getDataRegState() == ServiceState.STATE_IN_SERVICE;</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //return mServiceState.getDataRegState() == ServiceState.STATE_IN_SERVICE;</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default:</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return true;</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">方案2</span></font></p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">diff –git<br>a/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java<br>b/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">index<br>03c46e8b37..694599206e 100644</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">—<br>a/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+++<br>b/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">@@ -316,8 +316,16 @@<br>public class MobileSignalController extends SignalController&lt;</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else if<br>(action.equals(TelephonyIntents.ACTION_DEFAULT_DATA_SUBSCRIPTION_CHANGED)) {</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateDataSim();</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; notifyListenersIfNecessary();</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">-&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }else<br>if(action.equals(TelephonyIntents.ACTION_SERVICE_STATE_CHANGED)){</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ServiceState<br>mLastServiceState = ServiceState.newFromBundle(intent.getExtras());</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(mLastServiceState !=<br>null &amp;&amp; (mServiceState == null || mServiceState.getVoiceRegState() !=<br>mLastServiceState.getVoiceRegState())){</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>//Log.v(TAG,”handleBroadcast<br>mLastServiceState:”+mLastServiceState.getVoiceRegState());</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mServiceState =<br>mLastServiceState;</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>updateTelephony();</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp; private void updateDataSim() {</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int defaultDataSub =<br>mDefaults.getDefaultDataSubId();</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">diff –git<br>a/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/NetworkControllerImpl.java<br>b/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/NetworkControllerImpl.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">index<br>622595f765..2fd0cce8ed 100644</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">—<br>a/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/NetworkControllerImpl.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+++<br>b/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/NetworkControllerImpl.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">@@ -396,6 +396,11 @@<br>public class NetworkControllerImpl extends BroadcastReceiver</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // emergency state.</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; recalculateEmergency();</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for<br>(MobileSignalController controller : mMobileSignalControllers.values()) {</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>controller.handleBroadcast(intent);</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int subId =<br>intent.getIntExtra(PhoneConstants.SUBSCRIPTION_KEY,</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>SubscriptionManager.INVALID_SUBSCRIPTION_ID);</p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"></p>
</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;</p><p style="margin-top:0pt;margin-bottom:12pt;line-height:19pt;font-family:&quot;Microsoft YaHei&quot;;
font-size:12.0pt;color:#4D4D4D"><br></p><p style="margin-top:0pt;margin-bottom:12pt;line-height:19pt;font-family:&quot;Microsoft YaHei&quot;;
font-size:12.0pt;color:#4D4D4D"><b>二，安卓八</b></p><p style="margin-top:0pt;margin-bottom:12pt;line-height:19pt;font-family:&quot;Microsoft YaHei&quot;;
font-size:12.0pt;color:#4D4D4D">方案1.</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">diff --git
a/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java
b/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">index
03c46e8b37..694599206e 100644</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">---
a/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+++
b/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">@@ -316,8 +316,16 @@
public class MobileSignalController extends SignalController&lt;</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else if
(action.equals(TelephonyIntents.ACTION_DEFAULT_DATA_SUBSCRIPTION_CHANGED)) {</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; updateDataSim();</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; notifyListenersIfNecessary();</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">-&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }else
if(action.equals(TelephonyIntents.ACTION_SERVICE_STATE_CHANGED)){</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ServiceState
mLastServiceState = ServiceState.newFromBundle(intent.getExtras());</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(mLastServiceState !=
null &amp;&amp; (mServiceState == null || mServiceState.getVoiceRegState() !=
mLastServiceState.getVoiceRegState())){</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
//Log.v(TAG,"handleBroadcast
mLastServiceState:"+mLastServiceState.getVoiceRegState());</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mServiceState =
mLastServiceState;</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
updateTelephony();</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp; private void updateDataSim() {</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int defaultDataSub =
mDefaults.getDefaultDataSubId();</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">diff --git
a/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/NetworkControllerImpl.java
b/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/NetworkControllerImpl.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">index
622595f765..2fd0cce8ed 100644</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">---
a/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/NetworkControllerImpl.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+++
b/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/NetworkControllerImpl.java</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">@@ -396,6 +396,11 @@
public class NetworkControllerImpl extends BroadcastReceiver</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // emergency state.</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; recalculateEmergency();</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for
(MobileSignalController controller : mMobileSignalControllers.values()) {</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
controller.handleBroadcast(intent);</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">+</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int subId =
intent.getIntExtra(PhoneConstants.SUBSCRIPTION_KEY,</p><p style="margin-top:0pt;margin-bottom:12pt;line-height:19pt;font-family:&quot;Microsoft YaHei&quot;;
font-size:12.0pt;color:#4D4D4D">













































































</p><p style="margin:0in;font-family:Calibri;font-size:11.0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
SubscriptionManager.INVALID_SUBSCRIPTION_ID);</p><p style="margin-top:0pt;margin-bottom:12pt;line-height:19pt;font-family:&quot;Microsoft YaHei&quot;;
font-size:12.0pt;color:#4D4D4D">.方案2：</p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java b/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">index 34a03bf..962a773 100644</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">--- a/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">+++ b/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">@@ -323,7 +323,7 @@ public class MobileSignalController extends SignalController&lt;</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return false;</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case ServiceState.STATE_OUT_OF_SERVICE:</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case ServiceState.STATE_EMERGENCY_ONLY:</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">-&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return mServiceState.getDataRegState() == ServiceState.STATE_IN_SERVICE;</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">+&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //return mServiceState.getDataRegState() == ServiceState.STATE_IN_SERVICE;</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;default:</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return true;</span></font></p><p style="margin-top: 0pt; margin-bottom: 12pt; line-height: 19pt;"><font color="#4d4d4d" face="Microsoft YaHei"><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></font></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/29/623/" data-id="ckkfmdgej00dgvkcgabbnexl3" data-title="安卓7 安卓8 出现三角符号，但是可以上网 解决方案" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-622" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/29/622/" class="article-date">
  <time class="dt-published" datetime="2019-08-29T09:43:06.000Z" itemprop="datePublished">2019-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/29/622/">Air720模块IPV6测试方法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
&quot;Times New Roman&quot;">泰尔实验室</span><span lang="EN-US">IPV4V6</span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri">协议测试操作方法</span><span lang="EN-US"><o:p></o:p></span></h1><h2><span style="font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:
Cambria">下载版本（使用</span><span lang="EN-US">SWD</span><span style="font-family:
宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria">工具下载）</span><span lang="EN-US"><o:p></o:p></span></h2><p class="MsoNormal"><span lang="EN-US"><a target="_blank" rel="noopener" href="http://openluat-erp.oss-cn-hangzhou.aliyuncs.com/erp_site_file/product_file/sw_file_20190829101010_asr_release_3mode_%E7%94%A8%E4%BA%8E%E5%AE%A2%E6%88%B7%E8%AE%A4%E8%AF%81.zip">http://openluat-erp.oss-cn-hangzhou.aliyuncs.com/erp_site_file/product_file/sw_file_20190829101010_asr_release_3mode_<span lang="EN-US" style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri"><span lang="EN-US">用于客户认证</span></span>.zip</a><o:p></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p><p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p><h2><span style="font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:
Cambria">更新</span><span lang="EN-US">PC</span><span style="font-family:宋体;
mso-ascii-font-family:Cambria;mso-hansi-font-family:Cambria">端驱动程序：</span><span lang="EN-US"><o:p></o:p></span></h2><p class="MsoNormal"><span lang="EN-US"><a target="_blank" rel="noopener" href="http://openluat-erp.oss-cn-hangzhou.aliyuncs.com/erp_site_file/product_file/sw_file_20190130142309_AOJIE_0403_1802_4AT-COMP-EC20-USB.zip">http://openluat-erp.oss-cn-hangzhou.aliyuncs.com/erp_site_file/product_file/sw_file_20190130142309_AOJIE_0403_1802_4AT-COMP-EC20-USB.zip</a><o:p></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p><h2><span style="font-family:宋体;mso-ascii-font-family:Cambria;mso-hansi-font-family:
Cambria">实验室测试</span><span lang="EN-US"><o:p></o:p></span></h2><p class="MsoListParagraph" style="margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo1"><!--[if !supportLists]--><span lang="EN-US">1，<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp; </span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">禁用</span><span lang="EN-US">PC</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">端所有本地网卡</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo1"><!--[if !supportLists]--><span lang="EN-US">2，<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp; </span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">通过</span><span lang="EN-US">USB</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">连接模块和</span><span lang="EN-US">PC<o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo1"><!--[if !supportLists]--><span lang="EN-US">3，<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp; </span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">测试前准备（关闭相关高层业务）</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US">AT+AUTOAPN=0<o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US">AT+DIALMODE=1<o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US">AT*NTP=0<o:p></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p><p class="MsoNormal"><span lang="EN-US">4</span><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">，</span><span lang="EN-US">4G</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">（</span><span lang="EN-US">FDD/TDD</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">）网络下，测试</span><span lang="EN-US">IPV4</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">，</span><span lang="EN-US">IPV6<o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US">&nbsp;</span></p><p class="MsoNormal"><span lang="EN-US">i</span><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">，模块注册到实验网</span> <span lang="EN-US"><o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri">测试人员打开仪器模拟的</span><span lang="EN-US">LTE</span><span style="font-family:
宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">网络后，输入</span><span lang="EN-US">AT*BAND=5</span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri">，强制注册到</span><span lang="EN-US">LTE</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">网络。通过</span><span lang="EN-US">AT+CGDCONT?</span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri">查询是否注册成功，并记录默认</span><span lang="EN-US">APN</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">。正常情况下</span><span lang="EN-US">10</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">秒内就能注册成功，如果时间较长可以执行</span><span lang="EN-US">AT+CFUN=1,1</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">重新尝试</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal"><span lang="EN-US">ii</span><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">，</span><span lang="EN-US">IPV4</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">测试</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">在</span><span lang="EN-US">windows</span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri">命令行下，按照测试人员要求</span><span lang="EN-US">ping
</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri">相关地址或者域名</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal"><span lang="EN-US">iii</span><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">，</span><span lang="EN-US">IPV6</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">测试</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal" style="text-indent:18.0pt"><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">执行</span><span lang="EN-US">AT+CGDCONT=1,"IPV6","APN"//APN</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">为步骤</span><span lang="EN-US">2</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">中记录的</span><span lang="EN-US">APN<o:p></o:p></span></p><p class="MsoNormal" style="text-indent:18.0pt"><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">执行</span><span lang="EN-US">AT+CGACT=1,1<o:p></o:p></span></p><p class="MsoNormal" style="text-indent:18.0pt"><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">查询</span><span lang="EN-US">AT+CGDCONT? </span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri">返回正常</span><span lang="EN-US">IP</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">地址后</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal" style="text-indent:18.0pt"><span lang="EN-US">&nbsp;</span></p><p class="MsoNormal" style="text-indent:21.0pt;mso-char-indent-count:2.0"><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">在</span><span lang="EN-US">windows</span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri">命令行下，按照测试人员要求</span><span lang="EN-US">ping
</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri">相关地址或者域名</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt"><span lang="EN-US">&nbsp;</span></p><p class="MsoNormal"><span lang="EN-US">5</span><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">，</span><span lang="EN-US">2/3G</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">网络下，测试</span><span lang="EN-US">IPV4</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">，</span><span lang="EN-US">IPV6<o:p></o:p></span></p><p class="MsoNormal"><span lang="EN-US">i</span><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">，模块注册到实验网</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:
Calibri">测试人员打开仪器模拟的</span><span lang="EN-US">2G(3G)</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">网络后，输入</span><span lang="EN-US">AT*BAND=0</span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri">（</span><span lang="EN-US">AT*BAND=1</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">），强制注册到</span><span lang="EN-US">2G</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">（</span><span lang="EN-US">3G</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">）网络。通过</span><span lang="EN-US">AT+CREG?</span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri">查询是否注册成功。</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal"><span lang="EN-US">ii</span><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">，</span><span lang="EN-US">IPV4</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">测试</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal" style="text-indent:10.5pt;mso-char-indent-count:1.0"><span lang="EN-US">PDP</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">激活</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt"><span lang="EN-US">AT+CGDCONT=1,"IP","APN"<o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt"><span lang="EN-US">AT+CGACT=1,1<o:p></o:p></span></p><p class="MsoNormal" style="text-indent:42.0pt;mso-char-indent-count:4.0"><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">查询</span><span lang="EN-US">AT+CGDCONT? </span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri">返回正常</span><span lang="EN-US">IP</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">地址后再进行</span><span lang="EN-US">IPV4</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">测试</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal" style="text-indent:10.5pt;mso-char-indent-count:1.0"><span lang="EN-US">PDP</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">去激活</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal" style="text-indent:10.5pt;mso-char-indent-count:1.0"><span lang="EN-US">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; AT+CGACT=0,1<o:p></o:p></span></p><p class="MsoNormal"><span lang="EN-US">iii</span><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">，</span><span lang="EN-US">IPV6</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">测试</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&nbsp;&nbsp; PDP</span><span style="font-family:宋体;
mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">激活</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt"><span lang="EN-US">AT+CGDCONT=1,"IPV6","APN"<o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:18.0pt"><span lang="EN-US">AT+CGACT=1,1<o:p></o:p></span></p><p class="MsoNormal" style="text-indent:42.0pt;mso-char-indent-count:4.0"><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">查询</span><span lang="EN-US">AT+CGDCONT? </span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-hansi-font-family:Calibri">返回正常</span><span lang="EN-US">IP</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-hansi-font-family:Calibri">地址后再进行</span><span lang="EN-US">IPV6</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">测试</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal" style="text-indent:10.5pt;mso-char-indent-count:1.0"><span lang="EN-US">PDP</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-hansi-font-family:Calibri">去激活</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal" style="text-indent:10.5pt;mso-char-indent-count:1.0"><span lang="EN-US">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; AT+CGACT=0,1</span></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/29/622/" data-id="ckkfmdgcl008xvkcg61pwfjnp" data-title="Air720模块IPV6测试方法" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-621" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/29/621/" class="article-date">
  <time class="dt-published" datetime="2019-08-29T08:03:53.000Z" itemprop="datePublished">2019-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/29/621/">linux 下自动拨号脚本</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/attachment/20200609163652132_St2KMlVq5d6786333cc1b_Airm2mPPP_Auto.sh">Airm2mPPP_Auto.sh</a></p><p>有些同学的linux ，没有rndis 功能，又想持续保持上网，只有用脚本实现检测并重新拨号（毕竟断网是肯定存在的）</p><p>需要注意的点</p><p>1.注意换行符，windows 和 linux 不一样</p><p>2.仅供测试参考</p><p>3.拨号失败，或者，断网重连，本脚本都可自动拨号</p><p>4.此sh ,我是放在/etc/ppp/peer 文件夹下测试</p><p><br></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/29/621/" data-id="ckkfmdgcl008wvkcg7bsq9ut4" data-title="linux 下自动拨号脚本" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-620" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/22/620/" class="article-date">
  <time class="dt-published" datetime="2019-08-22T15:13:18.000Z" itemprop="datePublished">2019-08-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/22/620/">物联网大佬竞赛复习题   答案</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;h2&gt;&lt;/h2&gt;&lt;h4&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;获取信号强度是什么AT指令？&lt;b&gt; AT+CSQ&lt;/b&gt;&lt;/span&gt;&lt;/h4&gt;&lt;h4&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Luat的API，哪个是获取IMEI的？&lt;b&gt;misc.getImei()&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/h4&gt;&lt;h4&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;IMEI一共几位数字？&lt;b&gt;15&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;ICCID 一共几位数字?&lt;b&gt;20&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Air202模块啥价格？&lt;b&gt;10-20元&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Air202尺寸是多大？&lt;b&gt;17.7*14.8&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Luat架构编程采用什么语言？&lt;b&gt;LUA&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;实现基站定位，至少上报几个基站的强度？&lt;b&gt;3&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Air720模块的理论下载速率是多快？&lt;b&gt;150Mbps&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Air720模块有几个UART串口？&lt;b&gt;2&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;下面哪个命令可以获取模块版本号？&lt;b&gt;ATI&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Air202F内置了多大的flash？&lt;b&gt;8M字节&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Air202内置了多大的flash？&lt;b&gt;4M字节&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;LTE 的B5频段是哪个频段？&lt;b&gt;800MHz&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;LTE 的B8频段是哪个频段？&lt;b&gt;900Mhz&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;LTE 的B3频段是哪个频段？&lt;b&gt;1800MHz&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;LTE 的B1频段是哪个频段？&lt;b&gt;2100MHz&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;GSM在全球有几个频段？&lt;b&gt;4&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;获取IMEI是什么AT指令？&lt;b&gt;AT+CGSN&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;下面哪个型号是miniPCIE封装的模块？&lt;b&gt;Air720GI&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;下面哪个型号是LCC封装的模块？&lt;b&gt;Air720G&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;202E模块，当有外置SIM卡存在时，使用外置SIM卡还是内置虚拟卡？&lt;b&gt;外置SIM卡&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;TTS音质效果最好的是哪一款模块？&lt;b&gt;Air202F&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;中国电信支持哪几个4G频段？&lt;b&gt;B1,B3,B5&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;中国联通支持哪几个4G频段？&lt;b&gt;B1,B8&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;合宙自己的模块加工厂在哪里？&lt;b&gt;四川&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;以下哪个4G频段不是国内的？&lt;b&gt;B7&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;以下哪个4G频段不是中国移动的？&lt;b&gt;B8&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;合宙销售的贴片流量卡，最小封装是多大的？&lt;b&gt;2mm*2mm&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;以下哪款4G模块是5模的？&lt;b&gt;Air720H&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;以下哪款4G模块是不支持2G的4G全网通？&lt;b&gt;Air720G&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Lua 的字符串拼接符是什么？&lt;b&gt;..&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;下面哪款模块支持GPRS+GPS?&lt;b&gt;Air800&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;哪个At命令是获取多个临区基站信号强度的？&lt;b&gt;AT+CENG&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;哪个At命令是查询模块是否注册网络成功？&lt;b&gt;AT+CREG&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;0x23翻译为10进制是多少？&lt;b&gt;35&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;0x18范围为10进制是多少？&lt;b&gt;24&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;25翻译为16进制是多少？&lt;b&gt;0x19&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;一个字节有几个bit？&lt;b&gt;8&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Luat用来获取VBAT的电池电压的接口是哪个？&lt;b&gt;misc.getVbatt()&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Luat用来获取当前小区的mcc的接口是哪个？&lt;b&gt;net.getMcc()&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Luat用来从网络获取时钟的模块是哪个？&lt;b&gt;NTP&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Luat用来打包各种数据类型的信令报文的功能模块是哪个？&lt;b&gt;PACK&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;国内有哪几个GSM频段？&lt;b&gt;900MHz,1800MHz&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;通过哪个管脚给模块供电？&lt;b&gt;VBAT&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Air202的供电电压范围是多少？&lt;b&gt;3.5-4.2V&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;哪个是中国的定位系统？&lt;b&gt;北斗&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Air202的待机电流在什么范围？&lt;b&gt;1-5毫安之间&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Air720模块的理论上传速率是多快？&lt;b&gt;50Mbps&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;以下哪个是合宙模块烧录和调试工具？&lt;b&gt;LuaTools&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;以下哪个是语音呼叫电话的At指令？&lt;b&gt;ATD&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;以下哪个是查询IMSI的At指令？&lt;b&gt;AT+CGSN&lt;/b&gt;&lt;/span&gt;&lt;/h4&gt;
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/22/620/" data-id="ckkfmdgck008vvkcg9ax885k0" data-title="物联网大佬竞赛复习题   答案" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-619" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/22/619/" class="article-date">
  <time class="dt-published" datetime="2019-08-22T11:37:13.000Z" itemprop="datePublished">2019-08-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/22/619/">物联网大佬竞赛复习题</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>1 . 获取信号强度是什么AT指令？</p><p>2 . Luat的API，哪个是获取IMEI的？</p><p>3 . IMEI一共几位数字？</p><p>4 . ICCID 一共几位数字?</p><p>5 . Air202模块啥价格？</p><p>6 . Air202尺寸是多大？</p><p>7 . Luat架构编程采用什么语言？</p><p>8 . 实现基站定位，至少上报几个基站的强度？</p><p>9 . Air720模块的理论下载速率是多快？</p><p>10. Air720模块有几个UART串口？</p><p>11. 下面哪个命令可以获取模块版本号？</p><p>12. Air202F内置了多大的flash？</p><p>13. Air202内置了多大的flash？</p><p>14. LTE 的B5频段是哪个频段？</p><p>15. LTE 的B8频段是哪个频段？</p><p>16. LTE 的B3频段是哪个频段？</p><p>17. LTE 的B1频段是哪个频段？</p><p>18. GSM在全球有几个频段？</p><p>19. 获取IMEI是什么AT指令？</p><p>20. 下面哪个型号是miniPCIE封装的模块？</p><p>21. 下面哪个型号是LCC封装的模块？</p><p>22. 202E模块，当有外置SIM卡存在时，使用外置SIM卡还是内置虚拟卡？</p><p>23. TTS音质效果最好的是哪一款模块？</p><p>24. 中国电信支持哪几个4G频段？</p><p>25. 中国联通支持哪几个4G频段？</p><p>26. 合宙自己的模块加工厂在哪里？</p><p>27. 以下哪个4G频段不是国内的？</p><p>28. 以下哪个4G频段不是中国移动的？</p><p>29. 合宙销售的贴片流量卡，最小封装是多大的？</p><p>30. 以下哪款4G模块是5模的？</p><p>31. 以下哪款4G模块是不支持2G的4G全网通？</p><p>32. Lua 的字符串拼接符是什么？</p><p>33. 下面哪款模块支持GPRS+GPS?</p><p>34. 哪个At命令是获取多个临区基站信号强度的？</p><p>35. 哪个At命令是查询模块是否注册网络成功？</p><p>36. 0x23翻译为10进制是多少？</p><p>37. 0x18范围为10进制是多少？</p><p>38. 25翻译为16进制是多少？</p><p>39. 一个字节有几个bit？</p><p>40. Luat用来获取VBAT的电池电压的接口是哪个？</p><p>41. Luat用来获取当前小区的mcc的接口是哪个？</p><p>42. Luat用来从网络获取时钟的模块是哪个？</p><p>43. Luat用来打包各种数据类型的信令报文的功能模块是哪个？</p><p>44. 国内有哪几个GSM频段？</p><p>45. 通过哪个管脚给模块供电？</p><p>46. Air202的供电电压范围是多少？</p><p>47. 哪个是中国的定位系统？</p><p>48. Air202的待机电流在什么范围？</p><p>49. Air720模块的理论上传速率是多快？</p><p>50. 以下哪个是合宙模块烧录和调试工具？</p><p>51. 以下哪个是语音呼叫电话的At指令？</p><p>52. 以下哪个是查询IMSI的At指令？</p><p><br></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/22/619/" data-id="ckkfmdgck008uvkcghw11d7tu" data-title="物联网大佬竞赛复习题" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-618" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/22/618/" class="article-date">
  <time class="dt-published" datetime="2019-08-22T08:48:54.000Z" itemprop="datePublished">2019-08-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/22/618/">关于Windows/Linux系统下如何用USB口抓取4G模块底层Trace？</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h5 id="4G模块-无论固件是AT版本，还是lua版本，用户都可以用USB口抓取模块底层trace"><a href="#4G模块-无论固件是AT版本，还是lua版本，用户都可以用USB口抓取模块底层trace" class="headerlink" title="4G模块 无论固件是AT版本，还是lua版本，用户都可以用USB口抓取模块底层trace"></a>4G模块 无论固件是AT版本，还是lua版本，用户都可以用USB口抓取模块底层trace</h5><h2 id="1-windows系统下"><a href="#1-windows系统下" class="headerlink" title="1.windows系统下"></a>1.windows系统下</h2><h3 id="1-1前提条件"><a href="#1-1前提条件" class="headerlink" title="1.1前提条件"></a>1.1前提条件</h3><p>####1.1.1电脑安装好Windows USB驱动<br>USB驱动下载链接：<a target="_blank" rel="noopener" href="http://www.openluat.com/Product/file/asr1802/lte.html">http://www.openluat.com/Product/file/asr1802/lte.html</a><br>安装教程：<a target="_blank" rel="noopener" href="http://doc.openluat.com/article/463/0">http://doc.openluat.com/article/463/0</a></p>
<h4 id="1-1-2下载luatools工具"><a href="#1-1-2下载luatools工具" class="headerlink" title="1.1.2下载luatools工具"></a>1.1.2下载luatools工具</h4><p>luatools下载链接：<a target="_blank" rel="noopener" href="http://www.openluat.com/Product/file/asr1802/luatools-redirect.html">http://www.openluat.com/Product/file/asr1802/luatools-redirect.html</a><br>备注：Luatools工具无需安装，直接运行luatools.exe文件即可使用; 工具下载后，如图所示，先升级工具版本至最新，确认模式是4G，<img src="http://doc.openluat.com/api/static/editormd/uploads/5_45695.png"></p>
<h3 id="1-2通过模块USB口抓底层日志"><a href="#1-2通过模块USB口抓底层日志" class="headerlink" title="1.2通过模块USB口抓底层日志"></a>1.2通过模块USB口抓底层日志</h3><h4 id="1-2-1步骤如下"><a href="#1-2-1步骤如下" class="headerlink" title="1.2.1步骤如下"></a>1.2.1步骤如下</h4><h5 id="1-2-1-1如果板子上有模块USB接口（类似4G开发板），就用USB线将开发板USB口和PC连接；如果是贴片模块，就需要在模块端飞线，VBUS、USB-DM、USB-DP、GND-4个引脚引出来，接电脑。"><a href="#1-2-1-1如果板子上有模块USB接口（类似4G开发板），就用USB线将开发板USB口和PC连接；如果是贴片模块，就需要在模块端飞线，VBUS、USB-DM、USB-DP、GND-4个引脚引出来，接电脑。" class="headerlink" title="1.2.1.1如果板子上有模块USB接口（类似4G开发板），就用USB线将开发板USB口和PC连接；如果是贴片模块，就需要在模块端飞线，VBUS、USB_DM、USB_DP、GND 4个引脚引出来，接电脑。"></a>1.2.1.1如果板子上有模块USB接口（类似4G开发板），就用USB线将开发板USB口和PC连接；如果是贴片模块，就需要在模块端飞线，VBUS、USB_DM、USB_DP、GND 4个引脚引出来，接电脑。</h5><h5 id="1-2-1-2如果抓取的trace内容与RNDIS功能无关，建议禁用RNDIS功能，避免上报太多垃圾信息，方法：Windows-设备管理器，点击网络适配器，右键，禁用设备。"><a href="#1-2-1-2如果抓取的trace内容与RNDIS功能无关，建议禁用RNDIS功能，避免上报太多垃圾信息，方法：Windows-设备管理器，点击网络适配器，右键，禁用设备。" class="headerlink" title="1.2.1.2如果抓取的trace内容与RNDIS功能无关，建议禁用RNDIS功能，避免上报太多垃圾信息，方法：Windows 设备管理器，点击网络适配器，右键，禁用设备。"></a>1.2.1.2如果抓取的trace内容与RNDIS功能无关，建议禁用RNDIS功能，避免上报太多垃圾信息，方法：Windows 设备管理器，点击网络适配器，右键，禁用设备。</h5><p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_19558.png"></p>
<h5 id="1-2-1-3双击luatools-exe，打开luatools工具软件，升级工具，检查设置"><a href="#1-2-1-3双击luatools-exe，打开luatools工具软件，升级工具，检查设置" class="headerlink" title="1.2.1.3双击luatools.exe，打开luatools工具软件，升级工具，检查设置"></a>1.2.1.3双击luatools.exe，打开luatools工具软件，升级工具，检查设置</h5><h5 id="1-2-1-4模块上电开机，正常连接且模块开机后，设备管理器会出现以下端口"><a href="#1-2-1-4模块上电开机，正常连接且模块开机后，设备管理器会出现以下端口" class="headerlink" title="1.2.1.4模块上电开机，正常连接且模块开机后，设备管理器会出现以下端口"></a>1.2.1.4模块上电开机，正常连接且模块开机后，设备管理器会出现以下端口</h5><p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_16664.png"></p>
<h5 id="luatools工具正常显示如下"><a href="#luatools工具正常显示如下" class="headerlink" title="luatools工具正常显示如下"></a>luatools工具正常显示如下</h5><p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_63324.png"></p>
<h5 id="1-2-1-5抓取和保存底层日志"><a href="#1-2-1-5抓取和保存底层日志" class="headerlink" title="1.2.1.5抓取和保存底层日志"></a>1.2.1.5抓取和保存底层日志</h5><p><img src="http://doc.openluat.com/api/static/editormd/uploads/5_30707.png"><br>工具显示如图，表示正在抓底层日志；日志自动保存在工具文件夹的\log\4gdiag子文件夹下，保存格式为.sdl文件，抓完trace，关闭luatools工具即可。</p>
<p>备注：点文件-&gt;保存trace，可以修改一些设置。比如单个trace文件的大小，以及trace保存的文件夹。一般无需修改，用缺省值即可。<br><img src="http://doc.openluat.com/api/static/editormd/uploads/5_13483.png"></p>
<h2 id="2-Linux系统下抓取模块底层日志"><a href="#2-Linux系统下抓取模块底层日志" class="headerlink" title="2.Linux系统下抓取模块底层日志"></a>2.Linux系统下抓取模块底层日志</h2><h3 id="2-1步骤如下："><a href="#2-1步骤如下：" class="headerlink" title="2.1步骤如下："></a>2.1步骤如下：</h3><h4 id="2-1-1将附件diagsaver-c编译后生成的程序放到主控系统上"><a href="#2-1-1将附件diagsaver-c编译后生成的程序放到主控系统上" class="headerlink" title="2.1.1将附件diagsaver.c编译后生成的程序放到主控系统上"></a>2.1.1将附件diagsaver.c编译后生成的程序放到主控系统上</h4><h4 id="2-1-2主控加载模块的USB虚拟串口成功以后，在命令行下立即运行：DiagSaver-dev-ttyUSB2-log文件路径-（如果只有一个shell就加上-amp-切换到后台）"><a href="#2-1-2主控加载模块的USB虚拟串口成功以后，在命令行下立即运行：DiagSaver-dev-ttyUSB2-log文件路径-（如果只有一个shell就加上-amp-切换到后台）" class="headerlink" title="2.1.2主控加载模块的USB虚拟串口成功以后，在命令行下立即运行：DiagSaver /dev/ttyUSB2 log文件路径 （如果只有一个shell就加上&amp;切换到后台）"></a>2.1.2主控加载模块的USB虚拟串口成功以后，在命令行下立即运行：DiagSaver /dev/ttyUSB2 log文件路径 （如果只有一个shell就加上&amp;切换到后台）</h4><h4 id="2-1-3测试完成以后把diagsaver保存的日志（运行时指定的路径）导出"><a href="#2-1-3测试完成以后把diagsaver保存的日志（运行时指定的路径）导出" class="headerlink" title="2.1.3测试完成以后把diagsaver保存的日志（运行时指定的路径）导出"></a>2.1.3测试完成以后把diagsaver保存的日志（运行时指定的路径）导出</h4><p>附件：<a target="_blank" rel="noopener" href="http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/attachment/20200609163652806_0tpikkrK5d5e55aba7907_DiagSaver.c" title="DiagSaver.c">DiagSaver.c</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/22/618/" data-id="ckkfmdgck008tvkcg5box261p" data-title="关于Windows/Linux系统下如何用USB口抓取4G模块底层Trace？" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/35/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/34/">34</a><a class="page-number" href="/page/35/">35</a><span class="page-number current">36</span><a class="page-number" href="/page/37/">37</a><a class="page-number" href="/page/38/">38</a><span class="space">&hellip;</span><a class="page-number" href="/page/59/">59</a><a class="extend next" rel="next" href="/page/37/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2032/01/">一月 2032</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2032/01/01/608/">【置顶】合宙模块资料汇总</a>
          </li>
        
          <li>
            <a href="/2022/12/31/638/">Air系列模块常见问题列表</a>
          </li>
        
          <li>
            <a href="/2021/01/27/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2021/01/27/2420/">ECMAScript(ES6)基本语法介绍（一）</a>
          </li>
        
          <li>
            <a href="/2021/01/26/2417/">Air720S系列_luat二次开发固件（ 底层软件+上层脚本）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 chenxuuu<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>