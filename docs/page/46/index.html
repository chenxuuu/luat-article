<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Luat doc 社区文章静态页面镜像</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Luat doc 社区文章静态页面镜像">
<meta property="og:type" content="website">
<meta property="og:title" content="Luat doc 社区文章静态页面镜像">
<meta property="og:url" content="https://doc.luatos.wiki/page/46/index.html">
<meta property="og:site_name" content="Luat doc 社区文章静态页面镜像">
<meta property="og:description" content="Luat doc 社区文章静态页面镜像">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="chenxuuu">
<meta property="article:tag" content="lua">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Luat doc 社区文章静态页面镜像" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Luat doc 社区文章静态页面镜像</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://doc.luatos.wiki"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-525" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/20/525/" class="article-date">
  <time class="dt-published" datetime="2018-11-19T22:26:34.000Z" itemprop="datePublished">2018-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/20/525/">写直白的代码</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><span class="z">编译自：<a href="http://matthewrocklin.com/blog/work/2018/01/27/write-dumb-code" target="_blank">http://matthewrocklin.com/blog/work/2018/01/27/write-dumb-code</a></span>
                                        <span class="y">作者： Matthew Rocklin</span>            <br class="clear">
                <span class="z">原创：<a href="http://lctt.github.io/" target="_blank">LCTT</a> <a href="https://linux.cn/article-10254-1.html" target="_blank">https://linux.cn/article-10254-1.html</a></span>
                        <span class="y">译者： Tian, Hua</span></p><p><img style="width: 1149px;" src="https://dn-linuxcn.qbox.me/data/attachment/album/201811/20/000830bnjj4ojw6ea8e8t8.jpg"><br></p><p>为开源项目作贡献最好的方式是为它减少代码，我们应致力于写出让新手程序员无需注释就容易理解的代码，让维护者也无需花费太多精力就能着手维护。</p>
<p>在学生时代，我们会更多地用复杂巧妙的技术去挑战新的难题。首先我们会学习循环，然后是函数啊，类啊，等等。当我们到达一定高的程度，能用更高级的技术写更长的程序，我们会因此受到称赞。此刻我们发现老司机们用 monads 而新手们用 loop 作循环。</p>
<p>之后我们毕业找了工作，或者和他人合作开源项目。我们用在学校里学到的各种炫技寻求并骄傲地给出解决方案的代码实现。</p>
<p><em>哈哈，我能扩展这个项目，并实现某牛 X 功能啦，我这里能用继承啦，我太聪明啦！</em></p>
<p>我们实现了某个小的功能，并以充分的理由觉得自己做到了。现实项目中的编程却不是针对某某部分的功能而言。以我个人的经验而言，以前我很开心的去写代码，并骄傲地向世界展示我所知道的事情。有例为证，作为对某种编程技术的偏爱，这是用另一种元编程语言构建的一个 <a href="https://github.com/mrocklin/matrix-algebra" class="ext" rel="external nofollow" target="_blank">线性代数语言</a><span class="sup">[1]</span>，注意，这么多年以来一直没人愿意碰它。</p>
<p>在维护了更多的代码后，我的观点发生了变化。</p>
<ol><li>我们不应去刻意探求如何构建软件。软件是我们为解决问题所付出的代价，那才是我们真实的目的。我们应努力为了解决问题而构建较小的软件。</li><li>我们应使用尽可能简单的技术，那么更多的人就越可能会使用，并且无需理解我们所知的高级技术就能扩展软件的功能。当然，在我们不知道如何使用简单技术去实现时，我们也可以使用高级技术。</li></ol>
<p>所有的这些例子都不是听来的故事。我遇到的大部分人会认同某些部分，但不知为什么，当我们向一个新项目贡献代码时又会忘掉这个初衷。直觉里用复杂技术去构建的念头往往会占据上风。</p>
<h3 id="toc_1">软件是种投入</h3>
<p>你写的每行代码都要花费人力。写代码当然是需要时间的，也许你会认为只是你个人在奉献，然而这些代码在被审阅的时候也需要花时间理解，对于未来维护和开发人员来说，他们在维护和修改代码时同样要花费时间。否则他们完全可以用这时间出去晒晒太阳，或者陪伴家人。</p>
<p>所以，当你向某个项目贡献代码时，请心怀谦恭。就像是，你正和你的家人进餐时，餐桌上却没有足够的食物，你只索取你所需的部分，别人对你的自我约束将肃然起敬。以更少的代码去解决问题是很难的，你肩负重任的同时自然减轻了别人的重负。</p>
<h3 id="toc_2">技术越复杂越难维护</h3>
<p>作为学生，逐渐使用高端技术证明了自己的价值。这体现在，首先我们有能力在开源项目中使用函数，接着是类，然后是高阶函数，monads 等等。我们向同行显示自己的解决方案时，常因自己所用技术高低而感到自豪或卑微。</p>
<p>而在现实中，和团队去解决问题时，情况发生了逆转。现在，我们致力于尽可能使用简单的代码去解决问题。简单方式解决问题使新手程序员能够以此扩展并解决其他问题。简单的代码让别人容易上手，效果立竿见影。我们藉以只用简单的技术去解决难题，从而展示自己的价值。</p>
<p><em>看，我用循环替代了递归函数并且一样达到了我们的需求。当然我明白这是不够聪明的做法，不过我注意到新手同事在这里会遇上麻烦，我觉得这种改变将有所帮助吧。</em></p>
<p>如果你是个好的程序员，你不需要证明你知道很多炫技。相应的，你可以通过用一个简单的方法解决一个问题来显示你的价值，并激发你的团队在未来的时间里去完善它。</p>
<h3 id="toc_3">当然，也请保持节制</h3>
<p>话虽如此，过于遵循 “用简单的工具去构建” 的教条也会降低生产力。通常用递归会比用循环解决问题更简单，用类或 monad 才是正确的途径。还有两种情况另当别论，一是只是只为满足自我而创建的系统，或者是别人毫无构建经验的系统。</p>
<hr>
<p>via: <a href="http://matthewrocklin.com/blog/work/2018/01/27/write-dumb-code" class="ext" rel="external nofollow" target="_blank">http://matthewrocklin.com/blog/work/2018/01/27/write-dumb-code</a></p>
<p>作者：<a href="http://matthewrocklin.com" class="ext" rel="external nofollow" target="_blank">Matthew Rocklin</a><span class="sup">[2]</span> 译者：<a href="https://github.com/plutoid" class="ext" rel="external nofollow" target="_blank">plutoid</a><span class="sup">[3]</span> 校对：<a href="https://github.com/wxy" class="ext" rel="external nofollow" target="_blank">wxy</a><span class="sup">[4]</span></p>
<p>本文由 <a href="https://github.com/LCTT/TranslateProject" class="ext" rel="external nofollow" target="_blank">LCTT</a><span class="sup">[5]</span> 原创编译，<a target="_blank" rel="noopener" href="https://linux.cn/article-10254-1.html?utm_source=rss&amp;utm_medium=rss">Linux中国</a><span class="sup">[6]</span> 荣誉推出</p><hr width="80%">[1]: https://github.com/mrocklin/matrix-algebra<br>[2]: http://matthewrocklin.com<br>[3]: https://github.com/plutoid<br>[4]: https://github.com/wxy<br>[5]: https://github.com/LCTT/TranslateProject<br>[6]: https://linux.cn/article-10254-1.html?utm_source=rss&amp;utm_medium=rss<p><span class="y"></span></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/11/20/525/" data-id="ckkfmdgbt006uvkcg58d02wml" data-title="写直白的代码" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-524" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/18/524/" class="article-date">
  <time class="dt-published" datetime="2018-11-18T08:23:40.000Z" itemprop="datePublished">2018-11-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/18/524/">air202luat二次开发设备接入阿里云（二）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p style="color: rgb(51, 51, 51);">记录设备接入阿里云的过程</p><p style="color: rgb(51, 51, 51);">二，上传数据</p><p style="color: rgb(51, 51, 51);">上一篇介绍了如何连接阿里云，物联网设备用到最多的就是数据上传，这次我们用air202上传数据到阿里云</p><p style="color: rgb(51, 51, 51);">1，添加功能</p><p style="color: rgb(51, 51, 51);">由于上一次我们选择的是自定义，所以我们的产品是空的没有任何功能，我们为他添加一个功能用于数据上传</p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-9asjFTFn5bf119d29482d.png" style="width: 551.5px;" class="img-responsive">由于设备上没有传感器，所以我选择了上传设备的工作电压</p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-9VoxtWNP5bf11a51773b2.png" style="width: 267.5px;" class="img-responsive"></p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-OJYlXX5Y5bf11b05044ec.png" style="width: 554px;" class="img-responsive"></p><p style="color: rgb(51, 51, 51);">2，修改代码</p><p style="color: rgb(51, 51, 51);">根据demo与api</p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-WzpROIDE5bf11d7a5f557.png" style="width: 381.5px;" class="img-responsive"></p><p style="color: rgb(51, 51, 51);">这里是我们要上传的<span style="color: rgb(55, 61, 65); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-size: 16px; font-weight: 700;">Topic</span></p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-4F3Z4dIR5bf11f9b8da8d.png" style="width: 593.5px;" class="img-responsive"></p><p style="color: rgb(51, 51, 51);">也就是对应我们产品里的<span style="color: rgb(55, 61, 65); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif; font-size: 16px; font-weight: 700;">Topic</span><br><img src="http://oldask.openluat.com/image/show/attachments-2018-11-A2pFduyt5bf11ffa8e35b.png" style="width: 567px;" class="img-responsive"><br></p><p style=""><font color="#333333">qos1data就是我们要上传的值</font><br></p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-eA72VQvL5bf11da015f7e.png" style="width: 634.5px;" class="img-responsive"></p><p style="color: rgb(51, 51, 51);">根据阿里云的文档我们需要构造一个json用于上传数据</p><p style="color: rgb(51, 51, 51);">首先我们创建一个table，params里是我们要上传的参数</p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-1ibQY7T45bf11cc3082b6.png" style="width: 225px;" class="img-responsive"></p><p style="color: rgb(51, 51, 51);">根据api</p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-n7O9Q9Un5bf11bbda6241.png" style="width: 187px;" class="img-responsive">我们需要调用misc这个库，之前的代码引用过这个库了所以我们可以直接使用</p><p style="color: rgb(51, 51, 51);">由于api返回值是mv所以我们把他转成v，然后赋值给我们的表里的参数</p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-6vK2OPKM5bf11f25f2836.png" style="width: 232px;" class="img-responsive">然后将table转换成json</p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-b0Gub56Q5bf11f5c3d953.png" style="width: 176.5px;" class="img-responsive">所以最终我们的代码应该修改成</p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-HCH4z1DP5bf120c105378.png" style="width: 615.5px;" class="img-responsive">3，烧录代码</p><p style="color: rgb(51, 51, 51);">之前写了就不再赘述</p><p style="color: rgb(51, 51, 51);">4，查看数据</p><p style="color: rgb(51, 51, 51);">打开我们阿里云的控制台找到我们的设备，发现我们的数据上传成功</p><p style="color: rgb(51, 51, 51);"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-3aWlahRh5bf1215f8ad1b.png" style="width: 564.5px;" class="img-responsive"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-ehHtGq6L5bf1216e68fd2.png" style="width: 316.5px;" class="img-responsive"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/11/18/524/" data-id="ckkfmdgbt006tvkcgdw8u48i0" data-title="air202luat二次开发设备接入阿里云（二）" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-523" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/18/523/" class="article-date">
  <time class="dt-published" datetime="2018-11-18T07:29:33.000Z" itemprop="datePublished">2018-11-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/18/523/">air202luat二次开发设备接入阿里云（一）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;p&gt;代码传送门&lt;a href=&quot;https://github.com/chain01/luat_test/blob/master/%E8%AE%BA%E5%9D%9B%E8%BF%9E%E6%8E%A5%E9%98%BF%E9%87%8C%E4%BA%91%E6%95%99%E7%A8%8B%E4%BB%A3%E7%A0%81/testALiYun.lua&quot; target=&quot;_blank&quot;&gt;源码&lt;/a&gt;&lt;/p&gt;&lt;p&gt;记录设备接入阿里云的过程&lt;/p&gt;&lt;p&gt;一，连接阿里云&lt;/p&gt;&lt;p&gt;1，创建产品&lt;/p&gt;&lt;p&gt;阿里云注册链接&lt;a href=&quot;https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=8qbzoull&quot; target=&quot;_blank&quot;&gt;注册阿里云&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 0, 0);&quot;&gt;此处为4月份修改：阿里云进行了升级，新创建的产品不再区分高级和初级，全部等同于高级版&lt;/span&gt;&lt;/p&gt;&lt;p&gt;选择高级版&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-O7MCACGq5bf10d1b5db5b.png&quot; style=&quot;width: 282.5px;&quot; class=&quot;img-responsive&quot;&gt;&lt;/p&gt;&lt;p&gt;设置属性，我这里选择了自定义，也可以根据需要选择阿里云提供的一些模型&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-nhlKWnMU5bf10de185f80.png&quot; style=&quot;width: 277px;&quot; class=&quot;img-responsive&quot;&gt;&lt;/p&gt;&lt;p&gt;创建完成这时候查看产品，因为我选择的是自定义所以是没有任何功能的，如果选择阿里给出的模型这个地方会有模型中定义的一些功能&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-UI5Rn9l45bf10fd4e36f5.png&quot; style=&quot;width: 568px;&quot; class=&quot;img-responsive&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;2，添加设备&lt;br&gt;&lt;/p&gt;&lt;p&gt;选择刚才我们创建的产品，DeviceName最好设置成设备的IMEI，一是方便识别不容易重复，二是方便我们改成一型一密&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-9EqjZ7CK5bf10e92a92c5.png&quot; style=&quot;width: 269px;&quot; class=&quot;img-responsive&quot;&gt;&lt;/p&gt;&lt;p&gt;一键复制三元认证&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-LWmme0U95bf10f389ee0b.png&quot; style=&quot;width: 269.5px;&quot; class=&quot;img-responsive&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;3，修改demo&lt;/p&gt;&lt;p&gt;根据刚才复制的修改合宙给出的aliyun的demo的以下几个地方&lt;/p&gt;&lt;p&gt;ProductKey直接替换成刚才复制的&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-s0SYmgcy5bf11030215e6.png&quot; style=&quot;width: 402.5px;&quot; class=&quot;img-responsive&quot;&gt;DeviceName把demo中的return misc.getImei()注释掉并把下面的注释去掉，然后把引号里的替换成刚才复制的DeviceName&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-p1fJQG0c5bf110aa8b691.png&quot; style=&quot;width: 535.5px;&quot; class=&quot;img-responsive&quot;&gt;&lt;/p&gt;&lt;p&gt;DeviceSecret也和DeviceName一样进行修改&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-8pa27gQ85bf1118cd4ce5.png&quot; style=&quot;width: 601.5px;&quot; class=&quot;img-responsive&quot;&gt;&lt;/p&gt;&lt;p&gt;4，烧录代码&lt;/p&gt;&lt;p&gt;选择我们刚才修改过的aliyun的demo所在的文件夹，把两个文件添加进工作区&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-D5dzvKJn5bf1121a51e64.png&quot; style=&quot;width: 334.5px;&quot; class=&quot;img-responsive&quot;&gt;&lt;/p&gt;&lt;p&gt;点击下载，选择自动添加库&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-yfjBopQO5bf112d8179d9.png&quot; style=&quot;width: 352px;&quot; class=&quot;img-responsive&quot;&gt;&lt;/p&gt;&lt;p&gt;烧录成功&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-fwbxx4fO5bf11399a3747.png&quot; style=&quot;width: 398px;&quot; class=&quot;img-responsive&quot;&gt;回到阿里云可以看到我们的设备已经在线了&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-AMGlt3sn5bf1147daf7b2.png&quot; style=&quot;width: 521.5px;&quot; class=&quot;img-responsive&quot;&gt;&lt;br&gt;&lt;/p&gt;
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/11/18/523/" data-id="ckkfmdgbs006svkcgdjt9f310" data-title="air202luat二次开发设备接入阿里云（一）" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-522" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/18/522/" class="article-date">
  <time class="dt-published" datetime="2018-11-18T00:29:10.000Z" itemprop="datePublished">2018-11-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/18/522/">【Lua】不使用Float LOD如何求绝对值</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/132">上一篇文章</a>中提到，如果不使用Float LOD，那么是无法使用math库的。那么很多常用的计算都无法解决，不过还好都可以用某些方法变通求得正确解。</p>
<p>#绝对值<br>求绝对值相对来说很简单，只要应用如下代码即可：</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">math.abs</span><span class="params">(num)</span></span></span><br><span class="line">    <span class="keyword">return</span> num &gt;= <span class="number">0</span> <span class="keyword">and</span> num <span class="keyword">or</span> <span class="number">0</span> - num</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>实际效果如何呢？我们来检验一下：</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">math</span>.<span class="built_in">abs</span>(<span class="number">5</span>)</span><br><span class="line"><span class="number">5</span></span><br><span class="line">&gt; <span class="built_in">math</span>.<span class="built_in">abs</span>(<span class="number">0</span>)</span><br><span class="line"><span class="number">0</span></span><br><span class="line">&gt; <span class="built_in">math</span>.<span class="built_in">abs</span>(<span class="number">-20</span>)</span><br><span class="line"><span class="number">20</span></span><br></pre></td></tr></table></figure>
<p>嗯，看起来很不错哦。</p>
<p>#余数<br>如果开发者之前没有使用过Float LOD，由于项目需求需要重新它，那么所有涉及到除法的部分，都需要特殊处理才能避免数据出错。</p>
<p>举例说明，使用Float LOD之前，<code>5/3</code>的结果是<code>1</code>，但是使用Float LOD之后，结果就成了<code>1.6666666666667</code>，极可能造成运行错误。那么如何避免呢？推荐开发者使用如下方法：</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">math.div</span><span class="params">(num1, num2)</span></span></span><br><span class="line">    <span class="keyword">return</span> (num1 - num1 % num2) / num2</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>我们来测试一下效果如何：</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">math</span>.div(<span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line"><span class="number">1.0</span></span><br><span class="line">&gt; <span class="number">5</span>/<span class="number">3</span></span><br><span class="line"><span class="number">1.6666666666667</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/11/18/522/" data-id="ckkfmdgbs006rvkcg5wbwe8v1" data-title="【Lua】不使用Float LOD如何求绝对值" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-521" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/16/521/" class="article-date">
  <time class="dt-published" datetime="2018-11-16T07:18:32.000Z" itemprop="datePublished">2018-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/16/521/">18-GPRS(Air202)拨打电话</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="https://www.cnblogs.com/yangfengwu/p/9968883.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);"><span style="font-size: 18pt;">https://www.cnblogs.com/yangfengwu/p/9968883.html</span></a></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">这个直接用官方给的demo就可以</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116141143517-876294013.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;<span style="font-size: 18pt;">现在说个需求哈，是当初一个人给提出的需求</span></p><div class="cnblogs_code" style="background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); padding: 5px; overflow: auto; margin: 5px 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div><pre style="margin-bottom: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">例如存入的号码
姓名 号码
</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span> <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">10086</span>
<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">2</span> <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">10010</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">
... ....



<p>例如存入的号码<br></span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">01</span> <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0501</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> 05代表所有的号码循环拨打5次 01代表延时1小时后重复</p>
<p>GPIO4控制打电话(低电平有效)</p>
<p>开机以后先读取手机卡里面的信息,筛选出来姓名1</span>-<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">99</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> 和对应的号码</p>
<p>取出01对应的次数 </span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> 时间间隔 1小时</p>
<p>读取完成以后如果GPIO4为低电平,先拨打姓名1对应的号码,如果后面还有2 间隔50S就会再拨打2对应的号码,如果还有3,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">4</span>,<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">….依次排着拨打<br>顺序拨打完一遍 次数加1 顺序拨打5次 延时1小时 然后 循环</span></pre><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div></div><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">直接源码</p><div class="cnblogs_code" style="background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); padding: 5px; overflow: auto; margin: 5px 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div><pre style="margin-bottom: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;"><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">module(...,package.seeall)<br>require</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">cc</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>require</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">pb</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>require</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">sys</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>require</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">net</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>require</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">pins</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>require</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">common</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">"</span></p>
<p>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[<br>GPIO4低电平拨打电话<br>GPIO5,GPIO6,GPIO7信号强度指示<br>]]</p>
<p>local function print(…)<br>    _G.print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">testCall</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,…)<br>end</p>
<p>local ReadTelephoneTable</span>=<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">{};<br>local ReadTelephoneTableCopy</span>=<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">{};<br>local ReadTelephoneCnt</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>local ReadErr</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>local LoopCnt</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>local DelayHour</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>local CallReadyFlage</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>local j</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>local CallMax </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>local CallCnt </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>local DelayCallValue </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">50000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>local InputState </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>local ReadTelephoneSuccess </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span>;–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">是否读取号码完成</p>
<p>InputKey </span>= pio.P0_4;–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">输入按钮<br>Led1 </span>= pio.P0_5;–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">Led1<br>Led2 </span>= pio.P0_6;–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">Led2<br>Led3 </span>= pio.P0_7;–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">Led3<br>pio.pin.setdir(pio.OUTPUT,InputKey)<br>pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,InputKey)</p>
<p>pio.pin.setdir(pio.OUTPUT,Led1)<br>pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led1)</p>
<p>pio.pin.setdir(pio.OUTPUT,Led2)<br>pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led2)</p>
<p>pio.pin.setdir(pio.OUTPUT,Led3)<br>pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led3)</p>
<p>function ReadTelephone()<br>    pb.read(ReadTelephoneCnt, readcb)<br>end</p>
<p></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[小于70小时,大于35小时使用]]<br>function Delay35Hour()<br>    sys.timerStart(CallTelephoneLoop,(DelayHour</span>-<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">35</span>) * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>end<br></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[小于100小时,大于70小时使用]]<br>function Delay35HourA()<br>    sys.timerStart(CallTelephoneLoop,(DelayHour</span>-<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">70</span>) * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>end<br></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[小于100小时,大于70小时使用]]<br>function Delay35HourB()<br>    sys.timerStart(Delay35HourA,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">35</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>end</p>
<p></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[拨打电话]]<br>function CallTelephoneLoop()<br>    </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  j&lt;= CallMax and CallMax&gt;=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span> and DelayHour &gt;= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span> and LoopCnt&gt;=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>        cc.dial(ReadTelephoneTableCopy[j]);<br>        sys.timerStart(cc.hangUp,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">30000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,ReadTelephoneTableCopy[j])<br>        print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">拨打::</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">..ReadTelephoneTableCopy[j]);<br>        j</span>=j+<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>        </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  j &gt; CallMax  then–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">循环了一遍<br>            j </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>            CallCnt </span>= CallCnt + <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>            print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">循环次数:</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">..CallCnt);<br>        end<br>        </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  CallCnt &gt;= LoopCnt  then–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">循环了设置的次数<br>            CallCnt </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>            print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">开始延时:</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span>..DelayHour..<span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">小时</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">);<br>            </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  DelayHour &lt;=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">35</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">  then<br>                sys.timerStart(CallTelephoneLoop,DelayHour </span>* <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>            elseif  DelayHour </span>&lt;=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">70</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">  then<br>                sys.timerStart(Delay35Hour,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">35</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>            elseif  DelayHour </span>&lt;=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">100</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">  then<br>                sys.timerStart(Delay35HourB,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">35</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">60</span> * <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>            end<br>        </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>            print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">循环</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">);<br>            sys.timerStart(CallTelephoneLoop,DelayCallValue)<br>        end<br>    end<br>end</p>
<p></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[读取号码]]<br>function readcb(result,name,number)<br>    </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  result == <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">  then<br>        ReadTelephoneCnt </span>= ReadTelephoneCnt +<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>        print(result,name,number);<br>        print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">ReadTelephoneCnt</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">..ReadTelephoneCnt);<br>        </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span>.len(name)&gt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">  then<br>            ReadErr </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>            </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span>.len(number)&gt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">  then<br>                ReadErr </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                ReadTelephoneTable[name] </span>=<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> number;<br>            end<br>        </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span><br>            <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span>.len(number)==<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span> and <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span>.len(name)==<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>                print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">ReadErr = ReadErr +1</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">);<br>                ReadErr </span>= ReadErr +<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  ReadErr&gt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">  then<br>                    ReadErr </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                    sys.timerStop(ReadTelephone,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">);<br>                    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">timerStop</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">);<br>                    local i</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                    </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">for</span> key,value <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">in</span> pairs(ReadTelephoneTable) <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">do</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>                        print(key,value)<br>                        </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  key == <span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">01</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>                            LoopCnt </span>= tonumber(<span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span>.sub(value,<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span>,<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">2</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">))<br>                            </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  LoopCnt&gt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">99</span> or LoopCnt&lt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>                                LoopCnt </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                            end<br>                            DelayHour </span>= tonumber(<span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span>.sub(value,<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">3</span>,<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">4</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">))<br>                            </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  DelayHour&gt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">99</span> or DelayHour&lt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>                                DelayHour </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                            end<br>                            print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">DelayHour</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">..DelayHour)<br>                        </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>                            print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">key</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">..key)<br>                            </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  tonumber(key)~=nil and tonumber(key) &lt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">99</span> and tonumber(key)&gt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">  then<br>                                ReadTelephoneTableCopy[i] </span>=<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> value;<br>                                i </span>= i + <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                            end<br>                        end<br>                    end<br>                    CallMax </span>= i - <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                    ReadTelephoneSuccess  </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                end<br>            end<br>        end<br>        </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span>.len(number)&gt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>            ReadErr </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>            print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">string.len(number)&gt;0 ReadErr = 0</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">);<br>        end<br>    </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>        print(result,name,number);<br>    end<br>end</p>
<p>local InputCnt </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>local cnt </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>function  InputShowLed()<br>    </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  pio.pin.getval(InputKey) == <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>        InputCnt </span>= InputCnt +<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>        </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  InputCnt&gt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">6</span> and InputState==<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>            InputCnt </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>            </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  ReadTelephoneSuccess == <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">  then<br>                InputState </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                j</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                CallCnt </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>                sys.timerStopAll(CallTelephoneLoop)<br>                sys.timerStart(CallTelephoneLoop,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>            end<br>        end<br>    </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">else</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>        InputCnt </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>        InputState </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>        sys.timerStopAll(CallTelephoneLoop)<br>    end<br>    cnt </span>= cnt +<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>    </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  cnt&gt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">100</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">  then<br>        cnt </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>        print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">信号强度:</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">..net.getRssi())<br>        </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  net.getRssi() == <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">  then<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span>,Led1);–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">用三个指示灯指示信号的强度<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led2);<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led3);<br>        elseif  net.getRssi()</span>&lt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">10</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led1);<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led2);<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led3);<br>        elseif  net.getRssi()</span>&lt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">20</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led1);<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led2);<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led3);<br>        elseif  net.getRssi()</span>&gt;<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">20</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led1);<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led2);<br>            pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,Led3);<br>        end<br>    end<br>end</p>
<p></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[可以打电话]]<br>local function CallReadyMethod()<br>    CallReadyFlage </span>= <span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">;<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;"><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em>CALL_READY</em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">);<br>end<br></span>—<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">对方接听<br></span>– <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">string</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> num，建立通话的对方号码<br>local function connected(num)<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">主动结束通话</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>    cc.hangUp(num)<br>end</p>
<p></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">结束通话<br>local function disconnected(para)<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">disconnected:</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span>..(para or <span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">nil</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">))<br>end</p>
<p>sys.timerLoopStart(ReadTelephone,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1000</span>,<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>sys.subscribe(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">CALL_CONNECTED</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,connected)<br>sys.subscribe(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">CALL_READY</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,CallReadyMethod)<br>sys.subscribe(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">CALL_DISCONNECTED</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,disconnected)<br>sys.timerLoopStart(InputShowLed,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">10</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>cc.dtmfDetect(</span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">true</span>)</pre><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div></div><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">其实逻辑处理也挺复杂的</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116142306493-976897688.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;<img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116142434325-82415876.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;<img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116142510006-213091621.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;<span style="font-size: 18pt;">源码打包出售 &nbsp;<a href="https://item.taobao.com/item.htm?spm=a2126o.11854294.0.0.3e3a4831ODxjIk&amp;id=582359919556" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://item.taobao.com/item.htm?spm=a2126o.11854294.0.0.3e3a4831ODxjIk&amp;id=582359919556</a></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">&nbsp;<span style="font-size: 18pt;">剩余的大家自己去研究哈，也可以按照规定的存储手机卡号码，看看拨打情况</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">资料源码链接</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">链接：<a href="https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw</a>&nbsp;密码：p9qs</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">基础教程源码链接如果失效,请在淘宝介绍中下载,由于链接还是失效,请联系卖家,谢谢</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&amp;id=569295486025" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&amp;id=569295486025</a></p></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/11/16/521/" data-id="ckkfmdgf000e2vkcg0l679z75" data-title="18-GPRS(Air202)拨打电话" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-520" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/16/520/" class="article-date">
  <time class="dt-published" datetime="2018-11-16T07:17:32.000Z" itemprop="datePublished">2018-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/16/520/">17-GPRS(Air202)串口</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(0, 51, 153); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 24px;&quot;&gt;https://www.cnblogs.com/yangfengwu/p/9968716.html&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/819239/201811/819239-20181116131947813-1415257617.png&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-pz90jTnG5bfd4fabb2e9a.png&quot; class=&quot;img-responsive&quot; style=&quot;width: 205.5px;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 24px;&quot;&gt;现在看一下官方给的demo&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/819239/201811/819239-20181116132358055-268363375.png&quot;&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-vkgnMIS45bfd4fe602857.png&quot; class=&quot;img-responsive&quot; style=&quot;width: 565.5px;&quot;&gt;&lt;span style=&quot;font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 18pt;&quot;&gt;其实只要有两个就好说了&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;module(...,package.seeall)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--[[&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;函数名：print&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;功能&amp;nbsp; ：打印接口，此文件中的所有打印都会加上test前缀&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;参数&amp;nbsp; ：无&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;返回值：无&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;]]&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local function print(...)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; _G.print(&quot;test&quot;,...)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--串口配置&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local UART_ID = 1 --uart1&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local uartReadData = &quot;&quot;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local uartReadDataCnt = 0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--定时器空闲中断检测(串口空闲接收数据)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local UartTimerCnt = 0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local function UartTimer()&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; if&amp;nbsp; uartReadDataCnt ~= 0 then&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; UartTimerCnt = UartTimerCnt+1;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if&amp;nbsp; UartTimerCnt &amp;gt;= 20 then&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; UartTimerCnt=0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uartReadDataCnt = 0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uart.write(UART_ID,uartReadData);&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uartReadData = &quot;&quot;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;sys.timer_loop_start(UartTimer,10)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--读取串口接收到的数据&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local uartdata = &quot;&quot;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local function read()&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; uartdata = &quot;&quot;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; while true do&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uartdata = uart.read(UART_ID,&quot;*l&quot;,0)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if not uartdata or string.len(uartdata) == 0 then break end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uartReadData = uartReadData..uartdata;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uartReadDataCnt = uartReadDataCnt +1&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; UartTimerCnt = 0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--注册串口的数据接收函数，串口收到数据后，会以中断方式，调用read接口读取数据&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;sys.reguart(UART_ID,read)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--配置并且打开串口&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;uart.setup(UART_ID,115200,8,uart.PAR_NONE,uart.STOP_1)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/819239/201811/819239-20181116133226470-216854604.png&quot;&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-WKJLYgiS5bfd50154909d.png&quot; class=&quot;img-responsive&quot; style=&quot;width: 464.5px;&quot;&gt;&lt;span style=&quot;font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 24px;&quot;&gt;现在下载测试，就是发送给串口1什么就回什么&lt;/span&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 18pt;&quot;&gt;&lt;/span&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/819239/201811/819239-20181116133525216-811594740.png&quot;&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-MD9UsVdb5bfd50236f072.png&quot; class=&quot;img-responsive&quot; style=&quot;width: 130px;&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/819239/201811/819239-20181116133550649-342845156.png&quot;&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-t1bj9PcF5bfd5028d5384.png&quot; class=&quot;img-responsive&quot; style=&quot;width: 352.5px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;&lt;span style=&quot;font-size: 18pt;&quot;&gt;可以了，现在发指令控制GPIO5&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;&lt;span style=&quot;font-size: 18pt;&quot;&gt;指令就用&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;&lt;span style=&quot;font-size: 18pt;&quot;&gt;&#123;data:switch,bit:1,status:0&#125; &amp;nbsp; 控制GPIO5输出低电平&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;&lt;span style=&quot;font-size: 18pt;&quot;&gt;&#123;data:switch,bit:1,status:1&#125; &amp;nbsp; 控制GPIO5输出高电平&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;有可能会问，搞这么复杂的指令干嘛。。。。为了后期统一，而且现在物联网通信json格式用的很多，所以。。。。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;module(...,package.seeall)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--[[&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;函数名：print&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;功能&amp;nbsp; ：打印接口，此文件中的所有打印都会加上test前缀&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;参数&amp;nbsp; ：无&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;返回值：无&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;]]&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local function print(...)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; _G.print(&quot;test&quot;,...)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--串口配置&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local UART_ID = 1 --uart1&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local uartReadData = &quot;&quot;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local uartReadDataCnt = 0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;pio.pin.setdir(pio.OUTPUT,pio.P0_5)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;pio.pin.setval(0,pio.P0_5)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--定时器空闲中断检测(串口空闲接收数据)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local UartTimerCnt = 0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local function UartTimer()&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; if&amp;nbsp; uartReadDataCnt ~= 0 then&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; UartTimerCnt = UartTimerCnt+1;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if&amp;nbsp; UartTimerCnt &amp;gt;= 20 then--有200ms不进去中断接受数据了，就认为收完了一条数据&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; UartTimerCnt=0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uartReadDataCnt = 0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if&amp;nbsp; uartReadData==&quot;&#123;data:switch,bit:1,status:0&#125;&quot; then&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; pio.pin.setval(0,pio.P0_5)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uart.write(UART_ID,uartReadData);--返回数据&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; elseif&amp;nbsp; uartReadData==&quot;&#123;data:switch,bit:1,status:1&#125;&quot; then&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; pio.pin.setval(1,pio.P0_5)&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uart.write(UART_ID,uartReadData);--返回数据&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uartReadData = &quot;&quot;;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;sys.timer_loop_start(UartTimer,10)--10MS的循环定时器&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--读取串口接收到的数据&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local uartdata = &quot;&quot;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;local function read()&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; uartdata = &quot;&quot;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; while true do&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uartdata = uart.read(UART_ID,&quot;*l&quot;,0)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if not uartdata or string.len(uartdata) == 0 then break end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uartReadData = uartReadData..uartdata;--接收数据&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uartReadDataCnt = uartReadDataCnt +1&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; UartTimerCnt = 0;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;end&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--注册串口的数据接收函数，串口收到数据后，会以中断方式，调用read接口读取数据&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;sys.reguart(UART_ID,read)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;--配置并且打开串口&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;uart.setup(UART_ID,115200,8,uart.PAR_NONE,uart.STOP_1)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto;&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/819239/201811/819239-20181116134116019-911542960.png&quot;&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-zpJFA5kV5bfd5041aeec8.png&quot; class=&quot;img-responsive&quot; style=&quot;width: 414.5px;&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/819239/201811/819239-20181116134318496-789635055.png&quot;&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-5kkvDAeM5bfd504a7b496.png&quot; class=&quot;img-responsive&quot; style=&quot;width: 591.5px;&quot;&gt;&lt;img src=&quot;https://img2018.cnblogs.com/blog/819239/201811/819239-20181116134350403-574224359.png&quot;&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2018-11-x5J9hvmM5bfd5052dbbba.png&quot; class=&quot;img-responsive&quot; style=&quot;width: 583.5px;&quot;&gt;&lt;font face=&quot;Verdana, Geneva, Arial, Helvetica, sans-serif&quot;&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;资料源码链接&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;链接：&lt;a href=&quot;https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw&quot; target=&quot;_blank&quot; style=&quot;color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);&quot;&gt;https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw&lt;/a&gt;&amp;nbsp;密码：p9qs&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;基础教程源码链接如果失效,请在淘宝介绍中下载,由于链接还是失效,请联系卖家,谢谢&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;&lt;a href=&quot;https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&amp;amp;id=569295486025&quot; target=&quot;_blank&quot; style=&quot;color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);&quot;&gt;https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&amp;amp;id=569295486025&lt;/a&gt;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;&quot;&gt;&lt;a href=&quot;https://www.cnblogs.com/yangfengwu/p/9969179.html&quot; target=&quot;_blank&quot; style=&quot;color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);&quot;&gt;&lt;span style=&quot;font-size: 18pt;&quot;&gt;https://www.cnblogs.com/yangfengwu/p/9969179.html&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/11/16/520/" data-id="ckkfmdgeh00d7vkcg62m5feey" data-title="17-GPRS(Air202)串口" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-519" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/16/519/" class="article-date">
  <time class="dt-published" datetime="2018-11-16T07:16:49.000Z" itemprop="datePublished">2018-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/16/519/">16-GPRS(Air202)关于多个文件中的变量调用和定时器</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"><a href="https://www.cnblogs.com/yangfengwu/p/9968405.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://www.cnblogs.com/yangfengwu/p/9968405.html</a></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">因为自己看到好多问多个文件调用的，感觉这个应该说一说</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">对了大家有没有知道这个是干什么的</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116120328901-1201668191.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">大家有没有看这篇 <a href="https://www.cnblogs.com/yangfengwu/p/8965054.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://www.cnblogs.com/yangfengwu/p/8965054.html</a></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">实际上，这是lua5.几新加的功能，就是为了省掉那些复杂的程序</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">我又新建了一个test1</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116121714216-1685429603.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">让test  调用 test1里面的一个变量</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116121822639-376781727.png" alt="" style="max-width: 900px; height: auto;">    <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116121850593-536036969.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116121910980-549174039.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">下载进去</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116122031082-217030848.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">注意哈，这样是不允许的，再用test1请求test文件，然后调用test里面的值</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116122438267-1815429834.png" alt="" style="max-width: 900px; height: auto;">  <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116122500702-2127457306.png" alt="" style="max-width: 900px; height: auto;">    <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116122524787-397614200.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">如果想这样做，其实可以再做一个文件哈，里面放一个变量，然后test和test1都可以请求这个文件并操作这个变量</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">现在看定时器</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116123246760-1127464719.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">我这里就直接说啦  </span><span style="font-size: 18pt;">一次性的定时器（执行一遍就完）(不带ID)</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><div class="cnblogs_code" style="background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); padding: 5px; overflow: auto; margin: 5px 0px; font-family: "Courier New" !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div><pre style="margin-bottom: 0px; font-family: "Courier New" !important; font-size: 12px !important;"><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">module(...,package.seeall)

<p></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[<br>函数名：print<br>功能  ：打印接口，此文件中的所有打印都会加上test前缀<br>参数  ：无<br>返回值：无<br>]]<br>local function print(…)<br>    _G.print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">test</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,…)<br>end</p>
<p>local function Timer1()<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">一次的定时器，没有ID</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>end</p>
<p>sys.timer_start(Timer1,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">10000</span>)//延时10S调用Timer1函数</pre><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div></div><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">下载看看</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116123724108-2106155558.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">一次性的不需要关闭，因为是自己关闭</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">然后来个循环的</span></p>&lt;div class=”cnblogs_code” style=”background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); padding: 5px; overflow: auto; margin: 5px 0px; font-family: “Courier New” !important; font-size: 12px !important;”&gt;<div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div>&lt;pre style=”margin-bottom: 0px; font-family: “Courier New” !important; font-size: 12px !important;”&gt;<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">module(…,package.seeall)</p>
<p></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[<br>函数名：print<br>功能  ：打印接口，此文件中的所有打印都会加上test前缀<br>参数  ：无<br>返回值：无<br>]]<br>local function print(…)<br>    _G.print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">test</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,…)<br>end</p>
<p>local function Timer1()<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">一次的定时器，没有ID</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>end</p>
<p>sys.timer_start(Timer1,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">10000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)</p>
<p>local function Timer2()<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">这个是循环定时器，没有ID</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>end</p>
<p>sys.timer_loop_start(Timer2,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">2000</span>)</pre><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div></div><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116124024504-352871770.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> 现在用一个变量在里面加一，加到5停止这个定时器</p>&lt;div class=”cnblogs_code” style=”background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); padding: 5px; overflow: auto; margin: 5px 0px; font-family: “Courier New” !important; font-size: 12px !important;”&gt;<div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div>&lt;pre style=”margin-bottom: 0px; font-family: “Courier New” !important; font-size: 12px !important;”&gt;<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">module(…,package.seeall)</p>
<p></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[<br>函数名：print<br>功能  ：打印接口，此文件中的所有打印都会加上test前缀<br>参数  ：无<br>返回值：无<br>]]<br>local function print(…)<br>    _G.print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">test</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,…)<br>end</p>
<p>local function Timer1()<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">一次的定时器，没有ID</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>end</p>
<p>sys.timer_start(Timer1,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">10000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)</p>
<p>local cnt</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>local function Timer2()<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">这个是循环定时器，没有ID</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>    cnt=cnt+1<br>    </span><span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  cnt&gt;=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>        cnt</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>        sys.timer_stop(Timer2)</span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">直接填入函数停止<br>        print(“这个是循环定时器，没有ID，现在停止”)<br>    end<br>end</p>
<p>sys.timer_loop_start(Timer2,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">2000</span>)</pre><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div></div><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116124600457-676233806.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">现在说带ID的，可以看一下</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116124842626-571652364.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p>&lt;div class=”cnblogs_code” style=”background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); padding: 5px; overflow: auto; margin: 5px 0px; font-family: “Courier New” !important; font-size: 12px !important;”&gt;<div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div>&lt;pre style=”margin-bottom: 0px; font-family: “Courier New” !important; font-size: 12px !important;”&gt;<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">module(…,package.seeall)</p>
<p></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[<br>函数名：print<br>功能  ：打印接口，此文件中的所有打印都会加上test前缀<br>参数  ：无<br>返回值：无<br>]]<br>local function print(…)<br>    _G.print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">test</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,…)<br>end</p>
<p>local function Timer1()<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">一次的定时器，没有ID</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>end</p>
<p>sys.timer_start(Timer1,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">10000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)</p>
<p>local cnt</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>local function Timer2()<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">这个是循环定时器，没有ID</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>    cnt</span>=cnt+<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><br>    <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  cnt&gt;=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>        cnt</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>        sys.timer_stop(Timer2)</span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">直接填入函数停止<br>        print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">这个是循环定时器，没有ID，现在停止</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>    end<br>end</p>
<p>sys.timer_loop_start(Timer2,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">2000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)</p>
<p>local cnt1</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>local function Timer3()<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">这个是循环定时器，有ID</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>    cnt1</span>=cnt1+<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><br>    <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  cnt1&gt;=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>        cnt1</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>        sys.timer_stop(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span>)–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">直接填入函数停止<br>        print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">这个是循环定时器，有ID，现在停止</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>    end<br>end</p>
<p>sys.timer_loop_start(Timer3,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">2000</span>,<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span>)</pre><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div></div><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116125048080-183125620.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116125252917-502463381.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"> 所以</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116125624701-1593285949.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116125731771-1001588373.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">这样可以停止</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">好现在控制灯每进一次定时器就反转一次，就是周期性亮灭</span></p>&lt;div class=”cnblogs_code” style=”background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); padding: 5px; overflow: auto; margin: 5px 0px; font-family: “Courier New” !important; font-size: 12px !important;”&gt;&lt;pre style=”margin-bottom: 0px; font-family: “Courier New” !important; font-size: 12px !important;”&gt;<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">local function Timer4()<br>    pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span>-<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">pio.pin.getval(pio.P0_5),pio.P0_5)<br>end<br>sys.timer_loop_start(Timer4,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">2000</span>,<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span>)</pre></div><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><pre style="margin-bottom: 0px; color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><span style="font-size: 18pt;">1-pio.pin.getval(pio.P0_5)<br></span></pre><pre style="margin-bottom: 0px; color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><span style="font-size: 18pt;">pio.pin.getval(pio.P0_5)是读取引脚的高低电平状态   1-这个（0或者1） 正好是反转得到1和0</span></pre><pre style="margin-bottom: 0px; color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><span style="font-size: 18pt;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116130402717-913490466.png" alt="" style="max-width: 900px; height: auto;">  <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116130416385-1234623441.png" alt="" style="max-width: 900px; height: auto;"></span></pre><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> 最终所有的源码</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p>&lt;div class=”cnblogs_code” style=”background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); padding: 5px; overflow: auto; margin: 5px 0px; font-family: “Courier New” !important; font-size: 12px !important;”&gt;<div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div>&lt;pre style=”margin-bottom: 0px; font-family: “Courier New” !important; font-size: 12px !important;”&gt;<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">module(…,package.seeall)</p>
<p></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[<br>函数名：print<br>功能  ：打印接口，此文件中的所有打印都会加上test前缀<br>参数  ：无<br>返回值：无<br>]]<br>local function print(…)<br>    _G.print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">test</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,…)<br>end</p>
<p>local function Timer1()<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">一次的定时器，没有ID</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>end<br>sys.timer_start(Timer1,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">10000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)</p>
<p>local cnt</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>local function Timer2()<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">这个是循环定时器，没有ID</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>    cnt</span>=cnt+<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><br>    <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  cnt&gt;=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>        cnt</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>        sys.timer_stop(Timer2)</span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">直接填入函数停止<br>        print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">这个是循环定时器，没有ID，现在停止</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>    end<br>end<br>sys.timer_loop_start(Timer2,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">2000</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)</p>
<p>local cnt1</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>local function Timer3()<br>    print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">这个是循环定时器，有ID</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>    cnt1</span>=cnt1+<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><br>    <span style="color: rgb(0, 0, 255); line-height: 1.5 !important;">if</span>  cnt1&gt;=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">5</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"> then<br>        cnt1</span>=<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;"><br>        sys.timer_stop(Timer3,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>        print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">这个是循环定时器，有ID，现在停止</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)<br>    end<br>end<br>sys.timer_loop_start(Timer3,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">2000</span>,<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">)</p>
<p>pio.pin.setdir(pio.OUTPUT,pio.P0_5)<br>pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">0</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,pio.P0_5)</p>
<p>local function Timer4()<br>    pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span>-<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">pio.pin.getval(pio.P0_5),pio.P0_5)<br>end<br>sys.timer_loop_start(Timer4,</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">2000</span>,<span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span>)</pre><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="http://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div></div><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">定时器就说到这里哈</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">资料源码链接</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">链接：<a href="https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw</a> 密码：p9qs</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">基础教程源码链接如果失效,请在淘宝介绍中下载,由于链接还是失效,请联系卖家,谢谢</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"><a href="https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&id=569295486025" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&amp;id=569295486025</a></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="https://www.cnblogs.com/yangfengwu/p/9968883.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);"><span style="font-size: 18pt;">https://www.cnblogs.com/yangfengwu/p/9968883.html</span></a></p></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/11/16/519/" data-id="ckkfmdgf000e1vkcgght008pz" data-title="16-GPRS(Air202)关于多个文件中的变量调用和定时器" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-518" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/16/518/" class="article-date">
  <time class="dt-published" datetime="2018-11-16T07:16:05.000Z" itemprop="datePublished">2018-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/16/518/">15-GPRS(Air202)GPIO控制点亮一个灯</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"><a href="https://www.cnblogs.com/yangfengwu/p/9967027.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://www.cnblogs.com/yangfengwu/p/9967027.html</a>  </span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116011825914-1136848762.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116011939201-857691362.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">现在点亮它，说一下哈，都过去好久了，不知道大家都在用哪个版本的库</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;"><a href="http://www.openluat.com/Product/gprs/Air202.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">http://www.openluat.com/Product/gprs/Air202.html</a>    我就去官方下载了现在最新的</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116013215865-2047931141.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116013254524-1267592800.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116013318463-1263072969.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">我就用里面提供的</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116013419506-859672850.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">我个人习惯了用这个了。。。。</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116013433425-1976072326.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">看一下官方给的 demo </span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116103356839-1687091238.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116103751703-634571525.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116104237944-1695699677.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116104928635-2054552621.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116105015256-351981080.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116105254995-24484189.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116105558220-1689779165.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">现在只修改test.lua就可以了</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116111516506-1311268726.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">其实现在呢可以看pins.lua来看下一步怎么写。。。反正我预估控制GPIO就是先配置方向，然后设置高低电平，因为做单片机做的熟了</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">几乎所有的单片机也就这种模式</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">咱就去找一找</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116111903864-1589025926.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">所以我就去找API</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="http://wiki.openluat.com/doc/luatApi/#pio" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);"><span style="font-size: 18pt;">http://wiki.openluat.com/doc/luatApi/#pio</span></a></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116112238943-1720418991.png" alt="" width="1577" height="699" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">然后设置输出高低电平</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116112409960-1169492307.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">齐了。。。。。。。。。。。</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">所以程序就是</span></p><div class="cnblogs_code" style="background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); padding: 5px; overflow: auto; margin: 5px 0px; font-family: "Courier New" !important; font-size: 12px !important;"><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div><pre style="margin-bottom: 0px; font-family: "Courier New" !important; font-size: 12px !important;"><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">module(...,package.seeall)

<p></span>–<span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">[[<br>函数名：print<br>功能  ：打印接口，此文件中的所有打印都会加上test前缀<br>参数  ：无<br>返回值：无<br>]]<br>local function print(…)<br>    _G.print(</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">test</span><span style="color: rgb(128, 0, 0); line-height: 1.5 !important;">“</span><span style="color: rgb(0, 0, 0); line-height: 1.5 !important;">,…)<br>end</p>
<p>pio.pin.setdir(pio.OUTPUT,pio.P0_5)<br>pio.pin.setval(</span><span style="color: rgb(128, 0, 128); line-height: 1.5 !important;">1</span>,pio.P0_5)</pre><div class="cnblogs_code_toolbar" style="margin-top: 5px;"><span class="cnblogs_code_copy" style="padding-right: 5px; line-height: 1.5 !important;"><a title="复制代码" style="color: rgb(0, 51, 153); border-bottom: 1px dashed rgb(0, 51, 153); padding-bottom: 2px; background-color: rgb(245, 245, 245) !important; border-top: none !important; border-right: none !important; border-left: none !important; border-image: initial !important;"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" style="max-width: 900px; height: auto; border-width: initial !important; border-style: none !important;"></a></span></div></div><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116112539439-454079741.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">现在下载进去</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116112630438-148110424.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116112724105-572608296.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116112754715-195669206.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116112814062-1870611437.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">现在关闭，修改以后下载进去</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116112844929-924574222.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116112924043-1249889070.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"> 有没有不知道文件怎么加载的哈</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">main.lua是必须的，内部默认加载main.lua</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">然后把自己需要加载的文件放在main.lua里面就可以了。加载是用require “文件的名字”</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116113223775-113851955.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">然后自己在做某些功能的时候，用到什么功能就自己添加相应的lib支持文件</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">假设我需要获取信号质量，那么就需net</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116113650691-1780084632.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">资料链接</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">链接：<a href="https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw</a> 密码：p9qs</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">基础教程源码链接如果失效,请在淘宝介绍中下载,由于链接还是失效,请联系卖家,谢谢</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&id=569295486025" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&amp;id=569295486025</a></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="https://www.cnblogs.com/yangfengwu/p/9968716.html%20" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);"><span style="font-size: 18pt;">https://www.cnblogs.com/yangfengwu/p/9968716.html </span></a></p></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/11/16/518/" data-id="ckkfmdgeh00d6vkcg63abczsy" data-title="15-GPRS(Air202)GPIO控制点亮一个灯" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-517" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/16/517/" class="article-date">
  <time class="dt-published" datetime="2018-11-16T07:15:15.000Z" itemprop="datePublished">2018-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/16/517/">14-关于系统教程和基础教程后期规划</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="https://www.cnblogs.com/yangfengwu/p/9966901.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);"><span style="font-size: 18pt;">https://www.cnblogs.com/yangfengwu/p/9966901.html</span></a></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">系统教程：现在的系统教程已经写完源码，还没配教程，现在买只能给源码哈</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">系统教程初步要做到的就是12节和13节所演示的</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">12节：  <a href="https://www.cnblogs.com/yangfengwu/p/9966702.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://www.cnblogs.com/yangfengwu/p/9966702.html</a></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">13节：  <a href="https://www.cnblogs.com/yangfengwu/p/9966901.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://www.cnblogs.com/yangfengwu/p/9966901.html</a></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">这个系统教程只是最初步的，其实后期我还要给大家再次的升级教程，分几个阶段学习</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">现在的基础教程学习路线：</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">一，WIFI：主要讲解WIFI模块连接MQTT服务器的程序，SmartConfig，串口透传</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">二，GPRS：主要讲解GPRS模块连接MQTT服务器的程序，串口透传</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">三，云服务器：</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">1，云服务器在8,9,10节的基础教程已经说了一部分   </span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">8节   <a href="https://www.cnblogs.com/yangfengwu/p/9953703.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://www.cnblogs.com/yangfengwu/p/9953703.html</a></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">9节  <a href="https://www.cnblogs.com/yangfengwu/p/9953920.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://www.cnblogs.com/yangfengwu/p/9953920.html</a></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">10节  <a href="https://www.cnblogs.com/yangfengwu/p/9954840.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://www.cnblogs.com/yangfengwu/p/9954840.html</a></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 18pt;">后期的系统教程需要学会修改用户名和密码，还有可能涉及数据库</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">四，APP</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">1，实现SmartConfig</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">2，实现扫码</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">3，MQTT</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">4，数据库</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">5，波形</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">6，其实还有其它各种各种细节，其实APP也是相当的知识要讲，现在想的是，能不能大家卖回去以后，看看反馈，问哪个知识点再讲哪个。。。</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">五，上位机 ：上位机主要用C#，</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;"> </span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">后期：后期规划是WIFI模块的远程升级，GPRS模块的远程升级，当然还有STM32的升级借助WIFI和GPRS。。</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 24px;">基础教程：基础教程围绕着模块的基本功能讲，像学单片机初级教程一样，当中涉及的上位机和APP也会详详细细的告诉大家如何做</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">资料链接</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">链接：<a href="https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw</a> 密码：p9qs</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">基础教程源码链接如果失效,请在淘宝介绍中下载,由于链接还是失效,请联系卖家,谢谢</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&id=569295486025" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&id=569295486025</a></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="https://www.cnblogs.com/yangfengwu/p/9968405.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);"><span style="font-size: 18pt;">https://www.cnblogs.com/yangfengwu/p/9968405.html</span></a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/11/16/517/" data-id="ckkfmdgbs006qvkcg2b04gy34" data-title="14-关于系统教程和基础教程后期规划" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-516" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/11/16/516/" class="article-date">
  <time class="dt-published" datetime="2018-11-16T07:14:28.000Z" itemprop="datePublished">2018-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/11/16/516/">13-系统教程演示(GPRS模块)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="https://www.cnblogs.com/yangfengwu/p/9966702.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);"><span style="font-size: 18pt;">https://www.cnblogs.com/yangfengwu/p/9966702.html</span></a></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">下载202的程序参考这个  ：<a href="https://www.cnblogs.com/yangfengwu/p/8948935.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://www.cnblogs.com/yangfengwu/p/8948935.html</a></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">下载项目版最终的源码，全部都要下</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181115234505879-1800081901.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181115234734298-124048729.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181115234820635-1889522496.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181115234901980-768204107.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181115234942873-914373044.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181115235033853-2133526737.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">这个APP我做成了支持WIFI和GPRS,支持绑定多个设备，别忘了给GPRS模块插手机卡，还有GPRS模块的天线</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181115235231681-362741368.png" alt="" style="max-width: 900px; height: auto;"></span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181115235400342-1986479191.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181115235634284-1639187516.png" alt="" style="max-width: 900px; height: auto;">     <span style="font-size: 18pt;">GPRS模块注册网络的时候需要很大的电流哈，如果自己的电脑供电不足可以再弄个电源哈</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;">或者去掉WIFI</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> <img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181115235915932-1730222379.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><img src="https://img2018.cnblogs.com/blog/819239/201811/819239-20181116000021991-175069046.png" alt="" style="max-width: 900px; height: auto;"></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><span style="font-size: 18pt;"> GPRS也测试好了</span></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">资料链接</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">链接：<a href="https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);">https://pan.baidu.com/s/1-SRfsKGQ7rZVvFmp1ObHWw</a> 密码：p9qs</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;">基础教程源码链接如果失效,请在淘宝介绍中下载,由于链接还是失效,请联系卖家,谢谢</p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&id=569295486025" target="_blank" style="color: rgb(153, 0, 0); padding-bottom: 2px; border-bottom: none;">https://item.taobao.com/item.htm?spm=a1z10.1-c-s.w4004-18540610442.6.36a74814ZSaRsu&id=569295486025</a></p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"> </p><p style="margin-top: 10px; margin-right: auto; margin-left: auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 16px;"><a href="https://www.cnblogs.com/yangfengwu/p/9967027.html" target="_blank" style="color: rgb(0, 51, 153); padding-bottom: 2px; border-bottom: 1px dashed rgb(0, 51, 153);"><span style="font-size: 18pt;">https://www.cnblogs.com/yangfengwu/p/9967027.html</span></a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/11/16/516/" data-id="ckkfmdgbr006pvkcgbwbe2csi" data-title="13-系统教程演示(GPRS模块)" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/45/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/44/">44</a><a class="page-number" href="/page/45/">45</a><span class="page-number current">46</span><a class="page-number" href="/page/47/">47</a><a class="page-number" href="/page/48/">48</a><span class="space">&hellip;</span><a class="page-number" href="/page/59/">59</a><a class="extend next" rel="next" href="/page/47/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2032/01/">一月 2032</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2032/01/01/608/">【置顶】合宙模块资料汇总</a>
          </li>
        
          <li>
            <a href="/2022/12/31/638/">Air系列模块常见问题列表</a>
          </li>
        
          <li>
            <a href="/2021/01/27/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2021/01/27/2420/">ECMAScript(ES6)基本语法介绍（一）</a>
          </li>
        
          <li>
            <a href="/2021/01/26/2417/">Air720S系列_luat二次开发固件（ 底层软件+上层脚本）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 chenxuuu<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>