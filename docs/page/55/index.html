<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Luat doc 社区文章静态页面镜像</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Luat doc 社区文章静态页面镜像">
<meta property="og:type" content="website">
<meta property="og:title" content="Luat doc 社区文章静态页面镜像">
<meta property="og:url" content="https://doc.luatos.wiki/page/55/index.html">
<meta property="og:site_name" content="Luat doc 社区文章静态页面镜像">
<meta property="og:description" content="Luat doc 社区文章静态页面镜像">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="chenxuuu">
<meta property="article:tag" content="lua">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Luat doc 社区文章静态页面镜像" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Luat doc 社区文章静态页面镜像</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://doc.luatos.wiki"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-435" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/09/07/435/" class="article-date">
  <time class="dt-published" datetime="2018-09-07T06:43:54.000Z" itemprop="datePublished">2018-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/09/07/435/">合宙Luat WiFi模块Air602 数据传输指南V1.33</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><b><span style="font-size:16pt;">一、准备工作：打开<span>TCP Lab</span>网址，建立<span>TCP</span>服务器</span></b><span style="font-size:16pt;"><br /><br /></span></p>

<p>在浏览器中输入：<span><span><a target="_blank" rel="noopener" href="http://tcplab.openluat.com/">http://TCP
Lab.openluat.com</a></span></span>，如下图所求</p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-lVD70myv5b921e126f5f4.jpg" class="img-responsive" style="width:570.5px;" alt="attachments-2018-09-lVD70myv5b921e126f5f4.jpg" /></p>

<p>此时，网页提示当前<span>TCP</span>服务器为<span>180.97.81.180:51950</span>。</p>

<p>也就是说您当前可以使用测试的<span>TCP</span>服务器是：</p>

<p><span>IP</span>：<span>180.97.81.180</span></p>

<p><span>Port</span>：<span>51950</span></p>

<p><span><br /></span></p>

<p><b><span style="font-size:16pt;">二、设置模块连接到路由器和<span>TCP</span>服务器（手动传输方式）</span></b></p>



<p><span>Note:</span></p>

<p><span>1）</span>通过<span>UART0</span>发送<span>AT</span>命令来实现，目前缺省波特率为<span>115200</span>；</p>

<p><span>2）</span><span>PC</span>工具建议<span>XCOM</span>、<span>SSCOM</span>等；</p>

<p><span>3）</span>下文以<span>SSID</span>为<span>Air_Luat_WiFi</span>的路由器举例说明；</p>

<p><span style="font-family:Wingdings;">à</span><span>   PC</span>工具输入到模块的命令</p>

<p><span style="font-family:Wingdings;">ß</span><span>   </span>模块输出到<span>PC</span>工具的消息</p>

<p><span> </span></p>

<p><span>a.</span>设置工作模式为<span>STA</span>：</p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+WPRT=0</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK</span></p>

<p><span> </span></p>

<p><span>b.</span>设置<span>STA</span>的<span>SSID</span>，连接一个<span>ssid</span>名为<span>Air_Luat_WiFi</span>的路由器：</p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+SSID= Air_Luat_WiFi</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK</span></p>

<p><span> </span></p>

<p><span>c.</span>设置需要加入的<span style="font-family:Arial, sans-serif;">AP</span>的无线密钥</p>

<p><span style="font-size:10.5pt;">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;">：密钥格式，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0</span><span style="font-size:10.5pt;">表示</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">HEX</span><span style="font-size:10.5pt;">，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;">表示</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></p>

<p><span style="font-size:10.5pt;">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="font-size:10.5pt;">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">index:
</span><span style="font-size:10.5pt;">密钥索引号，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;">～</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">4</span><span style="font-size:10.5pt;">用于</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WEP</span><span style="font-size:10.5pt;">加密密钥，其它加密方式固定为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0
</span></p>

<p><span style="font-size:10.5pt;">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="font-size:10.5pt;">：无线密钥。例如：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">12345678</span></p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+KEY=1,0,12345678</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK</span></p>

<p><span> </span></p>

<p><span>d.</span>保存参数到<span>NV</span>中<span style="font-family:'宋体';">,</span>这样重启模块后以上参数不需要重新输入<span style="font-family:'宋体';">,</span>从步骤<span>e</span>开始即可</p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+PMTF</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK</span></p>

<p><span> </span></p>

<p><span>e.</span>加入前面指定的无线网络（网络名为：<span>Air_Luat_WiFi</span>）</p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+WJOIN</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>+OK=3c46d82bd81e,0,11,0,"
Air_Luat_WiFi",26</span></p>

<p><span>f.</span>设置模块建立到<span>TCP</span>服务器的<span>Socket</span>连接：</p>

<p><span style="font-size:10.5pt;">第一个参数为网络协议类型：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0-TCP</span><span style="font-size:10.5pt;">，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1-UDP</span></p>

<p><span style="font-size:10.5pt;">第二个参数为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;">类型：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0-Client</span><span style="font-size:10.5pt;">，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1-Server</span></p>

<p><span style="font-size:10.5pt;">第三个参数为服务器</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;">地址或域名</span></p>

<p><span style="font-size:10.5pt;">第四个参数为服务器端口</span></p>

<p><span style="font-size:10.5pt;">第五个参数为本地端口（本参数可以不填。不填的时候，本参数与前面的逗号一起省略）</span></p>

<p><span style="font-family:Wingdings;">à</span><span> AT+SKCT=0,0,180.97.81.180,51950,37189</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK=2       </span><span style="font-size:10.5pt;">——</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&gt;2</span><span style="font-size:10.5pt;">为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket
id</span></p>

<p>注意：</p>

<p>此时模块连接到<span>TCP Lab</span>服务器，网页<span>TCP Lab</span>会显示一个连接的客户端和端口：</p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-nAReka3U5b921eea1176f.png" class="img-responsive" style="width:634px;" alt="attachments-2018-09-nAReka3U5b921eea1176f.png" /></p>

<p>点击“发送”，则<span>TCP Lab</span>提示框中会显示发送成功：</p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-GHYtiqMv5b921f1926a0a.png" class="img-responsive" style="width:634px;" alt="attachments-2018-09-GHYtiqMv5b921f1926a0a.png" /></p>

<p>此时模块在串口输入：<span style="font-family:Arial, sans-serif;">AT+SKRCV=2,20 </span>会收到服务器发来的消息</p>



<p><span style="font-size:12pt;font-family:Arial, sans-serif;">CKRCV</span><span style="font-size:12pt;font-family:'等线';">命令第一个参数是</span><span style="font-size:12pt;font-family:Arial, sans-serif;">socket id</span><span style="font-size:12pt;font-family:'等线';">，</span><span style="font-size:12pt;font-family:'等线';">第二个参数为接收数量，可以大于实际数量。</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-slw3pxSd5b921f401a733.png" class="img-responsive" alt="attachments-2018-09-slw3pxSd5b921f401a733.png" /><span style="font-size:12pt;font-family:'等线';"><br /></span></p>

<p><b>模块发送数据测试：</b></p>



<p>在串口助手的数据输入框中输入</p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-mpjMASad5b922af6cb685.png" class="img-responsive" alt="attachments-2018-09-mpjMASad5b922af6cb685.png" /></p>

<p><br /></p>

<p>然后发送数据：<span style="font-family:Arial, sans-serif;">hello TCP Lab</span></p>

<p>则<span style="font-family:Arial, sans-serif;">TCP Lab</span>收到数据，如下图提示：</p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-kU3DuUwC5b922b36afc4b.png" class="img-responsive" style="width:634px;" alt="attachments-2018-09-kU3DuUwC5b922b36afc4b.png" /></p>



<p><br /></p>













<p><b><span style="font-size:16pt;">三、设置模块连接到路由器和<span>TCP</span>服务器（透传方式）</span></b></p>



<p><span>Note:</span></p>

<p><span>1</span>）通过<span>UART0</span>发送<span>AT</span>命令来实现，目前缺省波特率为<span>115200</span>；</p>

<p><span>2</span>）<span>PC</span>工具建议<span>XCOM</span>、<span>SSCOM</span>等；</p>

<p><span>3</span>）下文以<span>SSID</span>为<span>Air_Luat_WiFi</span>的路由器举例说明；</p>

<p><span> </span></p>

<p><span>a.</span>设置工作模式为<span>STA</span>：</p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+WPRT=0</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK</span></p>

<p><span> </span></p>

<p><span>b.</span>设置<span>STA</span>的<span>SSID</span>，连接一个网络名<span>SSID</span>为<span>Air_Luat_WiFi</span>的路由器：</p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+SSID= Air_Luat_WiFi</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK</span></p>

<p><span> </span></p>

<p><span>c.</span>设置需要加入的<span style="font-family:Arial, sans-serif;">AP</span>的无线密钥</p>

<p><span style="font-size:10.5pt;">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;">：密钥格式，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0</span><span style="font-size:10.5pt;">表示</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">HEX</span><span style="font-size:10.5pt;">，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;">表示</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></p>

<p><span style="font-size:10.5pt;">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="font-size:10.5pt;">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">index:
</span><span style="font-size:10.5pt;">密钥索引号，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;">～</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">4</span><span style="font-size:10.5pt;">用于</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WEP</span><span style="font-size:10.5pt;">加密密钥，其它加密方式固定为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0
</span></p>

<p><span style="font-size:10.5pt;">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="font-size:10.5pt;">：无线密钥。例如：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">12345678</span></p>

<p><span> </span></p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+KEY=1,0,12345678</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK</span></p>

<p><span> </span></p>

<p><span style="font-family:Arial, sans-serif;">d.</span>设置模块为自动模式：</p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+ATM=0</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK</span></p>



<p> </p>

<p><span>e.</span>设置模块连接<span>tcp</span>服务器的<span>IP</span>地址和端口号：</p>

<p><span style="font-size:10.5pt;">第一个参数为网络协议类型：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0-TCP</span><span style="font-size:10.5pt;">，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1-UDP</span></p>

<p><span style="font-size:10.5pt;">第二个参数为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;">类型：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0-Client</span><span style="font-size:10.5pt;">，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1-Server</span></p>

<p><span style="font-size:10.5pt;">第三个参数为服务器</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;">地址或域名</span></p>

<p><span style="font-size:10.5pt;">第四个参数为服务器端口</span></p>

<p><span> </span></p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+ATRM=0,0,180.97.81.180,51950</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK</span></p>

<p><span> </span></p>

<p><span>f.</span>保存参数到模块<span>NV</span>中</p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+PMTF</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK</span></p>



<p> </p>

<p><span>g.</span>软重启无线网卡</p>

<p><span style="font-family:Wingdings;">à</span><span>   AT+Z</span></p>

<p><span style="font-family:Wingdings;">ß</span><span>   +OK</span></p>

<p><span style="font-family:Arial, sans-serif;"> </span></p>

<p><span style="font-family:Arial, sans-serif;">AT+PMTF</span>保存参数到模块<span style="font-family:Arial, sans-serif;">NV</span>中，则模块重启后（无论是<span style="font-family:Arial, sans-serif;">AT+Z</span>软重启还是硬件重启），模块将自动加入<span style="font-family:Arial, sans-serif;">+SSID</span>命令设置的无线网络，而且由于保存的工作模式<span style="font-family:Arial, sans-serif;">ATM</span>为自动工作模式，模块会自动建立<span style="font-family:Arial, sans-serif;">+ATRM</span>命令设置的<span style="font-family:Arial, sans-serif;">socket</span>连接并工作于数据透传模式。在透传的过程中如果断链，也会自动重新建链。</p>

<p><span style="font-family:Arial, sans-serif;"> </span></p>

<p>所以执行完步骤<span style="font-family:Arial, sans-serif;">g</span>后，模块将重启，并且进入透传模式，自动连接路由器<span>Air_Luat_WiFi</span>并连接到<span>tcp</span>服务器，此时网页<span>TCP Lab</span>会显示连接的客户端及端口：</p>

<p><span><br /></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-G67wHoIn5b922ba1286ee.png" class="img-responsive" style="width:634px;" alt="attachments-2018-09-G67wHoIn5b922ba1286ee.png" /><span><br /></span></p>

<p>至此，此<span style="font-family:'宋体';">Air602</span>模块连接<span style="font-family:'宋体';">TCP Lab</span>服务器成功。</p>



<p> </p>

<p><br /></p>

<p><b>模块接收数据测试：</b></p>



<p>在服务器<span>TCP Lab</span>中输入数据点击发送：</p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-geCNR8oW5b922c24c5e35.png" class="img-responsive" style="width:634px;" alt="attachments-2018-09-geCNR8oW5b922c24c5e35.png" /></p>

<p>点击“发送”，则<span style="font-family:Arial, sans-serif;">TCP
Lab</span>提示框中会显示发送成功：</p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-sTzgwvjr5b922c392a335.png" class="img-responsive" style="width:634px;" alt="attachments-2018-09-sTzgwvjr5b922c392a335.png" /></p>

<p><br /></p>



<p>此时模块串口显示输出<span style="font-family:Arial, sans-serif;">”hello
wifi module”</span>的消息</p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-9iijpUih5b922c552b45c.png" class="img-responsive" alt="attachments-2018-09-9iijpUih5b922c552b45c.png" /></p>



<p><b><br /></b></p>

<p><b>模块发送数据测试：</b></p>



<p>在串口助手的数据输入框中输入数据<span style="font-family:Arial, sans-serif;">“hello
TCP Lab”</span>，并点击发送数据，则<span style="font-family:Arial, sans-serif;">TCP Lab</span>收到数据，则提示接收数据：</p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-IKXT5CmL5b922cc3a59ac.png" class="img-responsive" style="width:634px;" alt="attachments-2018-09-IKXT5CmL5b922cc3a59ac.png" /></p>

<p>更多内容请加入<span style="font-family:'宋体';">QQ</span>群“<span style="font-family:'宋体';">679177589</span>”参与讨论。</p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-FBYcvMpS5b922cd52f925.jpg" class="img-responsive" style="width:375px;" alt="attachments-2018-09-FBYcvMpS5b922cd52f925.jpg" /></p>






      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/09/07/435/" data-id="ckkfmdgee00cuvkcga6e52i8l" data-title="合宙Luat WiFi模块Air602 数据传输指南V1.33" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-434" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/09/07/434/" class="article-date">
  <time class="dt-published" datetime="2018-09-07T06:41:44.000Z" itemprop="datePublished">2018-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/09/07/434/">Air800_硬件设计手册_V1.75</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">1. </span><b><span style="font-family:Calibri;font-size:15pt;"><a><font>绪论</font></a></span></b></h1><p><span style="font-family:Calibri;font-size:10.5pt;"><font>本文档定义了</font>Air800<font>模块及其硬件接口规范，电气特性和机械细节，通过此文档的帮助，结合我们的应用手册和用户指导书，客户可以快速应用</font><font>Air800</font><font>模块于无线应用。</font></span></p><p> </p><h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">1.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>相关文档</font></a></span></b></h2><p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">1</span><span style="font-family:Calibri;font-size:10pt;"><font>：相关文档</font></span></p><p><br /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-qIwfHtgj5b921defcdc0c.png" class="img-responsive" alt="attachments-2018-09-qIwfHtgj5b921defcdc0c.png" /></p><p> <span style="font-family:Calibri;font-size:9pt;">注意：所有文档均可在</span><a target="_blank" rel="noopener" href="http://www.openluat.com/"><span style="font-family:Calibri;font-size:9pt;">www.openluat.com</span></a><span style="font-family:Calibri;font-size:9pt;">下载</span></p><p> </p><p> </p><p> </p><h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">2. </span><b><span style="font-family:Calibri;font-size:15pt;"><a><font>综述</font></a></span></b></h1><p><span style="font-family:Calibri;font-size:10.5pt;">Air800<font>模块是</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>一款</font>GPRS</span><span style="font-family:Calibri;font-size:10.5pt;">+</span><span style="font-family:Calibri;font-size:10.5pt;">GPS<font>二合一模块</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>，具有</font>23.8mm ×  14.8mm × 2.3mm<font>的超小尺寸，</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>适合应用于各种需要准备定位的物联网产品。</font></span></p><p> </p><p><span style="font-family:Calibri;font-size:10.5pt;">Air</span><span style="font-family:Calibri;font-size:10.5pt;">800</span><span style="font-family:Calibri;font-size:10.5pt;"><font>支持</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>四频段</font>GSM/GPRS<font>模块，它的工作频段是：</font><font>GSM850MHz</font><font>，</font><font>GSM900MHz</font><font>，</font><font>DCS1800MHz</font><font>和</font><font>PCS1900MHz</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p><p> </p><p><span style="font-family:Calibri;font-size:10.5pt;">Air800</span><span style="font-family:Calibri;font-size:10.5pt;"><font>支持</font>GPS/Beidou/GLONASS/Galileo/QZSS/SBAS</span></p><p> </p><p><span style="font-family:Calibri;font-size:10.5pt;">Air</span><span style="font-family:Calibri;font-size:10.5pt;">800 </span><span style="font-family:Calibri;font-size:10.5pt;"><font>内置</font></span><span style="font-family:Calibri;font-size:10.5pt;">32</span><span style="font-family:Calibri;font-size:10.5pt;">MbNorFlash</span><span style="font-family:Calibri;font-size:10.5pt;"> + 32</span><span style="font-family:Calibri;font-size:10.5pt;">MbSRAM</span><span style="font-family:Calibri;font-size:10.5pt;"><font>，并</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>支持合宙特有的</font>Luat<font>开源平台</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>方便客户做二次开发</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>，极大的</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>减少了客户的开发周期和成本。</font></span></p><p> </p><p><span style="font-family:Calibri;font-size:10.5pt;">Air800 </span><span style="font-family:Calibri;font-size:10.5pt;"><font>有丰富的外围接口</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>支持</font>UART</span><span style="font-family:Calibri;font-size:10.5pt;"><font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;">SPI</span><span style="font-family:Calibri;font-size:10.5pt;"><font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;">I</span><span style="font-family:Calibri;font-size:10.5pt;">2</span><span style="font-family:Calibri;font-size:10.5pt;">C<font>等各种接口</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>可支持最多</font></span><span style="font-family:Calibri;font-size:10.5pt;">22</span><span style="font-family:Calibri;font-size:10.5pt;"><font>个</font>GPIO<font>，并支持</font><font>ADC</font><font>，音频输入和输出功能，满足各种应用场景的使用要求。</font></span></p><p> </p><p><span style="font-family:Calibri;font-size:10.5pt;">Air800<font>是贴片式模块，采用</font><font>LCC</font><font>封装，可以通过其管脚焊盘内嵌于客户应用中，提供了模块与客户主板间丰富的硬件接口。</font></span></p><p> </p><p><span style="font-family:Calibri;font-size:10.5pt;">Air800<font>模块采用了省电技术，电流功耗在睡眠模式</font><font>DRX=5</font><font>下，低至</font><font>1.14mA</font><font>。</font></span></p><p> </p><p><span style="font-family:Calibri;font-size:10.5pt;">Air800<font>内嵌</font><font>TCP UDP PPP HTTPS SSL</font><font>等协议，已内嵌的扩展</font><font>AT</font><font>命令可以使用户更容易地使用这些互联网协议。</font></span></p><p> </p><p><span style="font-family:Calibri;font-size:10.5pt;">Air800<font>模块完全符合</font><font>RoHS</font><font>标准。</font></span></p><p> </p><p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">2</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块主要特征</font></span></p><p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-UYNdSbyX5b921e3170dac.png" class="img-responsive" alt="attachments-2018-09-UYNdSbyX5b921e3170dac.png" /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-lUf2IXwm5b921e4c23381.png" class="img-responsive" alt="attachments-2018-09-lUf2IXwm5b921e4c23381.png" /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-N8T3ocRS5b921e610e97a.png" class="img-responsive" alt="attachments-2018-09-N8T3ocRS5b921e610e97a.png" /></p><p> </p><p> </p><p> </p><h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">2.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>功能图</font></a></span></b></h2><p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图为</font>Air800<font>功能框图，阐述了其主要功能：</font></span></p><p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-QiIJXLqy5b921e89eb79f.png" class="img-responsive" alt="attachments-2018-09-QiIJXLqy5b921e89eb79f.png" /></p><p><span style="font-family:Calibri;font-size:10pt;"><font>                                                            图表</font></span><span style="font-family:Calibri;font-size:10pt;">1</span><span style="font-family:Calibri;font-size:10pt;"><font>：功能框图</font></span></p><p><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p><h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">2.2. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>评估板</font></a></span></b></h2><p><span style="font-family:Calibri;font-size:10.5pt;"><font>为了有助于测试及使用</font>Air800<font>，合宙提供一套评估板。评估板包括</font><font>Air800</font><font>模块、</font><font>EVB</font></span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">Air800<font>、</font><font>UART</font><font>转</font><font>USB</font><font>线等。</font></span></p><p> </p><p> </p><h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">3. </span><b><span style="font-family:Calibri;font-size:15pt;"><a><font>应用接口</font></a></span></b></h1><p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块采用</font>LCC<font>封装，</font></span><span style="font-family:Calibri;font-size:10.5pt;">38</span><span style="font-family:Calibri;font-size:10.5pt;"><font>个</font>SMT<font>焊盘管脚，后续章节详细阐述了以下接口的功能：</font></span></p><p> </p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>电源供电</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E7%94%B5%E6%BA%90%E4%BE%9B%E7%94%B5"><span style="font-family:Calibri;font-size:10.5pt;"><font>电源供电</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>开关机</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E5%BC%80%E5%85%B3%E6%9C%BA"><span style="font-family:Calibri;font-size:10.5pt;"><font>开关机</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>省电技术</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E7%9C%81%E7%94%B5%E6%8A%80%E6%9C%AF"><span style="font-family:Calibri;font-size:10.5pt;"><font>省电技术</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E4%B8%B2%E5%8F%A3"><span style="font-family:Calibri;font-size:10.5pt;"><font>串口</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>音频接口</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E9%9F%B3%E9%A2%91%E6%8E%A5%E5%8F%A3"><span style="font-family:Calibri;font-size:10.5pt;"><font>音频</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡接口</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_SIM%E5%8D%A1%E6%8E%A5%E5%8F%A3"><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>管脚描述</font></a></span></b></h2><p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-HiOqzQyf5b921ec74d4e5.png" class="img-responsive" alt="attachments-2018-09-HiOqzQyf5b921ec74d4e5.png" /></p><p><span style="font-family:Calibri;font-size:10pt;"><font>                                                             图表</font></span><span style="font-family:Calibri;font-size:10pt;">2</span><span style="font-family:Calibri;font-size:10pt;"><font>：管脚排列图（正视图）</font></span></p><p><span style="font-family:Calibri;font-size:11pt;"><br /></span></p><p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">3</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;">Air800<font>管脚分配</font></span></p><p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-cKcsRAoU5b921f058dc55.png" class="img-responsive" alt="attachments-2018-09-cKcsRAoU5b921f058dc55.png" /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-wBGZsjPs5b921f2142070.png" class="img-responsive" alt="attachments-2018-09-wBGZsjPs5b921f2142070.png" /><br /></p><p> </p><p> </p><p> </p><p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">4</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>管脚描述</font></span></p><p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-HTWpf2Iu5b921f5280b11.png" class="img-responsive" alt="attachments-2018-09-HTWpf2Iu5b921f5280b11.png" /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-OMWTkhQA5b921f671f58f.png" class="img-responsive" alt="attachments-2018-09-OMWTkhQA5b921f671f58f.png" /></p></div>

<p>
<img src="http://oldask.openluat.com/image/show/attachments-2018-09-jRNPHjeZ5b921f8d09667.png" class="img-responsive" alt="attachments-2018-09-jRNPHjeZ5b921f8d09667.png" /></p>

<div><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-GiVNbEzD5b921faf7bdb3.png" class="img-responsive" alt="attachments-2018-09-GiVNbEzD5b921faf7bdb3.png" /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-UMsaWDGO5b921ff687dc9.png" class="img-responsive" alt="attachments-2018-09-UMsaWDGO5b921ff687dc9.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-D47oQrOC5b92201115e4e.png" class="img-responsive" alt="attachments-2018-09-D47oQrOC5b92201115e4e.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-27XmM4E85b92202b007c6.png" class="img-responsive" alt="attachments-2018-09-27XmM4E85b92202b007c6.png" /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-d6ht996H5b92203d10bd2.png" class="img-responsive" alt="attachments-2018-09-d6ht996H5b92203d10bd2.png" /><br /></p><p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">5</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:'黑体';font-size:10.5pt;">G</span><span style="font-family:Calibri;font-size:10.5pt;">PIO</span><span style="font-family:Calibri;font-size:10.5pt;"> </span><span style="font-family:'黑体';font-size:10.5pt;"><font>配置表</font></span></p><p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-mANrlxcG5b92219cc8e39.png" class="img-responsive" alt="attachments-2018-09-mANrlxcG5b92219cc8e39.png" /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-8vxW7Hp25b9221ac548d9.png" class="img-responsive" alt="attachments-2018-09-8vxW7Hp25b9221ac548d9.png" /></p></div>

<p>
<span style="font-family:Calibri;font-weight:bold;font-size:14pt;"><br /></span>
</p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.2. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>工作模式</font></a></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表简要的叙述了接下来几章提到的各种工作模式。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">6</span><span style="font-family:Calibri;font-size:10pt;"><font>：工作模式</font></span></p>



<p><b> </b><img src="http://oldask.openluat.com/image/show/attachments-2018-09-oZvUEywg5b9221de866d4.png" class="img-responsive" alt="attachments-2018-09-oZvUEywg5b9221de866d4.png" /></p>





<p> </p>



<p> </p>



<p> </p>



<p><br /></p>



<p> </p>



<p> </p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.3. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>电源供电</font></a></span></b></h2>



<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.3.1. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>模块电源工作特性</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在</font>GSM/GPRS<font>模块应用设计中，电源设计是很重要的一部分。由于</font><font>GSM</font><font>发射时每隔</font><font>4.615ms</font><font>会有一个持续</font><font>577us</font><font>（即</font><font>1/8</font><font>的</font><font>TDMA</font><font>周期（</font><font>4.615ms</font><font>））的突发脉冲。在突发脉冲阶段内，电源必须能够提供高的峰值电流，保证电压不会跌落到模块最低工作电压。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>对于</font>Air800<font>模块，在最大发射功率等级下模块的峰值电流会达到</font><font>1.6A</font><font>，这会引起</font><font>VBAT</font><font>端电压的跌落。为确保模块能够稳定正常工作，建议模块</font><font>VBAT</font><font>端的最大跌落电压不应超过</font><font>400mV</font><font>。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-KMF9yp1X5b9221f91eeeb.png" class="img-responsive" alt="attachments-2018-09-KMF9yp1X5b9221f91eeeb.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                           图表</font></span><span style="font-family:Calibri;font-size:10pt;">3</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块发射时的电压电流波形图</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.3.2. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>减小电压跌落</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块电源</font>VBAT<font>电压输入范围为</font><font>3.3V~4.2V</font><font>，为保证</font><font>VBAT</font><font>电压不会跌落到</font><font>3.3V</font><font>以下，在</font><font>VBAT</font><font>输入端，建议并联一个低</font><font>ESR(ESR=0.7</font></span><span style="font-family:Calibri;font-size:10.5pt;">Ω</span><span style="font-family:Calibri;font-size:10.5pt;">)<font>的</font><font>100uF</font><font>的钽电容，以及</font><font>100nF</font><font>、</font><font>33pF</font><font>、</font><font>10pF</font><font>滤波电容（</font><font>0603</font><font>封装），</font><font>VBAT</font><font>输入端参考电路如图</font><font>4</font><font>所示。并且建议</font><font>VBAT</font><font>的</font><font>PCB</font><font>走线尽量短且足够宽，减小</font><font>VBAT</font><font>走线的等效阻抗，确保在最大发射功率时大电流下不会产生太大的电压跌落。建议</font><font>VBAT</font><font>走线宽度不少于</font><font>2mm</font><font>，并且走线越长，线宽越宽。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-o8JJwr8p5b92220f77f47.png" class="img-responsive" alt="attachments-2018-09-o8JJwr8p5b92220f77f47.png" /><span style="text-align:center;font-family:Calibri;font-size:10pt;">                                      图表</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">4</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">：VBAT输入参考电路</span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.3.3. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>供电参考电路</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>电源设计对模块的供电至关重要，必须选择能够提供至少</font>2A<font>电流能力的电源。若输入电压跟模块的供电电压的压差不是很大，建议选择</font><font>LDO</font><font>作为供电电源。若输入输出之间存在比较大的压差，则使用开关电源转换器。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:11pt;">LDO<font>供电：</font></span></b></p>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图是</font>+5V<font>供电的参考设计，采用了</font><font>Micrel</font><font>公司的</font><font>LDO</font><font>，型号为</font><font>MIC29302WU</font><font>。它的输出电压是</font><font>4.16V</font><font>，负载电流峰值到</font><font>3A</font><font>。为确保输出电源的稳定，建议在输出端预留一个稳压管，并且靠近模块</font><font>VBAT</font><font>管脚摆放。建议选择反向击穿电压为</font><font>5.1V</font><font>，耗散功率为</font><font>1W</font><font>以上的稳压管。</font></span></p>



<p> </p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-a2gQE0Wq5b9222265e636.png" class="img-responsive" alt="attachments-2018-09-a2gQE0Wq5b9222265e636.png" /></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                    图表</font></span><span style="font-family:Calibri;font-size:10pt;">5</span><span style="font-family:Calibri;font-size:10pt;"><font>：供电输入参考设计</font></span></p>



<p> </p>

<p><b><span style="font-family:Calibri;font-size:11pt;">DCDC<font>供电：</font></span></b></p>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图是</font>DCDC<font>开关电源的参考设计，采用的是杰华特公司的</font><font>JW5033H </font><font>开关电源芯片，它的最大输出电流在</font><font>2A</font><font>，同时输入电压范围</font><font>4.7V~20V</font><font>。注意</font><font>C25</font><font>的选型要根据输入电压来选择耐压值。</font></span></p>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-TplZlIY15b92223b43ae2.png" class="img-responsive" alt="attachments-2018-09-TplZlIY15b92223b43ae2.png" /><font style="font-family:Calibri;font-size:10pt;text-align:center;">                                                     图表</font><span style="font-family:Calibri;font-size:10pt;text-align:center;"> 6</span><font style="font-family:Calibri;font-size:10pt;text-align:center;">：</font><font style="font-family:Calibri;font-size:10pt;text-align:center;">DCDC</font><font style="font-family:Calibri;font-size:10pt;text-align:center;">供电输入参考设计</font></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.4. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>开关机</font></a></span></b></h2>



<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.4.1. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>开机</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块可以通过</font>PWRKEY<font>管脚开机。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>默认情况下模块是自适应波特率的</font>(AT+IPR=0)<font>，在自适应波特率模式下，上电后</font><font>URC</font><font>信息</font><font>“RDY”</font><font>不会回发给主控机。在模块开机</font><font>2-3</font><font>秒后，可以给模块发送</font><font>AT</font><font>命令。主控机需首先发送</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>一个</font></span><span style="font-family:Calibri;font-size:10.5pt;">“AT”<font>字符给模块来</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>训练</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>主控机的波特率，</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>此时</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>会</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>返回</font>“OK”<font>。然后发送一个</font><font>“AT+IPR=x</font></span><span style="font-family:'宋体';font-size:10.5pt;">;</span><span style="font-family:Calibri;font-size:10.5pt;">&amp;W”</span><span style="font-family:'宋体';font-size:10.5pt;"> (x<font>是波特率，例如</font><font>9600)</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>命令给模块设置一个固定的波特率，并把这些配置保存，在完成这些配置之后，每次模块开机以后，会通过串口返回一个</font>URC<font>信息</font><font>“RDY”</font><font>。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>要进一步了解，请参考</font></span><a href="#_%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3"><span style="font-family:Calibri;font-size:10.5pt;"><font>文档</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">[1]</span></b></a><span style="font-family:Calibri;font-size:10.5pt;"><font>中的</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">“AT + IPR”</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>章节。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块的硬件流控是默认关闭的，三线式情况下，即只有</font>TXD<font>，</font><font>RXD</font><font>，</font><font>GND</font><font>情况下，</font><font>RTS</font><font>，</font><font>CTS</font><font>管脚默认下拉。此时模块可以接收和发送数据。如果模块连接上</font><font>RTS</font><font>，</font><font>CTS</font><font>时。模块和设备之间就会根据</font><font>RTS</font><font>和</font><font>CTS</font><font>的状态来判断是否接收和发送数据。并且，无论有无流控，模块在固定波特率的情况下，都会上报</font><font>“RDY”</font><font>。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;">3.4.1.1</span><span style="font-family:Calibri;font-size:10.5pt;">PWRKEY<font>管脚开机</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">VBAT<font>上电后，</font><font>PWRKEY</font><font>管脚可以启动模块，把</font><font>PWRKEY</font><font>管脚拉低持续</font></span><span style="font-family:'宋体';font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">s<font>之后开机，开机成功后</font><font>PWRKEY</font><font>管脚可以释放。可以通过检测</font><font>VDDIO</font><font>管脚的电平来判别模块是否开机。推荐使用开集驱动电路来控制</font><font>PWRKEY</font><font>管脚。下图为参考电路：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-6W5lE3is5b92225ab5f1a.png" class="img-responsive" alt="attachments-2018-09-6W5lE3is5b92225ab5f1a.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                 图表</font></span><span style="font-family:Calibri;font-size:10pt;">6</span><span style="font-family:Calibri;font-size:10pt;"><font>：开集驱动参考开机电路</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>另一种控制</font>PWRKEY<font>管脚的方法是直接使用一个按钮开关。按钮附近需放置一个 </font><font>TVS</font><font>管用以</font><font>ESD</font><font>保护。下图为参考电路：</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-PxTJpMRP5b922276de325.png" class="img-responsive" alt="attachments-2018-09-PxTJpMRP5b922276de325.png" /><span style="font-family:Calibri;font-size:10.5pt;"><font><br /></font></span></p>



<p><span style="font-family:Calibri;font-size:10pt;"><font>                                              图表</font></span><span style="font-family:Calibri;font-size:10pt;">7</span><span style="font-family:Calibri;font-size:10pt;"><font>：按键开机参考电路</font></span></p>



<p> </p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.4.1.2</span></b><b><span style="font-family:Calibri;font-size:10.5pt;"><font>上电</font></span></b><b><span style="font-family:Calibri;font-size:10.5pt;"><font>开机</font></span></b></p>



<p><span style="font-family:Calibri;font-size:11pt;"><font>将</font></span><span style="font-family:Calibri;font-size:10.5pt;">PWRKEY<font>管脚直接接地可以实现上电自动开机功能。需要注意，在上电开机模式下，将无法关机，只要</font><font>VBAT</font><font>管脚的电压大于开机电压即使软件调用关机接口，模块仍然会再开机起来。另外，在此模式下，要想成功开机起来</font><font>VBAT</font><font>管脚电压任然要大于软件设定的开机电压值，如果不满足，模块会关闭，就会出现反复开关机的情况。</font></span></p>



<p> </p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.4.2. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>关机</font></span></b></h3>





<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>以下的方式可以关闭模块：</font></span></p>



<p> </p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>正常关机：使用</font>PWRKEY<font>管脚关机。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>低压自动关机：模块检测到低压时关机。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>紧急关机：通过</font>RESET<font>管脚关机。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">3.4.2.1</span><span style="font-family:Calibri;font-size:10.5pt;">PWRKEY<font>管脚关机</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">PWRKEY<font>管脚拉低</font></span><span style="font-family:'宋体';font-size:10.5pt;">1.5s<font>以上</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>，模块关机。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>关机过程中，模块需要注销</font>GSM<font>网络，注销时间与当前网络状态有关，经测定用时约</font><font>2s~12s</font><font>，因此建议延长</font><font>12s</font><font>后再进行断电或重启，以确保在完全断电之前让软件保存好重要数据。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：此信息在自适应波特率时不会出现，</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">DTE</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>和</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">DCE</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>设备在启动时不会正确同步。因此建议模块设置成固定波特率。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>关机之后，模块进入关机模式，无法执行进一步的</font>AT<font>命令。关机模式可以用</font><font>VDDIO</font><font>管脚来指示，低电平指示模块已进入关机模式。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">3.4.2.3</span><span style="font-family:Calibri;font-size:10.5pt;">RESET<font>紧急关机</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块可以通过拉低</font>RESET<font>管脚</font><font>200ms</font><font>左右来关机，之后释放。推荐使用</font><font>OC</font><font>驱动电路来控制</font><font>RESET</font><font>管脚。下图为参考电路：</font></span></p>

<p style="text-align:justify;"><span style="font-family:'宋体';font-size:11pt;">    </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-wBtoExZE5b92229238a12.png" class="img-responsive" alt="attachments-2018-09-wBtoExZE5b92229238a12.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                           图表</font></span><span style="font-family:Calibri;font-size:10pt;">8</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;"><font>开集驱动</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>参考紧急关机电路</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font><br /></font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>另一种控制</font>RESET<font>管脚紧急关机的方法是直接使用一个按钮开关。按钮附近需放置一个</font><font>TVS</font><font>管用以</font><font>ESD</font><font>保护。下图为参考电路：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-D5bGNx7u5b9222b38e0ba.png" class="img-responsive" alt="attachments-2018-09-D5bGNx7u5b9222b38e0ba.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                            图表</font></span><span style="font-family:Calibri;font-size:10pt;">9</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;"><font>按键紧急关机参考电路</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.5. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>省电技术</font></a></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>根据系统需求，有两种方式可以使模块进入到低功耗的状态。</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>一种是</font>“AT+CFUN”<font>命令可以使模块进入最少功能状态。</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.5.1. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>最少功能模式</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>最少功能模式可以将模块功能减少到最小程度，此模式可以通过发送</font>“AT+CFUN=&lt;fun&gt;”<font>命令来设置。</font><font>&lt;fun&gt;</font><font>参数可以选择</font><font>0</font><font>，</font><font>1</font><font>，</font><font>4</font><font>。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">0<font>：最少功能（关闭</font><font>RF</font><font>和</font><font>SIM</font><font>卡）；</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">1<font>：全功能（默认）；</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">4<font>：关闭</font><font>RF</font><font>发送和接收功能；</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果使用</font>“AT+CFUN=0”<font>将模块设置为最少功能模式，射频部分和</font><font>SIM</font><font>卡部分的功能将会关闭。而串口依然有效，但是与射频部分以及</font><font>SIM</font><font>卡部分相关的</font><font>AT</font><font>命令则不可用。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果使用</font>“AT+CFUN=4”<font>设置模块，</font><font>RF</font><font>部分功能将会关闭，而串口依然有效。所有与</font><font>RF</font><font>部分相关的</font><font>AT</font><font>命令不可用。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块通过</font>“AT+CFUN=0”<font>或者</font><font>“AT+CFUN=4”</font><font>设置以后，可以通过</font><font>“AT+CFUN=1”</font><font>命令设置返回到全功能状态。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>想了解更多关于</font>“ AT+CFUN“<font>命令，</font></span><span style="font-family:Calibri;font-size:11pt;"><font>请参考</font></span><a href="#_%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3"><span style="font-family:Calibri;font-size:10.5pt;"><font>文档</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">[1]</span></b></a><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.5.2. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>睡眠模式（慢时钟模式）</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">Air800<font>支持睡眠模式，对于</font><font>AT</font><font>版本，通过</font><font>DTR pin</font><font>脚来控制休眠，</font><font>DTR</font><font>高电平时允许模块休眠，当</font><font>DTR</font><font>为高时，模块在没有动作的情况下会在</font><font>30s</font><font>左右进入休眠模式；</font><font>DTR</font><font>由高电平变为低电平时将模块唤醒，同时，主串口连续发送</font><font>AT</font><font>指令也可以唤醒模块，但是前面一些</font><font>AT</font><font>指令会丢失。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>对于</font>Luat<font>版本一般情况下，用户是不需要写代码去控制进入或者退出休眠状态，系统自动控制进入和退出休眠</font></span></p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.5.3. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>睡眠唤醒</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>当模块处于睡眠模式，以下方法可以唤醒模块。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">AT<font>版本将</font><font>DTR</font><font>管脚拉低可以唤醒模块。</font><font>DTR</font><font>管脚拉低</font><font>20ms</font><font>后，串口被激活。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">GPIO<font>中断。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>接收来电或者</font>GPRS<font>数据以唤醒模块。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>接收短信以唤醒模块。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：</font>AT<font>版本在模块和</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">DTE</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>设备通讯时，</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">DTR</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>管脚必须置低。</font></span></p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.6. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>模式切换汇总</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">7</span><span style="font-family:Calibri;font-size:10pt;"><font>：模式切换汇总</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-YEh8mDuE5b9222e683207.png" class="img-responsive" alt="attachments-2018-09-YEh8mDuE5b9222e683207.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.7. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>串口</font></a></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块提供了一个通用异步收发器：主串口</font>UART1<font>。模块支持固定波特率和自适应波特率。自适应波特率支持范围</font><font>4800bps</font><font>到</font><font>115200bps</font><font>。</font></span></p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>主串口</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">TXD<font>：发送数据到</font><font>DTE</font><font>设备的</font><font>RXD</font><font>端</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">RXD<font>：从</font><font>DTE</font><font>设备</font><font>TXD</font><font>端接收数据</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">RTS<font>：</font><font>DTE</font><font>请求发送数据给</font><font>DCE</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_CTS<font>：清除发送</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">DTR<font>：</font><font>DTE</font><font>准备好并通知</font><font>DCE</font><font>（此管脚可以用来唤醒模块）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">RI<font>：振铃（</font><font>DCE</font><font>有来电或者</font><font>URC</font><font>或者短信会发送信号通知</font><font>DTE</font><font>）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_DCD<font>：载波检测（当</font><font>DCE</font><font>和</font><font>DTE</font><font>之间的通信链路建立起来）</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在默认情况下，模块的硬件流控是关闭的。当客户需要硬件流控时，管脚</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">RTS,CTS</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>必须连接到客户端，</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">AT</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>命令</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">“AT+IFC=2,2”</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>可以用来打开硬件流控。</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">AT</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>命令</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">“AT+IFC=0,0”</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>可以用来关闭流控。具体请参考</font></span><a href="#_%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3"><span style="font-family:Calibri;font-size:10.5pt;"><font>文档</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">[1]</span></b></a><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>串口逻辑电平如下表所示：</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">8</span><span style="font-family:Calibri;font-size:10pt;"><font>：串口逻辑电平</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-KWJyHu2E5b9222fb90b1d.png" class="img-responsive" alt="attachments-2018-09-KWJyHu2E5b9222fb90b1d.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">9</span><span style="font-family:Calibri;font-size:10pt;"><font>：串口管脚定义</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-WCq6DXiM5b92230e6c827.png" class="img-responsive" alt="attachments-2018-09-WCq6DXiM5b92230e6c827.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.7.1. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>主串口</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">3.8.1.1</span><span style="font-family:Calibri;font-size:10.5pt;"><font>主串口特点</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>包括数据线</font>TXD<font>和</font><font>RXD</font><font>，硬件流控控制线</font><font>RTS</font><font>和</font><font>CTS</font><font>，其它控制线</font><font>DTR</font><font>，</font><font>DCD</font><font>和</font><font>RI</font><font>。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">8<font>个数据位，无奇偶校验，一个停止位。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>硬件流控默认关闭。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>用以</font>AT<font>命令传送，</font><font>GPRS</font><font>数传，</font><font>CSD</font><font>传真等等。串口支持软件多路复用功能，软件升级。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>支持波特率如下：</font></span><span style="font-family:'宋体';font-size:10.5pt;">1200<font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;">2400<font>，</font><font>4800</font><font>，</font><font>9600</font><font>，</font><font>14400</font><font>，</font><font>19200</font><font>，</font><font>28800</font><font>，</font><font>38400</font><font>，</font><font>57600</font><font>，</font><font>115200</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>，</font>230400,460800,921600</span><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块默认设置为自适应波特率。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>对于</font>AT<font>指令版本默认情况下模块是自适应波特率</font><font>(AT+IPR=0)</font><font>，在自适应波特率模式下，开机后</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>初始化</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>信息</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>（开头是</font></span><span style="font-family:Calibri;font-size:10.5pt;">“RDY”</span><span style="font-family:'宋体';font-size:10.5pt;"><font>）</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>不会回发给主控机。在模块开机</font>2-3<font>秒后，可以给模块发送</font><font>AT</font><font>命令。主控机需首先发送</font><font>“AT”</font><font>字符给模块来</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>训练</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>主控机的波特率，</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>此时</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>会上报初始化信息，此时表示训练成功</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>用户可以</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>发送一个</font>“AT+IPR=x :&amp;W”<font>命令给模块</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>（</font>x<font>是波特率，比如</font><font>9600</font><font>），此命令的作用是</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>设置一个固定的波特率</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>并</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>保存，在完成这些配置之后，每次模块开机以后，会</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>自动</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口返回</font>URC</span><span style="font-family:'宋体';font-size:10.5pt;"> <font>初始化</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>信息</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>（开头是</font></span><span style="font-family:Calibri;font-size:10.5pt;">“RDY”</span><span style="font-family:'宋体';font-size:10.5pt;"><font>）</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>



<p> </p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>为了更好的使用自适应波特率功能，以下的使用条件需要注意：</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">DTE</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>和</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">DCE</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>设备之间同步：</font></span></p>

<p><span style="font-family:Arial;font-size:10.5pt;"><font>自适应波特率功能开启情况下，当</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>模块</font></span><span style="font-family:Arial;font-size:10.5pt;"><font>上电，在发送</font>“<font>AT</font><font>”</font><font>字符前最好等待 </font><font>2~3</font><font>秒钟。当模块</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>上报开机初始化信息</font></span><span style="font-family:Arial;font-size:10.5pt;"><font>，表明</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>波特率训练成功，和上位机</font></span><span style="font-family:Arial;font-size:10.5pt;"><font>完成了同步</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>。</font></span></p>

<p><span style="font-family:'宋体';font-size:10.5pt;"><font>注：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>在自适应波特率模式下，主控器如果需要</font>URC<font>信息，必须首先进行同步。否则</font><font>URC</font><font>信息将</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>无法上报</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>自适应波特率操作配置：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口配置为</font>8<font>位数据位，无奇偶校验位，</font><font>1</font><font>位停止位（出厂配置）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:'宋体';font-size:10.5pt;"><font>模块开机</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>只有字符串</font>“AT”</span><span style="font-family:'宋体';font-size:10.5pt;"><font>可以训练波特率</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>（</font>“a</span><span style="font-family:'宋体';font-size:10.5pt;">t</span><span style="font-family:Calibri;font-size:10.5pt;">”</span><span style="font-family:'宋体';font-size:10.5pt;"> <font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;">“At”<font>或者</font><font>“aT”</font><font>无法被识别）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:'宋体';font-size:10.5pt;"><font>波特率训练成功后，可以识别大写、小写或大小写组合的</font>AT<font>命令。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>自适应波特率模式下，如果模块开机没有先同步，如</font>“RDY”<font>，</font><font>“+CFUN:  1”</font><font>和</font><font>“+CPIN: READY”</font><font>这样的</font><font>URC</font><font>信息将不会上报。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>不推荐在固定波特率模式时切换到自适应波特率模式。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>在自适应波特率模式下，不推荐切换到软件多路复用模式。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">3.8.1.2</span><span style="font-family:Calibri;font-size:10.5pt;"><font>主串口连接方式</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>主串口的连接方式较为灵活，如下是三种常用的连接方式。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>全功能的串口按照如下的连接方式，此方式主要应用在调制解调模式（</font>PPP<font>拨号）。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-57jCAg0x5b9223223218a.png" class="img-responsive" alt="attachments-2018-09-57jCAg0x5b9223223218a.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                          图表</font></span><span style="font-family:Calibri;font-size:10pt;">10</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>全功能串口连接方式示意图</font></span></p>



<p> </p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>三线制的串口请参考如下的连接方式：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-ETUK5T3f5b922335f152e.png" class="img-responsive" alt="attachments-2018-09-ETUK5T3f5b922335f152e.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                       图表</font></span><span style="font-family:Calibri;font-size:10pt;">11</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口三线制连接方式示意图</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>带流控的串口连接请参考如下电路连接，此连接方式可提高大数据量传输的可靠性，防止数据丢失。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-eKQ2b3fO5b9223463d6b9.png" class="img-responsive" alt="attachments-2018-09-eKQ2b3fO5b9223463d6b9.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                     图表</font></span><span style="font-family:Calibri;font-size:10pt;">12</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>带流控的串口连接方式示意图</font></span></p>



<p> </p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.7.2. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>调试串口</font></span></b></h3>



<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>数据线：</font>HOST</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">TXD<font>和</font><font>HOST_RXD</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>调试口仅用作软件调试，波特率配置为</font></span><span style="font-family:Calibri;font-size:10.5pt;">921600</span><span style="font-family:Calibri;font-size:10.5pt;">bps</span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口会自动向外面输出</font>log<font>信息</font></span></p>



<p> </p>



<p> </p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>调试串口连线参考如下方式连接：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-54cYH4Ts5b92235a0b4d2.png" class="img-responsive" alt="attachments-2018-09-54cYH4Ts5b92235a0b4d2.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                         图表</font></span><span style="font-family:Calibri;font-size:10pt;">13</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>软件调试连线图</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.7.3. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>串口应用</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>对于</font>3.3V<font>电压系统情况下的串口电平匹配电路参考如下，强烈建议在</font><font>RXD</font><font>等模块输入的端口上使用分压电阻的方式，将电压分压到</font><font>2.8V</font><font>。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果是</font>3V<font>系统，根据分压原理建议将</font><font>5.6K</font><font>电阻改为</font><font>10K</font><font>电阻。客户不允许分压方式下，也建议必须串接</font><font>1K</font><font>电阻</font></span><span style="font-family:Calibri;font-size:11pt;"><font>。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-Gl2M9pfY5b92242250bcc.png" class="img-responsive" alt="attachments-2018-09-Gl2M9pfY5b92242250bcc.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                      图表</font></span><span style="font-family:Calibri;font-size:10pt;">14</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;">3.3V<font>电平转换电路</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">5V<font>系统的电平匹配，模块和外设之间的电平匹配可以参考如下的连接方式，如下的虚线部分可以参考上面的实线电路（虚线部分模块发送参考模块</font><font>TXD</font><font>的电路设计，虚线部分模块接收参考模块</font><font>RXD</font><font>的电路设计）。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">VCC_MCU<font>是客户端的</font><font>I/O</font><font>电平电压。</font><font>VDDIO</font><font>是模块输出的</font><font>I/O</font><font>电平电压。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-XSaObKmi5b9224bcec1ac.png" class="img-responsive" alt="attachments-2018-09-XSaObKmi5b9224bcec1ac.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                               图表</font></span><span style="font-family:Calibri;font-size:10pt;">15</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>5V<font>电平转换电路</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>当模块和</font>PC<font>机进行通信时，需要在他们之间加</font><font>RS232</font><font>电平转换电路。因为模块的串口配置都不是</font><font>RS232</font><font>电平，仅支持</font><font>CMOS</font><font>电平。下图为模块跟</font><font>PC</font><font>通信时，串口电平转换电路。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-ufHuEbrb5b9224871b695.png" class="img-responsive" alt="attachments-2018-09-ufHuEbrb5b9224871b695.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                              图表</font></span><span style="font-family:Calibri;font-size:10pt;">16</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>RS232<font>电平转换电路</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.8. </span><b><span style="font-family:Calibri;font-size:16pt;"><br /></span></b><b><span style="font-family:Calibri;font-size:14pt;"><a><font>音频接口</font></a></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块提供了一路模拟音频输入通道和一路模拟输出通道，支持通话、录音和播放等功能。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">10</span><span style="font-family:Calibri;font-size:10pt;"><font>：音频接口管脚定义</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-qQLWTbGl5b9224d9db3e4.png" class="img-responsive" alt="attachments-2018-09-qQLWTbGl5b9224d9db3e4.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">AIN<font>可以用作麦克风输入或模拟音频信号输入。麦克风通常选用驻极体麦克风。</font><font>AIN1</font><font>是差分输入。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">AOUT<font>通道可以直接驱动</font><font>8</font><font>欧姆的喇叭。</font><font>AOUT</font><font>通道为差分输出。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>使用</font>AT+CMIC<font>可以调节麦克风的输入增益，也可以使用</font><font>“AT+CLVL”</font><font>命令来调节输出到听筒的音频增益。要了解更多，请参考</font></span><a href="#_%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3"><span style="font-family:Calibri;font-size:10.5pt;"><font>文档</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">[1]</span></b></a></p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.8.1. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>防止</font></a></span></b><span style="font-family:Calibri;font-size:12pt;">TDD</span><b><span style="font-family:Calibri;font-size:12pt;"><font>噪声和其它噪声</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>手持话柄及免提的麦克风建议采用内置射频滤波双电容（如</font>10pF<font>和</font><font>33pF</font><font>）的驻极体麦克风，从干扰源头滤除射频干扰，会很大程度改善耦合</font><font>TDD</font><font>噪音。</font><font>33pF</font><font>电容用于滤除模块工作在</font><font>900MHz</font><font>频率时的高频干扰。如果不加该电容，在通话时候有可能会听到</font><font>TDD</font><font>噪声。同时</font><font>10pF</font><font>的电容是用以滤除工作在</font><font>1800MHz</font><font>频率时的高频干扰。需要注意的是，由于电容的谐振点很大程度上取决于电容的材料以及制造工艺，因此选择电容时，需要咨询电容的供应商，选择最合适的容值来滤除工作在</font><font>GSM850MHz</font><font>，</font><font>GSM900MHz</font><font>，</font><font>DCS1800MHz</font><font>和</font><font>PCS1900MHz</font><font>时的高频噪声。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;">GSM<font>发射时的高频干扰严重程度通常主要取决于客户应用设计。在有些情况下，</font><font>GSM900</font><font>的</font><font>TDD</font><font>噪声比较严重，而有些情况下，</font><font>DCS1800</font><font>的</font><font>TDD</font><font>噪声比较严重。因此客户可以根据测试的结果选贴需要的滤波电容，甚至有的时候不需要贴该类滤波电容。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">PCB<font>板上的射频滤波电容摆放位置要尽量靠近音频器件或音频接口，走线尽量短，要先经过滤波电容再到其他点</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>天线的位置离音频元件和音频走线尽量远，减少辐射干扰，电源走线和音频走线不能平行，电源线尽量远离音频线。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>差分音频走线必须遵循差分信号的</font>Layout<font>规则。</font></span></p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.8.2. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>麦克风接口参考电路</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">AIN<font>通道内置驻极体麦克风偏置电压。麦克风通道参考电路下图所示</font></span><span style="font-family:Calibri;font-size:11pt;"><font>：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-CLZTmo9n5b9224ec44ab6.png" class="img-responsive" alt="attachments-2018-09-CLZTmo9n5b9224ec44ab6.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                            图表</font></span><span style="font-family:Calibri;font-size:10pt;">17</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;">AIN<font>麦克风通道接口电路</font></span></p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.8.3. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>音频输出接口参考电路</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">SPK<font>音频输出接口可以直接与驱动</font><font>8</font><font>欧姆喇叭。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-yodhbkmb5b9224ffa958c.png" class="img-responsive" alt="attachments-2018-09-yodhbkmb5b9224ffa958c.png" /></p>



<p>                                           <span style="text-align:center;font-family:Calibri;font-size:10pt;">图表</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">18</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">：参考线路</span></p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.8.4. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>音频电气特性</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">11</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>驻极体麦克风典型特性参数</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-vi7LKEo45b922516b9df9.png" class="img-responsive" alt="attachments-2018-09-vi7LKEo45b922516b9df9.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">12</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>音频接口典型特性参数</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-kJDnaSy75b922524bbb5e.png" class="img-responsive" alt="attachments-2018-09-kJDnaSy75b922524bbb5e.png" /></p>

<p><span style="font-family:Calibri;font-size:11pt;"><br /></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.9. </span><b><span style="font-family:Calibri;font-size:14pt;"><a>SIM<font>卡接口</font></a></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡接口支持</font><font>GSM Phase1</font><font>规范的功能，同时也支持</font><font>GSM Phase  2+</font><font>规范的功能和</font><font>FAST64 kbps SIM</font><font>卡（用于</font><font>SIM</font><font>应用工具包）</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡通过模块内部的电源供电，支持</font><font>1.8V</font><font>和</font><font>3.0V</font><font>供电。</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.9.1. </span><b><span style="font-family:Calibri;font-size:12pt;">SIM<font>接口</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表介绍了</font>SIM<font>的接口管脚定义。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">13</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>SIM<font>卡接口管脚定义</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-nzXNs9sf5b922541afe0f.png" class="img-responsive" alt="attachments-2018-09-nzXNs9sf5b922541afe0f.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图是</font>SIM<font>接口的参考电路，使用</font><font>6pin</font><font>的</font><font>SIM</font><font>卡座。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-WBu2ltRJ5b92255167eed.png" class="img-responsive" alt="attachments-2018-09-WBu2ltRJ5b92255167eed.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                       图表</font></span><span style="font-family:Calibri;font-size:10pt;">19</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;"><font>使用</font>6pin SIM<font>卡座参考电路图</font><font>(SIM)</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在</font>SIM<font>卡接口的电路设计中，为了确保</font><font>SIM</font><font>卡的良好的功能性能和不被损坏，在电路设计中建议遵循以下设计原则：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡座与模块距离摆件不能太远，越近越好，尽量保证</font><font>SIM</font><font>卡信号线布线不超过</font><font>20cm</font><font>。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡信号线布线远离</font><font>RF</font><font>线和</font><font>VBAT</font><font>电源线。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM_VDD<font>的布线宽度不小于</font><font>0.5mm</font><font>，且在</font><font>SIM_VDD</font><font>与</font><font>SIM_GND</font><font>之间的旁路电路不超过</font><font>1uF</font><font>，并靠近</font><font>SIM</font><font>卡座摆放。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>为了防止可能存在的</font>SIM_CLK<font>信号对</font><font>SIM_DATA</font><font>信号的串扰，两者布线不要太靠近，在两条走线之间增加地屏蔽。且对</font><font>SIM_RST</font><font>信号也需要地保护。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>为了保证良好的</font>ESD<font>保护，建议加</font><font>TVS</font><font>管，并靠近</font><font>SIM</font><font>卡座摆放。选择的</font><font>ESD</font><font>器件寄生电容不大于</font><font>50pF</font><font>，例如</font><font>WILL (http://www.willsemi.com) ESDA6V8AV6</font><font>。在模块和</font><font>SIM</font><font>卡之间需要串联</font><font>22</font><font>欧姆的电阻用以抑制杂散</font><font>EMI</font><font>，增强</font><font>ESD</font><font>防护。</font><font>SIM</font><font>卡的外围电路必须尽量靠近</font><font>SIM</font><font>卡座。</font></span></p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.9.2. </span><b><span style="font-family:Calibri;font-size:12pt;">6-pin SIM<font>卡座</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>使用</font>6-pin SIM<font>卡座，推荐使用</font><font>Amphenol</font><font>公司的</font><font>C70710M0065122</font><font>。访问</font><font>http://www.amphenol.com</font><font>获取更多信息。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-htZE0Spe5b92266693e2d.png" class="img-responsive" alt="attachments-2018-09-htZE0Spe5b92266693e2d.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                      图表</font></span><span style="font-family:Calibri;font-size:10pt;">20</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;">Amphenol C707 10M006 512 2 SIM<font>卡座</font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.10. </span><b><span style="font-family:Calibri;font-size:14pt;">RI<font>信号动作</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">14</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>RI<font>信号动作</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-yTQ8tXsn5b92268182ab1.png" class="img-responsive" alt="attachments-2018-09-yTQ8tXsn5b92268182ab1.png" /></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果模块用作主叫方，</font>RI<font>会保持高电平，收到</font><font>URC</font><font>信息或者短信时除外。而模块用作被叫方时，</font><font>RI</font><font>的时序如下所示：</font></span></p>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-PiLRQNpY5b92269039f1c.png" class="img-responsive" alt="attachments-2018-09-PiLRQNpY5b92269039f1c.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                               图表</font></span><span style="font-family:Calibri;font-size:10pt;">21</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;"><font>语音</font><a><font>呼叫时模块用作被叫方</font> RI<font>时序</font></a></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-QjoDcSyB5b92269fa49d8.png" class="img-responsive" alt="attachments-2018-09-QjoDcSyB5b92269fa49d8.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                  图表</font></span><span style="font-family:Calibri;font-size:10pt;">22</span><span style="font-family:Calibri;font-size:10pt;"><font>：数据</font></span><span style="font-family:Calibri;font-size:10pt;"><font>呼叫时模块用作被叫方</font>RI<font>时序</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-kVgB1Spp5b9226af819b0.png" class="img-responsive" alt="attachments-2018-09-kVgB1Spp5b9226af819b0.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                              图表</font></span><span style="font-family:Calibri;font-size:10pt;">23</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块主叫时</font></span><span style="font-family:Calibri;font-size:10pt;">RI<font>时序</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-2UTaMd2F5b9226bf3ee29.png" class="img-responsive" alt="attachments-2018-09-2UTaMd2F5b9226bf3ee29.png" /></p>



<p><span style="font-family:Calibri;font-size:10pt;"><font>                                      图表</font></span><span style="font-family:Calibri;font-size:10pt;">24</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;"><font>收到</font>URC<font>信息或者短信时</font><font>RI</font><font>时序</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.11. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>网络状态指示</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;">NET</span><span style="font-family:Calibri;font-size:10.5pt;">_LED</span><span style="font-family:Calibri;font-size:10.5pt;"><font>管脚信号可以用指示灯来指示网络的状态。该管脚工作状态如下表所示：</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">15</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;">NET_LED</span><span style="font-family:Calibri;font-size:10pt;"><font>的工作状态</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-724nJ1xK5b9226d8c312f.png" class="img-responsive" alt="attachments-2018-09-724nJ1xK5b9226d8c312f.png" /></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>参考电路如下图：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-jj5OB0H35b9226e7c4220.png" class="img-responsive" alt="attachments-2018-09-jj5OB0H35b9226e7c4220.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                           图表</font></span><span style="font-family:Calibri;font-size:10pt;">25</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>NET</span><span style="font-family:Calibri;font-size:10pt;">_LED</span><span style="font-family:Calibri;font-size:10pt;"><font>参考电路</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

<h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">4. </span><b><span style="font-family:Calibri;font-size:16pt;"><font>射频接口</font></span></b></h1>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>管脚</font> 32<font>是 </font><font>RF</font><font>天线输入端。</font><font>RF</font><font>接口</font><font>50</font><font>欧姆阻抗匹配。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">16</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>RF_ANT<font>管脚定义</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-iadyobTN5b9226fb4dcfd.png" class="img-responsive" alt="attachments-2018-09-iadyobTN5b9226fb4dcfd.png" /></p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">4.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>射频参考电路</font></span></b></h2>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-u2uuESzJ5b92270b65deb.png" class="img-responsive" alt="attachments-2018-09-u2uuESzJ5b92270b65deb.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                                 图表</font></span><span style="font-family:Calibri;font-size:10pt;">26</span><span style="font-family:Calibri;font-size:10pt;"><font>：射频参考电路</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;">Air800<font>提供了一个</font><font>RF</font><font>天线焊盘作为天线连接接口。连接到模块</font><font>RF</font><font>天线焊盘的</font><font>RF</font><font>走线必须使用微带线或者其他类型的 </font><font>RF</font><font>走线，阻抗必须控制在</font><font>50</font><font>欧姆左右。为了获得更好的射频性能，</font><font>RF</font><font>输入端口两侧各有接地焊盘。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>为了最小化</font> RF<font>走线或者</font><font>RF</font><font>线缆上的损耗，必须谨慎设计。建议插入损耗必须满足以下条件：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">GSM850/EGSM900&lt;1dB</span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">DCS1800/PCS1900&lt;1.5dB</span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>同时内置一个</font><font>RF</font><font>连接器，以方便用户直接用射频同轴天线连接模块，而省掉了大板上的射频走线。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>内置射频座规格如下：</font></span></p>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-sVG1sG1h5b9227379ff65.png" class="img-responsive" alt="attachments-2018-09-sVG1sG1h5b9227379ff65.png" /></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>对应的同轴连接器如下图：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-YawdqSQo5b92274c6ab91.png" class="img-responsive" alt="attachments-2018-09-YawdqSQo5b92274c6ab91.png" /></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">4.2. </span><b><span style="font-family:Calibri;font-size:14pt;">RF<font>输出功</font></span></b><b><span style="font-family:Calibri;font-size:15pt;"><font>率</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">17</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>RF<font>传导功率</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-xlKk8bSt5b9227a27d617.png" class="img-responsive" alt="attachments-2018-09-xlKk8bSt5b9227a27d617.png" /></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：在</font> GPRS<font>网络</font><font>4</font><font>时隙发送模式下，最大输出功率减小 </font><font>2.5dB</font><font>。该设计符合 </font><font>3GPP TS 51.010-1</font><font>中 </font><font>13.16</font><font>章节所述的</font><font>GSM</font><font>规范。</font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">4.3. </span><b><span style="font-family:Calibri;font-size:14pt;">RF<font>传导灵敏度</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">18</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>RF<font>传导灵敏度</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-RH3LrKnh5b9227b2c3cd2.png" class="img-responsive" alt="attachments-2018-09-RH3LrKnh5b9227b2c3cd2.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">4.4. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>工作频率</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">19</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块工作频率</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-kqsgna2i5b9227c27b543.png" class="img-responsive" alt="attachments-2018-09-kqsgna2i5b9227c27b543.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">4.5. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>推荐</font>RF<font>焊接方式</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果连接外置天线的射频连接器是通过焊接方式与模块相连的，请务必注意连接线的剥线方式及焊接方法，尤其是地要焊接充分，请按照下图中正确的焊接方式进行操作，以避免因焊接不良引起线损增大。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-6lrYVhu75b9227d2c022a.png" class="img-responsive" alt="attachments-2018-09-6lrYVhu75b9227d2c022a.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                          图表</font></span><span style="font-family:Calibri;font-size:10pt;">27</span><span style="font-family:Calibri;font-size:10pt;"><font>：射频焊接方式建议</font></span></p>



<p> </p>



<p> </p>



<p> </p>

<h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">5. </span><b><span style="font-family:Calibri;font-size:15pt;"><font>电器特性，可靠性，射频特性</font></span></b></h1>



<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">5.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>绝对最大值</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表所示是模块数字、模拟管脚的电源供电电压电流最大耐受值。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">20</span><span style="font-family:Calibri;font-size:10pt;"><font>：绝对最大值</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-cuJXRDsw5b9227fa32b6a.png" class="img-responsive" alt="attachments-2018-09-cuJXRDsw5b9227fa32b6a.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<h2><span style="font-family:Arial;font-size:14pt;">5.2. </span><span style="font-family:Calibri;font-size:14pt;"><font>工作温度</font></span></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">21</span><span style="font-family:Calibri;font-size:10pt;"><font>：工作温度</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-0zsgnjQD5b92280e808d9.png" class="img-responsive" alt="attachments-2018-09-0zsgnjQD5b92280e808d9.png" /></p>



<p> </p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">5.3. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>电源额度值</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">22</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块电源额度值</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-ue8x3WRm5b922837bb6d0.png" class="img-responsive" alt="attachments-2018-09-ue8x3WRm5b922837bb6d0.png" /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-J9IP7Kzm5b92288974f1b.png" class="img-responsive" alt="attachments-2018-09-J9IP7Kzm5b92288974f1b.png" /></p>

<p><b><span style="font-family:Calibri;font-size:7pt;">1)</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>功率等级</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">5</span></b><b><span style="font-family:Calibri;font-size:7pt;">2) </span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>功率等级</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">0</span></b></p>





<p> </p>



<p> </p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">5.4. </span><b><span style="font-family:Calibri;font-size:14pt;">GPRS<font>耗流</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">23</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块耗流</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-8My0fLBR5b9228b00882c.png" class="img-responsive" alt="attachments-2018-09-8My0fLBR5b9228b00882c.png" /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-R1GMpZxQ5b9228c878f48.png" class="img-responsive" alt="attachments-2018-09-R1GMpZxQ5b9228c878f48.png" /></p>

<p><span style="font-family:Calibri;font-size:9pt;"><font>注意：</font> GPRS CLASS 1</span><span style="font-family:Calibri;font-size:9pt;">0</span><span style="font-family:Calibri;font-size:9pt;"><font>为默认设置。</font></span></p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">5.5. </span><b><span style="font-family:Calibri;font-size:14pt;">GPS <font>性能</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:11pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:11pt;">24</span><span style="font-family:Calibri;font-size:11pt;"><font>：</font>GPS<font>性能</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-GK2Cvlic5b9228f195029.png" class="img-responsive" alt="attachments-2018-09-GK2Cvlic5b9228f195029.png" /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-fRATa3ul5b92292288474.png" class="img-responsive" alt="attachments-2018-09-fRATa3ul5b92292288474.png" /><span style="font-family:Calibri;font-size:11pt;"><font><br /></font></span></p>

<p><span style="font-family:Calibri;font-size:9pt;">[<font>测试条件</font><font>1]: </font><font>接收卫星个数大于</font><font>6</font><font>，所有卫星信号强度为</font><font>-130dBm</font><font>，测试</font><font>10</font><font>次取平均值，定位误差小于</font><font>10</font><font>米。</font></span></p>

<p><span style="font-family:Calibri;font-size:9pt;">[<font>测试条件</font><font>2]</font><font>：接收卫星个数大于</font><font>6</font><font>，五分钟之内锁定或者不失锁条件下的接收信号强度值。</font></span></p>

<p><span style="font-family:Calibri;font-size:9pt;">[<font>测试条件</font><font>3]</font><font>：开阔没有遮挡环境，连续</font><font>24</font><font>小时开机测试，</font><font>50%CEP</font><font>。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:9pt;"><br /></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">5.6. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>静电防护</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在模块应用中，由于人体静电，微电子间带电摩擦等产生的静电，通过各种途径放电给模块，可能会对模块造成一定的损坏，所以</font> ESD<font>保护必须要重视，不管是在生产组装、测试，研发等过程，尤其在产品设计中，都应采取防 </font><font>ESD</font><font>保护措施。如电路设计在接口处或易受 </font><font>ESD</font><font>点增加 </font><font>ESD</font><font>保护，生产中带防</font><font>ESD</font><font>手套等。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表为模块重点</font>PIN<font>脚的</font><font>ESD</font><font>耐受电压情况。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">25</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;">ESD<font>性能参数（温度：</font><font>25℃, </font><font>湿度：</font><font>45%</font><font>）</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-VaWfLuhF5b9229412f280.png" class="img-responsive" alt="attachments-2018-09-VaWfLuhF5b9229412f280.png" /></p>



<p> </p>

<h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">6. </span><b><span style="font-family:Calibri;font-size:15pt;"><font>机械尺寸</font></span></b></h1>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>该章节描述模块的机械尺寸以及客户使用该模块设计的推荐封装尺寸。</font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">6.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>模块机械尺寸</font></span></b></h2>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-6kNFUhIP5b9229642878e.png" class="img-responsive" alt="attachments-2018-09-6kNFUhIP5b9229642878e.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                          图表</font></span><span style="font-family:Calibri;font-size:10pt;">28</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;">Air800<font>正视图（单位：毫米）</font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">6.2. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>推荐</font>PCB<font>封装</font></span></b></h2>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-6NedMFfN5b9229926f949.png" class="img-responsive" alt="attachments-2018-09-6NedMFfN5b9229926f949.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                图表</font></span><span style="font-family:Calibri;font-size:10pt;">29</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;"><font>推荐封装（单位：毫米）</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：保证</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">PCB</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>板上模块和其他元器件之间间距至少</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">3mm</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">6.3. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>模块正视图</font></span></b></h2>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-EyYkrYEj5b9229c0bdd43.png" class="img-responsive" alt="attachments-2018-09-EyYkrYEj5b9229c0bdd43.png" /></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                                 图表</font></span><span style="font-family:Calibri;font-size:10pt;">30</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块正视图</font></span></p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">6.4. </span><b><span style="font-family:Calibri;font-size:16pt;"><br /></span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>模块底视图</font></span></b></h2>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-5b1lXMpN5b9229d6d37bf.png" class="img-responsive" alt="attachments-2018-09-5b1lXMpN5b9229d6d37bf.png" /></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                         图表</font></span><span style="font-family:Calibri;font-size:10pt;">31</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块底视图</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:11pt;"><br /></span></p>

<h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">7. </span><b><span style="font-family:Calibri;font-size:15pt;"><font>存储和生产</font></span></b></h1>



<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">7.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>存储</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;">Air800<font>以真空密封袋的形式出货。模块的存储需遵循如下条件：</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>环境温度低于</font>40<font>摄氏度，空气湿度小于</font><font>90%</font><font>情况下，模块可在真空密封袋中存放</font><font>12</font><font>个月。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>当真空密封袋打开后，若满足以下条件，模块可直接进行回流焊或其它高温流程：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块环境温度低于</font>30<font>摄氏度，空气湿度小于</font><font>60%</font><font>，工厂在</font><font>72</font><font>小时以内完成贴片。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>空气湿度小于</font>10%</span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>若模块处于如下条件，需要在贴片前进行烘烤：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>当环境温度为</font>23<font>摄氏度（允许上下</font><font>5</font><font>摄氏度的波动）时，湿度指示卡显示湿度大于</font><font>10%</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>当真空密封袋打开后，模块环境温度低于</font>30<font>摄氏度，空气湿度小于</font><font>60%</font><font>，但工厂未能在</font><font>72</font><font>小时以内完成贴片</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>当真空密封袋打开后，模块存储空气湿度大于</font>10%</span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果模块需要烘烤，请在</font>125<font>摄氏度下（允许上下</font><font>5</font><font>摄氏度的波动）烘烤</font><font>48</font><font>小时。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：模块的包装无法承受如此高温，在模块烘烤之前，请移除模块包装。如果只需要短时间的烘烤，请参考</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">IPC/JEDECJ-STD-033</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>规范。</font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">7.2. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>生产焊接</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>用印刷刮板在网板上印刷锡膏，使锡膏通过网板开口漏印到</font> PCB<font>上，印刷刮板力度需调整合适，为保证模块印膏质量，</font><font>Air800</font><font>模块焊盘部分对应的钢网厚度应为 </font><font>0.2mm</font><font>。</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-eenMWBAj5b9229f277e5d.png" class="img-responsive" alt="attachments-2018-09-eenMWBAj5b9229f277e5d.png" /><span style="font-family:Calibri;font-size:10.5pt;"><font><br /></font></span></p>



<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                                 图表</font></span><span style="font-family:Calibri;font-size:10pt;">32</span><span style="font-family:Calibri;font-size:10pt;"><font>：印膏图</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>为避免模块反复受热损伤，建议客户</font>PCB<font>板第一面完成回流焊后再贴模块。推荐的炉温曲线图如下图所示：</font></span></p>



<p> </p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-5B38wzGp5b922a09c8c05.png" class="img-responsive" alt="attachments-2018-09-5B38wzGp5b922a09c8c05.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                             图表</font></span><span style="font-family:Calibri;font-size:10pt;">33</span><span style="font-family:Calibri;font-size:10pt;"><font>：炉温曲线</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

<h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">8. </span><b><span style="font-family:Calibri;font-size:22pt;"><br /></span></b><b><span style="font-family:Calibri;font-size:15pt;"><a><font>联系我们</font></a></span></b></h1>



<p><span style="font-family:Calibri;font-size:11pt;">（1）</span><span style="font-family:Calibri;font-size:11pt;"><font>淘宝店铺名称：合宙物联网</font></span></p>

<p><a target="_blank" rel="noopener" href="https://luat.taobao.com/"><span style="font-family:Calibri;font-size:9pt;">https://luat.taobao.com</span></a></p>

<p><a target="_blank" rel="noopener" href="https://openluat.taobao.com"><span style="font-family:Calibri;font-size:9pt;">https://openluat.taobao.com</span></a></p>



<p> </p>

<p><span style="font-family:'宋体';font-size:11pt;">（2）</span><span style="font-family:'宋体';font-size:11pt;">Luat<font>之家网站</font></span><span style="font-family:Calibri;font-size:11pt;"><font>：</font></span></p>

<p><a target="_blank" rel="noopener" href="http://www.openluat.com/"><span style="font-family:'宋体';font-size:9pt;">http://www.openluat.com/</span></a></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:11pt;">（3）</span><span style="font-family:Calibri;font-size:11pt;"><font>合宙</font>OpenLuat<font>开源模块</font></span><span style="font-family:'宋体';font-size:11pt;"><font>技术支持</font></span></p>

<p><span style="font-family:Calibri;font-size:11pt;">QQ<font>讨论群：</font><font>201848376</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:11pt;">（4）</span><span style="font-family:Calibri;font-size:11pt;">GitHub<font>：</font></span></p>

<p><a target="_blank" rel="noopener" href="https://github.com/openLuat/Luat_Air202-Air800-Air201"><span style="font-family:'Times New Roman';color:rgb(0,0,255);">https://github.com/openLuat/Luat_Air202-Air800-Air201</span></a></p>



<p> </p>

<p><span style="font-family:'宋体';font-size:11pt;">（5）</span><span style="font-family:'宋体';font-size:11pt;"><font>微信公众号</font>: </span><span style="font-family:'宋体';font-size:11pt;">L</span><span style="font-family:'宋体';font-size:11pt;">uat</span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:11pt;">Lua+AT=Luat</span></p>

<p><span style="font-family:Calibri;font-size:11pt;">Open+Luat=OpenLuat</span></p>

<p><span style="font-family:Calibri;font-size:11pt;">www.OpenLuat.com</span></p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>合宙</font>--<font>》</font><font>Luat--</font><font>》发烧友</font><font>--</font><font>》客户</font><font>--</font><font>》产品</font></span></p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>共建开源好生态！</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/09/07/434/" data-id="ckkfmdgfs00eyvkcg6qmz4mkb" data-title="Air800_硬件设计手册_V1.75" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-433" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/09/07/433/" class="article-date">
  <time class="dt-published" datetime="2018-09-07T02:02:09.000Z" itemprop="datePublished">2018-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/09/07/433/">Air2xx/Air8xx 系列模块的开机、关机和重启</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><span>Air</span>系列模块以<span>AT</span>的完美兼容性和<span>Luat</span>开发的强大功能享誉物联网圈，不过很多开发者对于它的基础功能还是不很熟悉，所以本文就深入的说一下怎么开机、关机和重启模块。</p>

<h2>开机</h2>

<p>模块以超低功耗和超强性能可实现软件开机（闹钟开机）或硬件开机。</p>

<h3>硬件开机</h3>

<p>不论是<span>AT</span>还是<span>Luat</span>底层，只要模块上电后拉低<span> PWRKEY </span>大于<span>2000ms</span>就可以开机啦。</p>

<p>那么如何实现<b>上电自动开机</b>呢？<span>PWRKEY</span>接地就可以了。</p>

<p>不过开发者要注意的是，<span>AT</span>版底层的模块，开机后拉低<span>PWRKEY 2000ms</span>就会关机。所以<span>AT</span>版底层的模块<span>PWRKEY</span>不要直接接地（<span>Luat </span>底层不受影响）。</p>

<h3>软件开机（闹钟开机）</h3>

<p>通过<span>Air</span>系列模块的闹钟功能，实现软件开机，可以在不需要额外的单片机情况下，帮助开发者更灵活的实现通信、降低功耗、延长续航时间等需求，满足多种应用场景。</p>



<p>使用闹钟开机，开发者首先<b>应正确开机</b>，同步时钟，设定闹钟后关机。此后，模块才能在正确的时间实现开机。</p>



<p>示例代码（<span>alarm/testAlarm.lua</span>）：</p>

<blockquote><p><span style="color:#FF00FF;">require</span><span style="color:#800000;">"ntp"</span></p><p><span style="color:#FF00FF;">module</span><span>(...,<span style="color:#FF00FF;">package.seeall</span>)</span></p><p><span style="color:#008000;">--[[</span></p><p><span style="color:#008000;">函数名：<span>ntpSucceed</span></span></p><p><span style="color:#008000;">功能<span><span>  </span></span>：网络服务器同步时间成功消息的处理函数</span></p><p><span style="color:#008000;">参数<span><span>  </span></span>：无</span></p><p><span style="color:#008000;">返回值：无</span></p><p><span style="color:#008000;">]]</span></p><p><span style="color:#0000FF;">local</span><span> <span style="color:#0000FF;">function</span> ntpSucceed()</span></p><p><span><span>    </span>log.info(<span style="color:#800000;">"testAlarm.ntpSucceed"</span>)</span></p><p><span><span>    </span><span style="color:#008000;">--</span></span><span style="color:#008000;">跟网络服务器同步时间成功，直接参考当前时间设置闹钟即可</span></p><p><span><span>    </span><span style="color:#008000;">--</span></span><span style="color:#008000;">设置闹钟时间为<span>2018</span>年<span>3</span>月<span>14</span>日<span>18</span>点<span>18</span>分<span>0</span>秒，用户测试时，根据当前时间修改此值</span></p><p><span><span>    </span><span style="color:#008000;">--set_alarm</span></span><span style="color:#008000;">接口参数说明：第一个参数<span>1</span>表示开启闹钟，<span>0</span>表示关闭闹钟；接下来的<span>6</span>个参数表示年月日时分秒，关闭闹钟时，这<span>6</span>个参数传入<span>0,0,0,0,0,0</span></span></p><p><span><span>    </span>rtos.set_alarm(1,2018,9,10,18,18,0)</span></p><p><span><span>    </span><span style="color:#008000;">--</span></span><span style="color:#008000;">如果要测试关机闹钟，打开下面这行代码</span></p><p><span><span>    </span>rtos.poweroff()</span></p><p><span style="color:#0000FF;">end</span></p><p><span> </span></p><p><span style="color:#008000;">--[[</span></p><p><span style="color:#008000;">函数名：<span>alarMsg</span></span></p><p><span style="color:#008000;">功能<span><span>  </span></span>：开机闹钟事件的处理函数</span></p><p><span style="color:#008000;">参数<span><span>  </span></span>：无</span></p><p><span style="color:#008000;">返回值：无</span></p><p><span style="color:#008000;">]]</span></p><p><span style="color:#0000FF;">local</span><span> <span style="color:#0000FF;">function</span> alarMsg()</span></p><p><span><span>        </span><span style="color:#FF00FF;">print</span>(<span style="color:#800000;">"alarMsg"</span>)</span></p><p><span style="color:#0000FF;">end</span></p><p><span> </span></p><p><span style="color:#008000;">--</span><span style="color:#008000;">如果是关机闹钟开机，则需要软件主动重启一次，才能启动<span>GSM</span>协议栈</span></p><p><span style="color:#0000FF;">if</span><span> rtos.poweron_reason()==rtos.POWERON_ALARM <span style="color:#0000FF;">then</span></span></p><p><span><span>        </span>sys.restart(<span style="color:#800000;">"ALARM"</span>)</span></p><p><span style="color:#0000FF;">end</span></p><p><span> </span></p><p><span style="color:#008000;">--</span><span style="color:#008000;">启动网络服务器同步时间功能，同步成功后执行<span>ntpSucceed</span>函数</span></p><p><span>ntp.timeSync(<span style="color:#0000FF;">nil</span>,ntpSucceed)</span></p><p><span> </span></p><p><span style="color:#008000;">--</span><span style="color:#008000;">注册闹钟模块</span></p><p><span>rtos.init_module(rtos.MOD_ALARM)</span></p><p><span style="color:#008000;">--</span><span style="color:#008000;">注册闹钟消息的处理函数（如果是开机闹钟，闹钟事件到来时会调用<span>alarmsg</span>）</span></p><p><span>rtos.on(rtos.MSG_ALARM,alarMsg)</span></p></blockquote>

<p>如果设定了闹钟开机，但是需要临时开机，那么拉低<span>PWRKEY </span>大于<span>2000ms</span>即可。不过此时应该重新设置闹钟。</p>

<h2>关机</h2>

<h3>硬件关机</h3>

<p>不论是<span>AT</span>还是<span>Luat</span>，均支持硬件关机。如果是<span>AT</span>版底层的模块，拉低<span>PWRKEY </span>大于<span>
2000ms</span>，或者拉低<span>RESET 200ms</span>就可以实现关机；同样的，对于<span>Luat</span>版底层的模块，拉低<span>RESET 200ms</span>也可以实现关机。</p>

<p>有的开发者想问，<span>Luat</span>版底层的模块，能不能长按<span>PWRKEY</span>实现关机呢？答案是可以的，如下代码：</p>

<blockquote><p><span style="color:#FF00FF;">module</span><span>(...,<span style="color:#FF00FF;">package.seeall</span>)</span></p><p><span style="color:#FF00FF;">require</span><span style="color:#800000;">"powerKey"</span></p><p><span> </span></p><p><span style="color:#0000FF;">function</span><span> longCb()</span></p><p><span><span>        </span><span style="color:#FF00FF;">print</span>(<span style="color:#800000;">"PWRKEY long pressed"</span>)</span></p><p><span><span>        </span>rtos.poweroff()</span></p><p><span style="color:#0000FF;">end</span></p><p><span> </span></p><p><span style="color:#0000FF;">function</span><span> shortCb()</span></p><p><span><span>        </span><span style="color:#FF00FF;">print</span>(<span style="color:#800000;">"PWRKEY short pressed"</span>)</span></p><p><span style="color:#0000FF;">end</span></p><p><span>powerKey.setup(2000, longCb, shortCb)</span></p></blockquote>

<p>我们来测试一下效果如何：</p>

<p><img style="width:239px;" src="http://oldask.openluat.com/image/show/attachments-2018-09-KawUGYT25b91db0c14d67.png" class="img-responsive" alt="attachments-2018-09-KawUGYT25b91db0c14d67.png" /></p>

<p>从<span>trace</span>中可以看到，准确识别了短按和长按，且实现了长按关机。</p>

<h3>软件关机</h3>

<p><span>AT</span>版底层的模块，执行如下指令即可：</p>

<blockquote><p><img style="width:693px;" src="http://oldask.openluat.com/image/show/attachments-2018-09-7EjxX3rU5b91db21891ac.png" class="img-responsive" alt="attachments-2018-09-7EjxX3rU5b91db21891ac.png" /></p></blockquote>

<p>而<span>Luat</span>版底层的模块，需要执行如下代码：</p>

<blockquote><p><span>rtos.poweroff()</span></p></blockquote>



<p>当然，开发者也可以是使用闹钟关机的方式。方法和“开机”章节近似，不再赘述。</p>

<h2>重启</h2>

<p>有的时候，由于某些特殊情况（如<span>OTA</span>、底层跑飞等），需要重启。</p>

<h3>硬件重启</h3>

<p><span>AT</span>版底层的模块，开发者可以关机后开机实现重启：</p>

<p><span><span>·<span style="font:7pt 'Times New Roman';">       </span></span></span>拉低<span>RESET 200ms</span>关机，再拉低<span>PWRKEY 2000ms</span>开机；</p>

<p><span><span>·<span style="font:7pt 'Times New Roman';">       </span></span></span>拉低<span>PWRKEY 2000ms</span>关机，再拉低<span>PWRKEY 2000ms</span>开机。</p>



<p><span>Luat</span>版底层的模块：</p>

<p><span><span>·<span style="font:7pt 'Times New Roman';">       </span></span></span><span>PWRKEY</span>已接地：那么只要拉低<span>RESET 200ms</span>即可（拉低<span>RESET</span>实现关机，因正常上电且<span>PWRKEY</span>接地，即上电自动开机，实现重启）；</p>

<p><span><span>·<span style="font:7pt 'Times New Roman';">       </span></span></span><span>PWRKEY</span>未接地：需要拉低<span>RESET 200ms</span>关机，再拉低<span>PWRKEY 2000ms</span>开机。</p>

<h3>软件重启</h3>

<p><span>AT</span>版底层的模块，需要执行如下指令：</p>

<blockquote><p><img style="width:522.5px;" src="http://oldask.openluat.com/image/show/attachments-2018-09-xHo6iFYt5b91db7196260.png" class="img-responsive" alt="attachments-2018-09-xHo6iFYt5b91db7196260.png" /></p><p><img style="width:514px;" src="http://oldask.openluat.com/image/show/attachments-2018-09-9jH3olsr5b91db7821b23.png" class="img-responsive" alt="attachments-2018-09-9jH3olsr5b91db7821b23.png" /></p></blockquote>



<p><span>Luat</span>版底层的模块，可以执行如下代码实现重启：</p>

<blockquote><p><span>sys.restart(“restart_reason”)</span></p><p><span>rtos.restart()</span></p></blockquote>



<p>这两个代码都能实现重启，区别在于<span>sys.restart</span>包装了一下<span>rtos.restart</span>，使之可以把重启的缘由记录下来，并在下次启动时打印输出。</p>








      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/09/07/433/" data-id="ckkfmdgb80055vkcgds2v1fj5" data-title="Air2xx/Air8xx 系列模块的开机、关机和重启" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-432" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/09/07/432/" class="article-date">
  <time class="dt-published" datetime="2018-09-07T01:56:16.000Z" itemprop="datePublished">2018-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/09/07/432/">Air208M模块硬件设计手册V1.01</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><p> </p><h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">1. </span><b><span style="font-family:Calibri;font-size:15pt;"><a><font>绪论</font></a></span></b></h1><p><span style="font-family:Calibri;font-size:10.5pt;"><font>本文档定义了</font></span><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块及其硬件接口规范，电气特性和机械细节，通过此文档的帮助，结合我们的应用手册和用户指导书，客户可以快速应用</font></span><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块于无线应用。</font></span></p><p> </p><h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">1.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>相关文档</font></a></span></b></h2><p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">1</span><span style="font-family:Calibri;font-size:10pt;"><font>：相关文档</font></span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-AnY9JA3K5b91db03b6a1b.png" class="img-responsive" alt="attachments-2018-09-AnY9JA3K5b91db03b6a1b.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p><p><span style="font-family:Calibri;font-size:9pt;"><font>注意：所有文档均可在</font></span><a target="_blank" rel="noopener" href="http://www.openluat.com"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:9pt;">wiki</span><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:9pt;">.openluat.com</span></a><span style="font-family:Calibri;font-size:9pt;"><font>下载</font></span></p><p> </p><p> </p><p> </p><p><span style="font-family:Calibri;font-size:11pt;"><br /></span></p><h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">2. </span><b><span style="font-family:Calibri;font-size:15pt;"><a><font>综述</font></a></span></b></h1><p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块是四频段</font>GSM/GPRS<font>模块，它的工作频段是：</font><font>GSM850MHz</font><font>，</font><font>GSM900MHz</font><font>，</font><font>DCS1800MHz</font><font>和</font><font>PCS1900MHz</font><font>。</font></span><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>支持</font>GPRS<font>多时隙等级</font><font>1</font></span><span style="font-family:Calibri;font-size:10.5pt;">0</span><span style="font-family:Calibri;font-size:10.5pt;"><font>和</font>GPRS<font>编码格式</font><font>CS-1</font><font>，</font><font>CS-2</font><font>，</font><font>CS-3</font><font>和</font><font>CS-4</font><font>。</font></span></p><p> </p><p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>具有</font>17.7mm ×  1</span><span style="font-family:Calibri;font-size:10.5pt;">5</span><span style="font-family:Calibri;font-size:10.5pt;">.8mm × 2.</span><span style="font-family:Calibri;font-size:10.5pt;">3</span><span style="font-family:Calibri;font-size:10.5pt;">mm<font>的超小尺寸，几乎能够满足所有的</font><font>M2M</font><font>的需求，包括汽车及个人追踪服务、无线</font><font>POS</font><font>机、智能计量、工业级</font><font>PDA</font><font>以及其它</font><font>M2M</font><font>的应用。</font></span></p><p> </p><p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"> </span><span style="font-family:Calibri;font-size:10.5pt;"><font>内置</font></span><span style="font-family:Calibri;font-size:10.5pt;">32</span><span style="font-family:Calibri;font-size:10.5pt;">MbNorFlash</span><span style="font-family:Calibri;font-size:10.5pt;"> + 32</span><span style="font-family:Calibri;font-size:10.5pt;">MbSRAM</span><span style="font-family:Calibri;font-size:10.5pt;"><font>，并</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>支持合宙特有的</font>Luat<font>开源平台</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>方便客户做二次开发</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>，极大的</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>减少了客户的开发周期和成本。</font></span></p><p> </p><p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"> </span><span style="font-family:Calibri;font-size:10.5pt;"><font>有丰富的外围接口</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>支持</font>UART</span><span style="font-family:Calibri;font-size:10.5pt;"><font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;">PCM</span><span style="font-family:Calibri;font-size:10.5pt;"><font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;">I</span><span style="font-family:Calibri;font-size:10.5pt;">2</span><span style="font-family:Calibri;font-size:10.5pt;">C<font>等各种接口</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>，</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>可支持最多</font></span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">5<font>个</font><font>GPIO</font><font>，并支持</font><font>ADC</font><font>，音频输入和输出功能，满足各种应用场景的使用要求。</font></span></p><p> </p><p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>是贴片式模块，采用</font>LCC<font>封装，可以通过其管脚焊盘内嵌于客户应用中，提供了模块与客户主板间丰富的硬件接口。</font></span></p><p> </p><p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块采用了省电技术，电流功耗在睡眠模式</font>DRX=5<font>下，低至</font><font>1.</font></span><span style="font-family:Calibri;font-size:10.5pt;">3</span><span style="font-family:Calibri;font-size:10.5pt;">4mA<font>。</font></span></p><p> </p><p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>内嵌</font>TCP UDP PPP HTTPS SSL<font>等协议，已内嵌的扩展</font><font>AT</font><font>命令可以使用户更容易地使用这些互联网协议。</font></span></p><p> </p><p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块完全符合</font>RoHS<font>标准。</font></span></p><p> </p><p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">2</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块主要特征</font></span></p><p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-YpFOBps35b91db2174f47.png" class="img-responsive" alt="attachments-2018-09-YpFOBps35b91db2174f47.png" /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-0JZoYQ1C5b91db4dd044a.png" class="img-responsive" alt="attachments-2018-09-0JZoYQ1C5b91db4dd044a.png" style="width:613px;height:590.296px;" /></p><p> </p><p> </p><p> </p><p> </p><p> </p><p><br /></p><h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">2.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>功能图</font></a></span></b></h2><p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图为</font></span><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>功能框图，阐述了其主要功能：</font></span></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>存储器</font></span></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">GSM<font>射频</font></span></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>电源管理</font></span></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>接口部分</font></span></p><p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-1hmJNMBV5b91db88e3527.png" class="img-responsive" alt="attachments-2018-09-1hmJNMBV5b91db88e3527.png" /></p><p><span style="font-family:Calibri;font-size:10pt;"><font>                                                                        图表</font></span><span style="font-family:Calibri;font-size:10pt;">1</span><span style="font-family:Calibri;font-size:10pt;"><font>：功能框图</font></span></p><h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">2.2. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>评估板</font></a></span></b></h2><p><span style="font-family:Calibri;font-size:10.5pt;"><font>为了有助于测试及使用</font></span><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>，合宙提供一套评估板。评估板包括</font></span><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块               </font></span></p><p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块采用</font>LCC<font>封装，</font></span><span style="font-family:Calibri;font-size:10.5pt;">38</span><span style="font-family:Calibri;font-size:10.5pt;"><font>个</font>SMT<font>焊盘管脚，后续章节详细阐述了以下接口的功能：</font></span></p><p> </p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>电源供电</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E7%94%B5%E6%BA%90%E4%BE%9B%E7%94%B5"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;"><font>电源供电</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>开关机</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E5%BC%80%E5%85%B3%E6%9C%BA"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;"><font>开关机</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>省电技术</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E7%9C%81%E7%94%B5%E6%8A%80%E6%9C%AF"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;"><font>省电技术</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E4%B8%B2%E5%8F%A3"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;"><font>串口</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>音频接口</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E9%9F%B3%E9%A2%91%E6%8E%A5%E5%8F%A3"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;"><font>音频</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡接口</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_SIM%E5%8D%A1%E6%8E%A5%E5%8F%A3"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;">SIM<font>卡</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p><h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>管脚描述</font></a></span></b></h2><h2><img src="http://oldask.openluat.com/image/show/attachments-2018-09-qjjHr4fJ5b91dbba8140f.png" class="img-responsive" alt="attachments-2018-09-qjjHr4fJ5b91dbba8140f.png" /><b><span style="font-family:Calibri;font-size:14pt;"><a><font><br /></font></a></span></b></h2><p><span style="font-family:Calibri;font-size:10pt;"><font>                                                   图表</font></span><span style="font-family:Calibri;font-size:10pt;">2</span><span style="font-family:Calibri;font-size:10pt;"><font>：管脚排列图（正视图）</font></span></p><p><span style="font-family:Arial;font-size:10pt;"><br /></span><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">3</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>管脚描述</font></span></p></div>

<p>
<img src="http://oldask.openluat.com/image/show/attachments-2018-09-Iflsec995b91dbe8a6e56.png" class="img-responsive" alt="attachments-2018-09-Iflsec995b91dbe8a6e56.png" /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-bb4UHfFO5b91dc0a2d1a7.png" class="img-responsive" alt="attachments-2018-09-bb4UHfFO5b91dc0a2d1a7.png" /></p>

<div><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-3jQ9LLg85b91dc3e92df3.png" class="img-responsive" alt="attachments-2018-09-3jQ9LLg85b91dc3e92df3.png" /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-UXk2IZId5b91dc64786ef.png" class="img-responsive" alt="attachments-2018-09-UXk2IZId5b91dc64786ef.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-hjRbNMQJ5b91dc8a02b51.png" class="img-responsive" alt="attachments-2018-09-hjRbNMQJ5b91dc8a02b51.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-NtHzZUtX5b91dcceb249c.png" class="img-responsive" alt="attachments-2018-09-NtHzZUtX5b91dcceb249c.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-AO5xpy2z5b91dce283b55.png" class="img-responsive" alt="attachments-2018-09-AO5xpy2z5b91dce283b55.png" /><br /></p><p><span style="font-family:Calibri;font-size:11pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:11pt;">4</span><span style="font-family:Calibri;font-size:11pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;">GPIO</span><span style="font-family:Calibri;font-size:10.5pt;"><font>配置表</font></span></p><p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-zdf9jLwB5b91e128426d3.png" class="img-responsive" alt="attachments-2018-09-zdf9jLwB5b91e128426d3.png" /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-aZh1kKxr5b91e12f71bdd.png" class="img-responsive" alt="attachments-2018-09-aZh1kKxr5b91e12f71bdd.png" /></p><p> </p></div>

<p>
<span style="font-family:Calibri;color:rgb(255,0,0);font-size:8pt;"><br /></span>
</p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.2. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>工作模式</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表简要的叙述了接下来几章提到的各种工作模式。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">5</span><span style="font-family:Calibri;font-size:10pt;"><font>：工作模式</font></span></p>



<p><b> </b><img src="http://oldask.openluat.com/image/show/attachments-2018-09-3UWDAAQE5b91e160e1acd.png" class="img-responsive" alt="attachments-2018-09-3UWDAAQE5b91e160e1acd.png" /></p>



<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.3. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>电源供电</font></a></span></b></h2>



<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.3.1. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>模块电源工作特性</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在</font>GSM/GPRS<font>模块应用设计中，电源设计是很重要的一部分。由于</font><font>GSM</font><font>发射时每隔</font><font>4.615ms</font><font>会有一个持续</font><font>577us</font><font>（即</font><font>1/8</font><font>的</font><font>TDMA</font><font>周期（</font><font>4.615ms</font><font>））的突发脉冲。在突发脉冲阶段内，电源必须能够提供高的峰值电流，保证电压不会跌落到模块最低工作电压。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>对于</font></span><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块，在最大发射功率等级下模块的峰值电流会达到</font>1.6A<font>，这会引起</font><font>VBAT</font><font>端电压的跌落。为确保模块能够稳定正常工作，建议模块</font><font>VBAT</font><font>端的最大跌落电压不应超过</font><font>400mV</font><font>。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-BXXJgx1z5b91e178e133f.png" class="img-responsive" alt="attachments-2018-09-BXXJgx1z5b91e178e133f.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                            图表</font></span><span style="font-family:Calibri;font-size:10pt;">3</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块发射时的电压电流波形图</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.3.2. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>减小电压跌落</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块电源</font>VBAT<font>电压输入范围为</font><font>3.4V~4.2V</font><font>，但是模块在射频发射时通常会在</font><font>VBAT</font><font>电源上产生电源电压跌落现象，这是由于电源及走线路径上的阻抗导致，一般难以避免。因此在设计上要特别注意模块的电源设计，保证</font><font>VBAT</font><font>电压不会跌落到</font><font>3.0V</font><font>以下，当电压跌落在</font><font>3.0V</font><font>以下时会有可能导致掉电关机或重启。在</font><font>VBAT</font><font>输入端，建议并联一个低</font><font>ESR(ESR=0.7</font></span><span style="font-family:Calibri;font-size:10.5pt;">Ω</span><span style="font-family:Calibri;font-size:10.5pt;">)<font>的</font><font>100uF</font><font>的钽电容，以及</font><font>100nF</font><font>、</font><font>33pF</font><font>、</font><font>10pF</font><font>滤波电容（</font><font>0603</font><font>封装），</font><font>VBAT</font><font>输入端参考电路如图</font><font>4</font><font>所示。并且建议</font><font>VBAT</font><font>的</font><font>PCB</font><font>走线尽量短且足够宽，减小</font><font>VBAT</font><font>走线的等效阻抗，确保在最大发射功率时大电流下不会产生太大的电压跌落，一般电压跌落控制在</font><font>400mV</font><font>以内。建议</font><font>VBAT</font><font>走线宽度不少于</font><font>2mm</font><font>，并且走线越长，线宽越宽。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：模块的硬件关机电压为</font>3.0V</span></b></p>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-HPgJqfUW5b91e196bb0f0.png" class="img-responsive" alt="attachments-2018-09-HPgJqfUW5b91e196bb0f0.png" /><span style="text-align:center;font-family:Calibri;font-size:10pt;">                                     图表</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">4</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">：VBAT输入参考电路</span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.3.3. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>供电参考电路</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>电源设计对模块的供电至关重要，必须选择能够提供至少</font>2A<font>电流能力的电源。若输入电压跟模块的供电电压的压差不是很大，建议选择</font><font>LDO</font><font>作为供电电源。若输入输出之间存在比较大的压差，则使用开关电源转换器。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:11pt;">LDO<font>供电：</font></span></b></p>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图是</font>+5V<font>供电的参考设计，采用了</font><font>Micrel</font><font>公司的</font><font>LDO</font><font>，型号为</font><font>MIC29302WU</font><font>。它的输出电压是</font><font>4.16V</font><font>，负载电流峰值到</font><font>3A</font><font>。为确保输出电源的稳定，建议在输出端预留一个稳压管，并且靠近模块</font><font>VBAT</font><font>管脚摆放。建议选择反向击穿电压为</font><font>5.1V</font><font>，耗散功率为</font><font>1W</font><font>以上的稳压管。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-iV3ZG1Oc5b91e1b5f36c5.png" class="img-responsive" alt="attachments-2018-09-iV3ZG1Oc5b91e1b5f36c5.png" /> </p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                        图表</font></span><span style="font-family:Calibri;font-size:10pt;">5</span><span style="font-family:Calibri;font-size:10pt;"><font>：供电输入参考设计</font></span></p>

<p><b><span style="font-family:Calibri;font-size:11pt;">DCDC<font>供电：</font></span></b></p>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图是</font>DCDC<font>开关电源的参考设计，采用的是杰华特公司的</font><font>JW5033H </font><font>开关电源芯片，它的最大输出电流在</font><font>2A</font><font>，同时输入电压范围</font><font>4.7V~20V</font><font>。注意</font><font>C25</font><font>的选型要根据输入电压来选择耐压值。</font></span></p>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-pCJzOqp95b91e1d984951.png" class="img-responsive" alt="attachments-2018-09-pCJzOqp95b91e1d984951.png" /><font style="font-family:Calibri;font-size:10pt;text-align:center;">                                                     图表</font><span style="font-family:Calibri;font-size:10pt;text-align:center;"> 6</span><font style="font-family:Calibri;font-size:10pt;text-align:center;">：</font><font style="font-family:Calibri;font-size:10pt;text-align:center;">DCDC</font><font style="font-family:Calibri;font-size:10pt;text-align:center;">供电输入参考设计</font></p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.4. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>开关机</font></a></span></b></h2>



<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.4.1. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>开机</font></span></b></h3>



<p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块可以通过</font>PWRKEY<font>管脚开机。关机状态下长按开机键</font><font>2s</font><font>以上，模块会进入开机流程，软件会检测</font><font>VBAT</font><font>管脚电压若</font><font>VBAT</font><font>管脚电压大于软件设置的开机电压（默认</font><font>3.55V</font><font>），会继续开机动作直至系统开机完成；否则，会停止执行开机动作，系统会关机。</font></span></p>



<p> </p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.4.1.1</span></b><b><span style="font-family:Calibri;font-size:10.5pt;">PWRKEY<font>管脚开机</font></span></b></p>



<p><span style="font-family:Calibri;font-size:10.5pt;">VBAT<font>上电后，</font><font>PWRKEY</font><font>管脚可以启动模块，把</font><font>PWRKEY</font><font>管脚拉低持续</font></span><span style="font-family:'宋体';font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">s<font>之后开机，开机成功后</font><font>PWRKEY</font><font>管脚可以释放。可以通过检测</font><font>VDDIO</font><font>管脚的电平来判别模块是否开机。推荐使用开集驱动电路来控制</font><font>PWRKEY</font><font>管脚。下图为参考电路：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-7lW4yl6e5b91e1fa7b4f1.png" class="img-responsive" alt="attachments-2018-09-7lW4yl6e5b91e1fa7b4f1.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                  图表</font></span><span style="font-family:Calibri;font-size:10pt;">6</span><span style="font-family:Calibri;font-size:10pt;"><font>：开集驱动参考开机电路</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>另一种控制</font>PWRKEY<font>管脚的方法是直接使用一个按钮开关。按钮附近需放置一个 </font><font>TVS</font><font>管用以</font><font>ESD</font><font>保护。下图为参考电路：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-hGx06mj85b91e21438eb3.png" class="img-responsive" alt="attachments-2018-09-hGx06mj85b91e21438eb3.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                          图表</font></span><span style="font-family:Calibri;font-size:10pt;">7</span><span style="font-family:Calibri;font-size:10pt;"><font>：按键开机参考电路</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.4.1.2</span></b><b><span style="font-family:Calibri;font-size:10.5pt;"><font>上电</font></span></b><b><span style="font-family:Calibri;font-size:10.5pt;"><font>开机</font></span></b></p>



<p><span style="font-family:Calibri;font-size:11pt;"><font>将</font></span><span style="font-family:Calibri;font-size:10.5pt;">PWRKEY<font>管脚直接接地可以实现上电自动开机功能。需要注意，在上电开机模式下，将无法关机，只要</font><font>VBAT</font><font>管脚的电压大于开机电压即使软件调用关机接口，模块仍然会再开机起来。另外，在此模式下，要想成功开机起来</font><font>VBAT</font><font>管脚电压任然要大于软件设定的开机电压值，如果不满足，模块会关闭，就会出现反复开关机的情况。</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.4.2. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>关机</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>以下的方式可以关闭模块：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>正常关机：使用</font>PWRKEY<font>管脚关机。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>低压自动关机：模块检测到低压时关机。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>紧急关机：通过</font>RESET<font>管脚关机。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.4.2.1</span></b><b><span style="font-family:Calibri;font-size:10.5pt;">PWRKEY<font>管脚关机</font></span></b></p>



<p><span style="font-family:Calibri;font-size:10.5pt;">PWRKEY<font>管脚拉低</font></span><span style="font-family:'宋体';font-size:10.5pt;">1.5</span><span style="font-family:Calibri;font-size:10.5pt;">s<font>以上时间，模块会执行关机动作。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>关机过程中，模块需要注销</font>GSM<font>网络，注销时间与当前网络状态有关，经测定用时约</font><font>2s~12s</font><font>，因此建议延长</font><font>12s</font><font>后再进行断电或重启，以确保在完全断电之前让软件保存好重要数据。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：对于</font>AT<font>版本关机之后，模块进入关机模式，无法执行进一步的</font><font>AT</font><font>命令。关机模式可以用</font><font>VDDIO</font><font>管脚来指示，低电平指示模块已进入关机模式。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.4.2.2</span></b><b><span style="font-family:Calibri;font-size:10.5pt;"><font>低电压自动关机</font></span></b></p>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块在运行状态时当</font>VBAT<font>管脚电压低于软件设定的关机电压时（默认设置</font><font>3.4V</font><font>），软件会执行关机动作关闭模块，以防低电压状态下运行出现各种异常。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：对于</font>PWRKEY<font>接地的上电开机模式，在</font><font>VBAT</font><font>电压低于关机电压时，模块仍然会执行关机动作，但是关机后会因为硬件上电开机而会再次被开机起来，由于此时</font><font>VBAT</font><font>电压在开机电压以下，软件又会执行关闭动作，因而会出现反复开关机的现象，直到</font><font>VBAT</font><font>电压低于硬件开机电压</font><font>3.0V</font><font>，硬件不再开机起来为止。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.4.2.3</span></b><b><span style="font-family:Calibri;font-size:10.5pt;">RESET<font>紧急关机</font></span></b></p>



<p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块第</font>34<font>脚为</font><font>reset</font><font>管脚，其功能是硬件关机。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>可以通过拉低</font>RESET<font>管脚</font><font>200ms</font><font>左右来关机，之后释放。推荐使用</font><font>OC</font><font>驱动电路来控制</font><font>RESET</font><font>管脚。下图为参考电路：</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：三级管集电极和发射级不能串联大于</font>1<font>欧姆的电阻。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-e614GSm05b91e231cde70.png" class="img-responsive" alt="attachments-2018-09-e614GSm05b91e231cde70.png" /></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                      图表</font></span><span style="font-family:Calibri;font-size:10pt;">8</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;"><font>开集驱动</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>参考紧急关机电路</font></span></p>



<p> </p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>另一种控制</font>RESET<font>管脚紧急关机的方法是直接使用一个按钮开关。按钮附近需放置一个</font><font>TVS</font><font>管用以</font><font>ESD</font><font>保护。下图为参考电路：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-3Me1LI5T5b91e24d1ab2d.png" class="img-responsive" alt="attachments-2018-09-3Me1LI5T5b91e24d1ab2d.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                  图表</font></span><span style="font-family:Calibri;font-size:10pt;">9</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;"><font>按键紧急关机参考电路</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：上电开机配置情况下，</font>RESET<font>管脚拉低后，模块会关机后又会上电开机起来，</font><font>RESET</font><font>管脚间接起到重启的作用。</font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.5. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>省电技术</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>根据系统需求，有两种方式可以使模块进入到低功耗的状态。对于</font>AT<font>版本使用</font><font>“AT+CFUN”</font><font>命令可以使模块进入最少功能状态。</font><font>Luat</font><font>版本调用</font><font>misc.setflymode(true)</font><font>进入飞行模式，调用</font><font>misc.setflymode(false)</font><font>退出飞行模式</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.5.1. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>最少功能模式</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>最少功能模式可以将模块功能减少到最小程度，此模式可以通过发送</font>“AT+CFUN=&lt;fun&gt;”<font>命令来设置。</font><font>&lt;fun&gt;</font><font>参数可以选择</font><font>0</font><font>，</font><font>1</font><font>，</font><font>4</font><font>。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">0<font>：最少功能（关闭</font><font>RF</font><font>和</font><font>SIM</font><font>卡）；</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">1<font>：全功能（默认）；</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">4<font>：关闭</font><font>RF</font><font>发送和接收功能；</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果使用</font>“AT+CFUN=0”<font>将模块设置为最少功能模式，射频部分和</font><font>SIM</font><font>卡部分的功能将会关闭。而串口依然有效，但是与射频部分以及</font><font>SIM</font><font>卡部分相关的</font><font>AT</font><font>命令则不可用。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果使用</font>“AT+CFUN=4”<font>设置模块，</font><font>RF</font><font>部分功能将会关闭，而串口依然有效。所有与</font><font>RF</font><font>部分相关的</font><font>AT</font><font>命令不可用。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块通过</font>“AT+CFUN=0”<font>或者</font><font>“AT+CFUN=4”</font><font>设置以后，可以通过</font><font>“AT+CFUN=1”</font><font>命令设置返回到全功能状态。</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.5.2. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>睡眠模式（慢时钟模式）</font></span></b></h3>



<p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>支持睡眠模式，对于</font>AT<font>版本，通过</font><font>DTR pin</font><font>脚来控制休眠，</font><font>DTR</font><font>高电平时允许模块休眠，当</font><font>DTR</font><font>为高时，模块在没有动作的情况下会在</font><font>30s</font><font>左右进入休眠模式；</font><font>DTR</font><font>由高电平变为低电平时将模块唤醒，同时，主串口连续发送</font><font>AT</font><font>指令也可以唤醒模块，但是前面一些</font><font>AT</font><font>指令会丢失。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>对于</font>Luat<font>版本一般情况下，用户是不需要写代码去控制进入或者退出休眠状态，系统自动控制进入和退出休眠</font></span></p>

<p><span style="font-family:'宋体';color:rgb(255,0,0);font-size:10.5pt;"><font>注意：</font>AT<font>版本默认状态不会进入休眠，需要发指令</font><font>AT+CSCLK=1</font><font>或</font><font>AT+CSCLK=2</font><font>才能是模块进入休眠。详细请参考《</font><font>AirM2M</font><font>无线模块</font><font>AT</font><font>命令手册》</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.5.3. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>睡眠唤醒</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>当模块处于睡眠模式，以下方法可以唤醒模块。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">AT<font>版本将</font><font>DTR</font><font>管脚拉低可以唤醒模块。</font><font>DTR</font><font>管脚拉低</font><font>20ms</font><font>后，串口被激活。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">GPIO<font>中断。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>接收来电或者</font>GPRS<font>数据以唤醒模块。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>接收短信以唤醒模块。</font></span></p>



<p> </p>



<p> </p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.6. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>模式切换汇总</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">6</span><span style="font-family:Calibri;font-size:10pt;"><font>：模式切换汇总</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-sprsIbic5b91e27079478.png" class="img-responsive" alt="attachments-2018-09-sprsIbic5b91e27079478.png" /></p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.7. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>串口</font></a></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块提供了两个通用异步收发器：主串口</font>UART1<font>和辅串口</font><font>UART2</font><font>。模块支持固定波特率和自适应波特率。自适应波特率支持范围</font><font>4800bps</font><font>到</font><font>115200bps</font><font>。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>主串口</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">TXD<font>：发送数据到</font><font>DTE</font><font>设备的</font><font>RXD</font><font>端</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">RXD<font>：从</font><font>DTE</font><font>设备</font><font>TXD</font><font>端接收数据</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">RTS<font>：</font><font>DTE</font><font>请求发送数据给</font><font>DCE</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_CTS<font>：清除发送</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">DTR<font>：</font><font>DTE</font><font>准备好并通知</font><font>DCE</font><font>（此管脚可以用来唤醒模块）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">RI<font>：振铃（</font><font>DCE</font><font>有来电或者</font><font>URC</font><font>或者短信会发送信号通知</font><font>DTE</font><font>）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">1</span><span style="font-family:Calibri;font-size:10.5pt;">_DCD<font>：载波检测（当</font><font>DCE</font><font>和</font><font>DTE</font><font>之间的通信链路建立起来）</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在默认情况下，模块的硬件流控是关闭的。当客户需要硬件流控时，管脚</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">RTS,CTS</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>必须连接到客户端，</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">AT</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>命令</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">“AT+IFC=2,2”</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>可以用来打开硬件流控。</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">AT</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>命令</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">“AT+IFC=0,0”</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>可以用来关闭流控。具体请参考</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>《</font>AirM2M<font>无线模块</font><font>AT</font><font>命令手册》</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>辅串口</font>UART2</span></p>



<p> </p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART2_TXD<font>：发送数据到</font><font>DTE</font><font>的串口</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART2_RXD<font>：从</font><font>DTE</font><font>的串口接收数据</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">2</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">RTS<font>：</font><font>DTE</font><font>请求发送数据给</font><font>DCE</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART</span><span style="font-family:Calibri;font-size:10.5pt;">2</span><span style="font-family:Calibri;font-size:10.5pt;">_CTS<font>：清除发送</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>串口逻辑电平如下表所示：</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">7</span><span style="font-family:Calibri;font-size:10pt;"><font>：串口逻辑电平</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-g05qODNC5b91e4f8416a5.png" class="img-responsive" alt="attachments-2018-09-g05qODNC5b91e4f8416a5.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">8</span><span style="font-family:Calibri;font-size:10pt;"><font>：串口管脚定义</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-S2R2vuR05b91e50dbe8c1.png" class="img-responsive" alt="attachments-2018-09-S2R2vuR05b91e50dbe8c1.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.7.1. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>主串口</font></span></b></h3>



<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.8.1.1</span></b><b><span style="font-family:Calibri;font-size:10.5pt;"><font>主串口特点</font></span></b></p>



<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>包括数据线</font>TXD<font>和</font><font>RXD</font><font>，硬件流控控制线</font><font>RTS</font><font>和</font><font>CTS</font><font>，其它控制线</font><font>DTR</font><font>，</font><font>DCD</font><font>和</font><font>RI</font><font>。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">8<font>个数据位，无奇偶校验，一个停止位。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>硬件流控默认关闭。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>用以</font>AT<font>命令传送，</font><font>GPRS</font><font>数传，</font><font>CSD</font><font>传真等等。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>支持波特率如下：</font>1200,2400,4800,9600,14400,19200,28800,38400,57600,115200,230400,460800,921600</span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">AT<font>指令版本默认情况下模块是自适应波特率</font><font>(AT+IPR=0)</font><font>，在自适应波特率模式下，开机后初始化信息（开头是</font><font>“RDY”</font><font>）不会回发给主控机。在模块开机</font><font>2-3</font><font>秒后，可以给模块发送</font><font>AT</font><font>命令。主控机需首先发送</font><font>“AT”</font><font>字符给模块来训练主控机的波特率，此时模块会上报初始化信息，表明训练成功。用户可以发送一个</font><font>“AT+IPR=x :&amp;W”</font><font>命令给模块（</font><font>x</font><font>是波特率，比如</font><font>9600</font><font>），此命令的作用是设置一个固定的波特率并保存，在完成这些配置之后，每次模块开机以后，会自动串口返回</font><font>URC</font><font>初始化信息（开头是</font><font>“RDY”</font><font>）。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>为了更好的使用自适应波特率功能，以下的使用条件需要注意：</font></span></p>



<p><b> </b></p>



<p><b><span style="font-family:Calibri;font-size:10.5pt;"><font>模块和上位机</font></span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>之间同步：</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>自适应波特率功能开启情况下，当模块上电，在发送</font>“AT”<font>字符前最好等待 </font><font>2~3</font><font>秒钟。当模块上报开机初始化信息，表明波特率训练成功，和上位机完成了同步。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在自适应波特率模式下，主控器如果需要开机信息，必须首先进行同步。否则开机初始化信息将</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>不会上报</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;"><font>自适应波特率操作配置：</font></span></b></p>



<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口配置为</font>8<font>位数据位，无奇偶校验位，</font><font>1</font><font>位停止位（出厂配置）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块开机时只有字符串</font>“AT”<font>可以训练波特率。</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>（</font>“at”</span><span style="font-family:Calibri;font-size:10.5pt;"><font>、</font></span><span style="font-family:Calibri;font-size:10.5pt;">“At”<font>或者</font><font>“aT”</font><font>无法被识别）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>波特率训练成功后，可以识别大写、小写或大小写组合的</font>AT<font>命令。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>自适应波特率模式下，如果模块开机没有先同步，如</font>“RDY”<font>，</font><font>“+CFUN:  1”</font><font>和</font><font>“+CPIN: READY”</font><font>这样的</font><font>URC</font><font>信息将不会上报。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>不推荐在固定波特率模式时切换到自适应波特率模式。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>在自适应波特率模式下，不推荐切换到软件多路复用模式。</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.8.1.2</span></b><b><span style="font-family:Calibri;font-size:10.5pt;"><font>主串口连接方式</font></span></b></p>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>主串口的连接方式较为灵活，如下是三种常用的连接方式。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>全功能的串口按照如下的连接方式，此方式主要应用在调制解调模式（</font>PPP<font>拨号）。</font></span></p>



<p> </p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-5SHOTMno5b91e53018c73.png" class="img-responsive" alt="attachments-2018-09-5SHOTMno5b91e53018c73.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                   图表</font></span><span style="font-family:Calibri;font-size:10pt;">10</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>全功能串口连接方式示意图</font></span></p>



<p><br /></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>三线制的串口请参考如下的连接方式：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-C5P9LFDE5b91e5a2efca7.png" class="img-responsive" alt="attachments-2018-09-C5P9LFDE5b91e5a2efca7.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                         图表</font></span><span style="font-family:Calibri;font-size:10pt;">11</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口三线制连接方式示意图</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>带流控的串口连接请参考如下电路连接，此连接方式可提高大数据量传输的可靠性，防止数据丢失。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-S1wBOFMC5b91e5b5b0ed3.png" class="img-responsive" alt="attachments-2018-09-S1wBOFMC5b91e5b5b0ed3.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                     图表</font></span><span style="font-family:Calibri;font-size:10pt;">12</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>带流控的串口连接方式示意图</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.7.2. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>辅串口</font>UART2</span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">UART2 <font>支持五线制的串口，请参考如下的连接方式：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-HcvzR2ws5b91e5d8133d0.png" class="img-responsive" alt="attachments-2018-09-HcvzR2ws5b91e5d8133d0.png" /></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.7.3. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>调试串口</font></span></b></h3>



<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>数据线：</font>HOST</span><span style="font-family:Calibri;font-size:10.5pt;">_</span><span style="font-family:Calibri;font-size:10.5pt;">TXD<font>和</font><font>HOST_RXD</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>调试口仅用作软件调试，波特率配置为</font></span><span style="font-family:Calibri;font-size:10.5pt;">921600</span><span style="font-family:Calibri;font-size:10.5pt;">bps</span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口会自动向外面输出</font>log<font>信息</font></span></p>



<p> </p>



<p> </p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>调试串口连线参考如下方式连接：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-Wnmxbpao5b91e5eaef0ea.png" class="img-responsive" alt="attachments-2018-09-Wnmxbpao5b91e5eaef0ea.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                       图表</font></span><span style="font-family:Calibri;font-size:10pt;">13</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>软件调试连线图</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.7.4. </span><b><span style="font-family:Calibri;font-size:12pt;"><font>串口应用</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>对于</font>3.3V<font>电压系统情况下的串口电平匹配电路参考如下，强烈建议在</font><font>RXD</font><font>等模块输入的端口上使用分压电阻的方式，将电压分压到</font><font>2.8V</font><font>。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果是</font>3V<font>系统，根据分压原理建议将</font><font>5.6K</font><font>电阻改为</font><font>10K</font><font>电阻。客户不允许分压方式下，也建议必须串接</font><font>1K</font><font>电阻</font></span><span style="font-family:Calibri;font-size:11pt;"><font>。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-2m2Kfb2S5b91e642be06d.png" class="img-responsive" alt="attachments-2018-09-2m2Kfb2S5b91e642be06d.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                   图表</font></span><span style="font-family:Calibri;font-size:10pt;">14</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;">3.3V<font>电平转换电路</font></span></p>



<p> </p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;">5V<font>系统的电平匹配，模块和外设之间的电平匹配可以参考如下的连接方式，如下的虚线部分可以参考上面的实线电路（虚线部分模块发送参考模块</font><font>TXD</font><font>的电路设计，虚线部分模块接收参考模块</font><font>RXD</font><font>的电路设计）。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">VCC_MCU<font>是客户端的</font><font>I/O</font><font>电平电压。</font><font>VDDIO</font><font>是模块输出的</font><font>I/O</font><font>电平电压。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-vKDqMCIe5b91e62e595e5.png" class="img-responsive" alt="attachments-2018-09-vKDqMCIe5b91e62e595e5.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                     图表</font></span><span style="font-family:Calibri;font-size:10pt;">15</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>5V<font>电平转换电路</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>当模块和</font>PC<font>机进行通信时，需要在他们之间加</font><font>RS232</font><font>电平转换电路。因为模块的串口配置都不是</font><font>RS232</font><font>电平，仅支持</font><font>CMOS</font><font>电平。下图为模块跟</font><font>PC</font><font>通信时，串口电平转换电路。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-kGzX7jau5b91e657cd6d1.png" class="img-responsive" alt="attachments-2018-09-kGzX7jau5b91e657cd6d1.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                         图表</font></span><span style="font-family:Calibri;font-size:10pt;">16</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>RS232<font>电平转换电路           </font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.8. </span><b><span style="font-family:Calibri;font-size:14pt;"><a><font>音频接口</font></a></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块提供了一路模拟音频输入通道和一路模拟输出通道，支持通话、录音和播放等功能。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">9</span><span style="font-family:Calibri;font-size:10pt;"><font>：音频接口管脚定义</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-PXfk2fj25b91e751bac64.png" class="img-responsive" alt="attachments-2018-09-PXfk2fj25b91e751bac64.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">AIN<font>可以用作麦克风输入或模拟音频信号输入。麦克风通常选用驻极体麦克风。</font><font>AIN1</font><font>是差分输入。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">AOUT<font>通道可以直接驱动</font><font>8</font><font>欧姆的喇叭。</font><font>AOUT</font><font>通道为差分输出。</font></span></p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.8.1. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>防止</font></a></span></b><span style="font-family:Calibri;font-size:12pt;">TDD</span><b><span style="font-family:Calibri;font-size:12pt;"><font>噪声和其它噪声</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>手持话柄及免提的麦克风建议采用内置射频滤波双电容（如</font>10pF<font>和</font><font>33pF</font><font>）的驻极体麦克风，从干扰源头滤除射频干扰，会很大程度改善耦合</font><font>TDD</font><font>噪音。</font><font>33pF</font><font>电容用于滤除模块工作在</font><font>900MHz</font><font>频率时的高频干扰。如果不加该电容，在通话时候有可能会听到</font><font>TDD</font><font>噪声。同时</font><font>10pF</font><font>的电容是用以滤除工作在</font><font>1800MHz</font><font>频率时的高频干扰。需要注意的是，由于电容的谐振点很大程度上取决于电容的材料以及制造工艺，因此选择电容时，需要咨询电容的供应商，选择最合适的容值来滤除工作在</font><font>GSM850MHz</font><font>，</font><font>GSM900MHz</font><font>，</font><font>DCS1800MHz</font><font>和</font><font>PCS1900MHz</font><font>时的高频噪声。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;">GSM<font>发射时的高频干扰严重程度通常主要取决于客户应用设计。在有些情况下，</font><font>GSM900</font><font>的</font><font>TDD</font><font>噪声比较严重，而有些情况下，</font><font>DCS1800</font><font>的</font><font>TDD</font><font>噪声比较严重。因此客户可以根据测试的结果选贴需要的滤波电容，甚至有的时候不需要贴该类滤波电容。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">PCB<font>板上的射频滤波电容摆放位置要尽量靠近音频器件或音频接口，走线尽量短，要先经过滤波电容再到其他点</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>天线的位置离音频元件和音频走线尽量远，减少辐射干扰，电源走线和音频走线不能平行，电源线尽量远离音频线。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>差分音频走线必须遵循差分信号的</font>Layout<font>规则。</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.8.2. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>麦克风接口参考电路</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">AIN<font>通道内置驻极体麦克风偏置电压。麦克风通道参考电路下图所示</font></span><span style="font-family:Calibri;font-size:11pt;"><font>：</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-KOSP25vL5b91e76e2a959.png" class="img-responsive" alt="attachments-2018-09-KOSP25vL5b91e76e2a959.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                   图表</font></span><span style="font-family:Calibri;font-size:10pt;">17</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;">AIN<font>麦克风通道接口电路</font></span></p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.8.3. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>音频输出接口参考电路</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">SPK<font>音频输出接口可以直接与驱动</font><font>8</font><font>欧姆喇叭。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-7MR7xmQ85b91e78c10654.png" class="img-responsive" alt="attachments-2018-09-7MR7xmQ85b91e78c10654.png" /></p>



<p>                                         <span style="text-align:center;font-family:Calibri;font-size:10pt;">图表</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">18</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">：参考线路</span></p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.8.4. </span><b><span style="font-family:Calibri;font-size:12pt;"><a><font>音频电气特性</font></a></span></b></h3>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">10</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>驻极体麦克风典型特性参数</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-ICJty26P5b91e7e5803cc.png" class="img-responsive" alt="attachments-2018-09-ICJty26P5b91e7e5803cc.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">11</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>音频接口典型特性参数</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-zKn5CBsM5b91e7f6af2b2.png" class="img-responsive" alt="attachments-2018-09-zKn5CBsM5b91e7f6af2b2.png" /></p>

<p><span style="font-family:Calibri;font-size:11pt;"><br /></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.9. </span><b><span style="font-family:Calibri;font-size:14pt;"><a>SIM<font>卡接口</font></a></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡接口支持</font><font>GSM Phase1</font><font>规范的功能，同时也支持</font><font>GSM Phase  2+</font><font>规范的功能和</font><font>FAST64 kbps SIM</font><font>卡（用于</font><font>SIM</font><font>应用工具包）</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡通过模块内部的电源供电，支持</font><font>1.8V</font><font>和</font><font>3.0V</font><font>供电。</font></span></p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.9.1. </span><b><span style="font-family:Calibri;font-size:12pt;">SIM<font>接口</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表介绍了</font>SIM<font>的接口管脚定义。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">12</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>SIM<font>卡接口管脚定义</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-ZmelOXBD5b91e8627b5ac.png" class="img-responsive" alt="attachments-2018-09-ZmelOXBD5b91e8627b5ac.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图是</font>SIM<font>接口的参考电路，使用</font><font>6pin</font><font>的</font><font>SIM</font><font>卡座。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-V13Kb1HH5b91e8958c5c1.png" class="img-responsive" alt="attachments-2018-09-V13Kb1HH5b91e8958c5c1.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                              图表</font></span><span style="font-family:Calibri;font-size:10pt;">19</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;"><font>使用</font>6pin SIM<font>卡座参考电路图</font><font>(SIM)</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在</font>SIM<font>卡接口的电路设计中，为了确保</font><font>SIM</font><font>卡的良好的功能性能和不被损坏，在电路设计中建议遵循以下设计原则：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡座与模块距离摆件不能太远，越近越好，尽量保证</font><font>SIM</font><font>卡信号线布线不超过</font><font>20cm</font><font>。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡信号线布线远离</font><font>RF</font><font>线和</font><font>VBAT</font><font>电源线。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM_VDD<font>的布线宽度不小于</font><font>0.</font></span><span style="font-family:Calibri;font-size:10.5pt;">3</span><span style="font-family:Calibri;font-size:10.5pt;">mm<font>，且在</font><font>SIM_VDD</font><font>与</font><font>SIM_GND</font><font>之间的旁路电路不超过</font><font>1uF</font><font>，并靠近</font><font>SIM</font><font>卡座摆放。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>为了防止可能存在的</font>SIM_CLK<font>信号对</font><font>SIM_DATA</font><font>信号的串扰，两者布线不要太靠近，在两条走线之间增加地屏蔽。且对</font><font>SIM_RST</font><font>信号也需要地保护。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>为了保证良好的</font>ESD<font>保护，建议加</font><font>TVS</font><font>管，并靠近</font><font>SIM</font><font>卡座摆放。选择的</font><font>ESD</font><font>器件寄生电容不大于</font><font>50pF</font><font>，例如</font><font>WILL (http://www.willsemi.com) ESDA6V8AV6</font><font>。在模块和</font><font>SIM</font><font>卡之间也可以串联</font><font>22</font><font>欧姆的电阻用以抑制杂散</font><font>EMI</font><font>，增强</font><font>ESD</font><font>防护。</font><font>SIM</font><font>卡的外围电路必须尽量靠近</font><font>SIM</font><font>卡座。</font></span></p>



<p> </p>

<h3><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.9.2. </span><b><span style="font-family:Calibri;font-size:12pt;">6-pin SIM<font>卡座</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>使用</font>6-pin SIM<font>卡座，推荐使用</font><font>Amphenol</font><font>公司的</font><font>C70710M0065122</font><font>。访问</font><font>http://www.amphenol.com</font><font>获取更多信息。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-zB2ak8Gr5b91e8c955bd3.png" class="img-responsive" alt="attachments-2018-09-zB2ak8Gr5b91e8c955bd3.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                          图表</font></span><span style="font-family:Calibri;font-size:10pt;">20</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;">Amphenol C707 10M006 512 2 SIM<font>卡座</font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.10. </span><b><span style="font-family:Calibri;font-size:14pt;">RI<font>信号动作</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">13</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>RI<font>信号动作</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-i6dyLtID5b91e8e49c0d3.png" class="img-responsive" alt="attachments-2018-09-i6dyLtID5b91e8e49c0d3.png" /></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果模块用作主叫方，</font>RI<font>会保持高电平，收到</font><font>URC</font><font>信息或者短信时除外。而模块用作被叫方时，</font><font>RI</font><font>的时序如下所示：</font></span></p>



<p> </p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-pYF6k4Yk5b91e8f4da45c.png" class="img-responsive" alt="attachments-2018-09-pYF6k4Yk5b91e8f4da45c.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                         图表</font></span><span style="font-family:Calibri;font-size:10pt;">21</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;"><font>语音</font><a><font>呼叫时模块用作被叫方</font> RI<font>时序</font></a></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-uqtim1Sq5b91e9083a69d.png" class="img-responsive" alt="attachments-2018-09-uqtim1Sq5b91e9083a69d.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                            图表</font></span><span style="font-family:Calibri;font-size:10pt;">22</span><span style="font-family:Calibri;font-size:10pt;"><font>：数据</font></span><span style="font-family:Calibri;font-size:10pt;"><font>呼叫时模块用作被叫方</font>RI<font>时序</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-xI9lkYCo5b91e92479369.png" class="img-responsive" alt="attachments-2018-09-xI9lkYCo5b91e92479369.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                         图表</font></span><span style="font-family:Calibri;font-size:10pt;">23</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块主叫时</font></span><span style="font-family:Calibri;font-size:10pt;">RI<font>时序</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-PH0Dwlq25b91e93b00dda.png" class="img-responsive" alt="attachments-2018-09-PH0Dwlq25b91e93b00dda.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                   图表</font></span><span style="font-family:Calibri;font-size:10pt;">24</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;"><font>收到</font>URC<font>信息或者短信时</font><font>RI</font><font>时序                       </font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.11. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>网络状态指示</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;">NETLIGHT</span><span style="font-family:Calibri;font-size:10.5pt;"><font>管脚信号可以用指示灯来指示网络的状态。该管脚工作状态如下表所示：</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">14</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;">NETLIGHT</span><span style="font-family:Calibri;font-size:10pt;"><font>的工作状态</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-TJHnNAqm5b91e97c2720d.png" class="img-responsive" alt="attachments-2018-09-TJHnNAqm5b91e97c2720d.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>参考电路如下</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>图</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>：</font></span></p>



<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-DHdAMtdZ5b91e9975fefa.png" class="img-responsive" alt="attachments-2018-09-DHdAMtdZ5b91e9975fefa.png" /> </p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                  图表</font></span><span style="font-family:Calibri;font-size:10pt;">25</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10pt;">NETLIGHT</span><span style="font-family:Calibri;font-size:10pt;"><font>参考电路</font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.12. </span><b><span style="font-family:Calibri;font-size:14pt;">PWM</span></b></h2>



<p><span style="font-family:'宋体';font-size:11pt;">Air208M</span><span style="font-family:Calibri;font-size:11pt;"><font>支持</font>2<font>路</font><font>PWM</font><font>输出：</font><font>PWM,LPG</font><font>，分别由</font><font>UART2_RX</font><font>和</font><font>UART2_TXD</font><font>复用。</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-ORmfVDhH5b91e9b908802.png" class="img-responsive" alt="attachments-2018-09-ORmfVDhH5b91e9b908802.png" /><span style="font-family:Calibri;font-size:11pt;"><font><br /></font></span></p>

<p><span style="font-family:Calibri;font-size:11pt;">LPG<font>（</font><font>Light Pulse Generation</font><font>）用于低频率的应用如驱动</font><font>LED</font><font>闪烁，只能设定固定的</font><font>7</font><font>种周期（单位</font><font>ms</font><font>）：</font><font>125,250,500,1000,1500,2000,2500,3000</font><font>。以及</font><font>15</font><font>种高电平时间。</font></span></p>

<p><span style="font-family:Calibri;font-size:11pt;">PWM,<font>频率范围（</font><font>80-65535HZ</font><font>），以及可以设置各种占空比。</font></span></p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>具体请参考相应</font>AT<font>指令文档</font></span></p>

<h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">4. </span><b><span style="font-family:Calibri;font-size:16pt;"><font>射频接口</font></span></b></h1>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>管脚</font> 32<font>是 </font><font>RF</font><font>天线输入端。</font><font>RF</font><font>接口</font><font>50</font><font>欧姆阻抗匹配。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">15</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>RF_ANT<font>管脚定义</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-FLGyPiCC5b91ea516d2bf.png" class="img-responsive" alt="attachments-2018-09-FLGyPiCC5b91ea516d2bf.png" /></p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">4.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>射频参考电路</font></span></b></h2>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-xrsmIbEP5b91ed4ca950d.png" class="img-responsive" alt="attachments-2018-09-xrsmIbEP5b91ed4ca950d.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                         图表</font></span><span style="font-family:Calibri;font-size:10pt;">26</span><span style="font-family:Calibri;font-size:10pt;"><font>：射频参考电路</font></span></p>



<p> </p>

<p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>提供了一个</font>RF<font>天线焊盘作为天线连接接口。连接到模块</font><font>RF</font><font>天线焊盘的</font><font>RF</font><font>走线必须使用微带线或者其他类型的 </font><font>RF</font><font>走线，阻抗必须控制在</font><font>50</font><font>欧姆左右。为了获得更好的射频性能，</font><font>RF</font><font>输入端口两侧各有接地焊盘。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>为了最小化</font> RF<font>走线或者</font><font>RF</font><font>线缆上的损耗，必须谨慎设计。建议插入损耗必须满足以下条件：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">GSM850/EGSM900&lt;1dB</span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">DCS1800/PCS1900&lt;1.5dB</span></p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">4.2. </span><b><span style="font-family:Calibri;font-size:14pt;">RF<font>输出功</font></span></b><b><span style="font-family:Calibri;font-size:15pt;"><font>率</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">16</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>RF<font>传导功率</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-y4rFUuKZ5b91ed69a2971.png" class="img-responsive" alt="attachments-2018-09-y4rFUuKZ5b91ed69a2971.png" /></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：在</font> GPRS<font>网络</font><font>4</font><font>时隙发送模式下，最大输出功率减小 </font><font>2.5dB</font><font>。该设计符合 </font><font>3GPP TS 51.010-1</font><font>中 </font><font>13.16</font><font>章节所述的</font><font>GSM</font><font>规范。</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">4.3. </span><b><span style="font-family:Calibri;font-size:14pt;">RF<font>传导灵敏度</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">17</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>RF<font>传导灵敏度</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-dUhqbLKd5b91ed7dafdbb.png" class="img-responsive" alt="attachments-2018-09-dUhqbLKd5b91ed7dafdbb.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">4.4. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>工作频率</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">18</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块工作频率</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-84s5wN6E5b91ed8ec79f5.png" class="img-responsive" alt="attachments-2018-09-84s5wN6E5b91ed8ec79f5.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">4.5. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>推荐</font>RF<font>焊接方式</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果连接外置天线的射频连接器是通过焊接方式与模块相连的，请务必注意连接线的剥线方式及焊接方法，尤其是地要焊接充分，请按照下图中正确的焊接方式进行操作，以避免因焊接不良引起线损增大。</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-XnVrF6SK5b91ed9da0884.png" class="img-responsive" alt="attachments-2018-09-XnVrF6SK5b91ed9da0884.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                  图表</font></span><span style="font-family:Calibri;font-size:10pt;">27</span><span style="font-family:Calibri;font-size:10pt;"><font>：射频焊接方式建议</font></span></p>



<p> </p>



<p> </p>



<p> </p>

<h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">5. </span><b><span style="font-family:Calibri;font-size:15pt;"><font>电器特性，可靠性，射频特性</font></span></b></h1>



<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">5.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>绝对最大值</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表所示是模块数字、模拟管脚的电源供电电压电流最大耐受值。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">19</span><span style="font-family:Calibri;font-size:10pt;"><font>：绝对最大值</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-uLt9a8EM5b91edb870408.png" class="img-responsive" alt="attachments-2018-09-uLt9a8EM5b91edb870408.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<h2><span style="font-family:Arial;font-size:14pt;">5.2. </span><span style="font-family:Calibri;font-size:14pt;"><font>工作温度</font></span></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">20</span><span style="font-family:Calibri;font-size:10pt;"><font>：工作温度</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-d3BkkwYz5b91edcb9f353.png" class="img-responsive" alt="attachments-2018-09-d3BkkwYz5b91edcb9f353.png" /></p>



<p><br /></p>



<p><br /></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">5.3. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>电压额度值</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">21</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块电源额度值</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-k9ePKbWB5b91edf163b7f.png" class="img-responsive" alt="attachments-2018-09-k9ePKbWB5b91edf163b7f.png" /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-zrcL51Eq5b91ee0598172.png" class="img-responsive" alt="attachments-2018-09-zrcL51Eq5b91ee0598172.png" /></p>

<p><span style="font-family:Calibri;font-size:7pt;">1) </span><span style="font-family:Calibri;font-size:10.5pt;"><font>功率等级</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">5</span></b><b><span style="font-family:'宋体';font-size:10.5pt;">         </span></b><b><span style="font-family:Calibri;font-size:7pt;">2) </span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>功率等级</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">0</span></b><b><span style="font-family:Calibri;font-size:10.5pt;"></span></b></p>

<p><b></b></p><b></b>



<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">5.4. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>耗流</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">22</span><span style="font-family:Calibri;font-size:10pt;"><font>：模块耗流</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-L2CVZBut5b91ee3f6694b.png" class="img-responsive" alt="attachments-2018-09-L2CVZBut5b91ee3f6694b.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-90TVhJVB5b91ee574fc13.png" class="img-responsive" alt="attachments-2018-09-90TVhJVB5b91ee574fc13.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<p><span style="font-family:Calibri;font-size:9pt;"><font>注意：</font> GPRS CLASS 1</span><span style="font-family:Calibri;font-size:9pt;">0</span><span style="font-family:Calibri;font-size:9pt;"><font>为默认设置。</font></span></p>

<p><span style="font-family:Calibri;font-size:9pt;"><br /></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">5.5. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>静电防护</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在模块应用中，由于人体静电，微电子间带电摩擦等产生的静电，通过各种途径放电给模块，可能会对模块造成一定的损坏，所以</font> ESD<font>保护必须要重视，不管是在生产组装、测试，研发等过程，尤其在产品设计中，都应采取防 </font><font>ESD</font><font>保护措施。如电路设计在接口处或易受 </font><font>ESD</font><font>点增加 </font><font>ESD</font><font>保护，生产中带防</font><font>ESD</font><font>手套等。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表为模块重点</font>PIN<font>脚的</font><font>ESD</font><font>耐受电压情况。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">23</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;">ESD<font>性能参数（温度：</font><font>25</font></span><span style="font-family:'宋体';font-size:10.5pt;">℃</span><span style="font-family:Calibri;font-size:10.5pt;">, <font>湿度：</font><font>45%</font><font>）</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-2Qj7QYui5b91ee76b1af6.png" class="img-responsive" alt="attachments-2018-09-2Qj7QYui5b91ee76b1af6.png" /></p>



<p> </p>

<h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">6. </span><b><span style="font-family:Calibri;font-size:15pt;"><font>机械尺寸</font></span></b></h1>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>该章节描述模块的机械尺寸以及客户使用该模块设计的推荐封装尺寸。</font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">6.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>模块机械尺寸</font></span></b></h2>





<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-t58NPzB95b91ee91e16ee.png" class="img-responsive" alt="attachments-2018-09-t58NPzB95b91ee91e16ee.png" /><span style="text-align:center;font-family:Calibri;font-size:10pt;">                                                    图表</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">28</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">：</span><span style="text-align:center;font-family:'黑体';font-size:10pt;">Air208M</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">正视图（单位：毫米）</span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">6.2. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>推荐</font>PCB<font>封装</font></span></b></h2>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-0SbvcnbQ5b91eeb06a0d5.png" class="img-responsive" alt="attachments-2018-09-0SbvcnbQ5b91eeb06a0d5.png" /><span style="text-align:center;font-family:Calibri;font-size:10pt;">                                                 图表</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">29</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">：</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">推荐</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">PCB</span><span style="text-align:center;font-family:Calibri;font-size:10pt;">封装（单位：毫米）</span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：保证</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">PCB</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>板上模块和其他元器件之间间距至少</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">3mm</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>



<p> </p>

<h1><span style="font-family:Arial;font-weight:bold;font-size:15pt;">7. </span><b><span style="font-family:Calibri;font-size:15pt;"><font>存储和生产</font></span></b></h1>



<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">7.1. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>存储</font></span></b></h2>



<p><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>以真空密封袋的形式出货。模块的存储需遵循如下条件：</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>环境温度低于</font>40<font>摄氏度，空气湿度小于</font><font>90%</font><font>情况下，模块可在真空密封袋中存放</font><font>12</font><font>个月。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>当真空密封袋打开后，若满足以下条件，模块可直接进行回流焊或其它高温流程：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块环境温度低于</font>30<font>摄氏度，空气湿度小于</font><font>60%</font><font>，工厂在</font><font>72</font><font>小时以内完成贴片。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>空气湿度小于</font>10%</span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>若模块处于如下条件，需要在贴片前进行烘烤：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>当环境温度为</font>23<font>摄氏度（允许上下</font><font>5</font><font>摄氏度的波动）时，湿度指示卡显示湿度大于</font><font>10%</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>当真空密封袋打开后，模块环境温度低于</font>30<font>摄氏度，空气湿度小于</font><font>60%</font><font>，但工厂未能在</font><font>72</font><font>小时以内完成贴片</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>当真空密封袋打开后，模块存储空气湿度大于</font>10%</span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果模块需要烘烤，请在</font>125<font>摄氏度下（允许上下</font><font>5</font><font>摄氏度的波动）烘烤</font><font>48</font><font>小时。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：模块的包装无法承受如此高温，在模块烘烤之前，请移除模块包装。如果只需要短时间的烘烤，请参考</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">IPC/JEDECJ-STD-033</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>规范。</font></span></p>

<h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">7.2. </span><b><span style="font-family:Calibri;font-size:14pt;"><font>生产焊接</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>用印刷刮板在网板上印刷锡膏，使锡膏通过网板开口漏印到</font> PCB<font>上，印刷刮板力度需调整合适，为保证模块印膏质量，</font></span><span style="font-family:'宋体';font-size:10.5pt;">Air208M</span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块焊盘部分对应的钢网厚度应为</font> 0.2mm<font>。</font></span></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>图表</font></span><span style="font-family:Calibri;font-size:10pt;">32</span><span style="font-family:Calibri;font-size:10pt;"><font>：印膏图</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-LDR5E9r85b91eedb0838b.png" class="img-responsive" alt="attachments-2018-09-LDR5E9r85b91eedb0838b.png" /></p>



<p> </p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>为避免模块反复受热损伤，建议客户</font> PCB<font>板第一面完成回流焊后再贴模块。推荐的炉温曲线图如下图所示：</font></span></p>



<p> </p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-yuKjxWcu5b91eefb879b7.png" class="img-responsive" alt="attachments-2018-09-yuKjxWcu5b91eefb879b7.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                            图表</font></span><span style="font-family:Calibri;font-size:10pt;">33</span><span style="font-family:Calibri;font-size:10pt;"><font>：炉温曲线</font></span></p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>



<p> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/09/07/432/" data-id="ckkfmdgfr00exvkcgg61pd6wk" data-title="Air208M模块硬件设计手册V1.01" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-431" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/09/06/431/" class="article-date">
  <time class="dt-published" datetime="2018-09-06T07:41:14.000Z" itemprop="datePublished">2018-09-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/09/06/431/">[分享]调试信息打印出文件名和行号,建议LAUT 直接加入到底层,更快速定位到项目代码位置.</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>调试时候直接打印出具体文件名和行号,大大提高编程效率<br /></p>

<div><div><span style="color:#008000;">任意位置加入以下代码,</span></div><div><span style="color:#008000;"><br /></span></div><div><span style="color:#008000;">--[[</span></div><div><span style="color:#008000;">    print 重定向</span></div><div><span style="color:#008000;">]]</span></div><div><span style="color:#0000ff;">_G</span>.<span style="color:#001080;">_print</span> = <span style="color:#0000ff;">_G</span>.<span style="color:#001080;">print</span></div><div><span style="color:#0000ff;">_G</span>.<span style="color:#001080;">print</span> = <span style="color:#af00db;">function</span>(...)</div><div>    <span style="color:#0000ff;">_G</span>.<span style="color:#795e26;">_print</span>(<span style="color:#a31515;">"["</span> .. <span style="color:#795e26;">debug.getinfo</span>(<span style="color:#09885a;">2</span>).<span style="color:#001080;">short_src</span> .. <span style="color:#a31515;">" : "</span> .. <span style="color:#795e26;">debug.getinfo</span>(<span style="color:#09885a;">2</span>).<span style="color:#001080;">currentline</span> .. <span style="color:#a31515;">"]"</span>, <span style="color:#0000ff;">...</span>)</div><div><span style="color:#af00db;">end</span></div><div><span style="color:#0000ff;">_G</span>.<span style="color:#001080;">debugInfo</span> = <span style="color:#0000ff;">_G</span>.<span style="color:#001080;">print</span></div><div><span style="color:#001080;"><br /></span></div><div><span style="color:#001080;"><br /></span></div><div><span style="color:#001080;">调用方法(与print一致):debugInfo("打印出什么",变量,...)</span></div><div><span style="color:#001080;">或者在main.lua 中直接将log.info = debugInfo</span></div><div><span style="color:#001080;">即可满足.欢迎使用</span></div><div><span style="color:#001080;"><br /></span></div><div><span style="color:#001080;"><br /></span></div></div>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/09/06/431/" data-id="ckkfmjk9f0008u0cg0ewq9jzb" data-title="[分享]调试信息打印出文件名和行号,建议LAUT 直接加入到底层,更快速定位到项目代码位置." class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-429" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/09/05/429/" class="article-date">
  <time class="dt-published" datetime="2018-09-05T08:35:44.000Z" itemprop="datePublished">2018-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/09/05/429/">Air202模块硬件设计手册V1.58</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1><b><span style="font-family:'宋体';font-size:15pt;">1. </span></b><b><span style="font-family:'宋体';color:rgb(51,122,183);font-size:15pt;"><font>绪论</font></span></b></h1>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>本文档定义了</font>Air202<font>模块及其硬件接口规范，电气特性和机械细节，通过此文档的帮助，结合我们的应用手册和用户指导书，客户可以快速应用</font><font>Air202</font><font>模块于无线应用。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">1.1. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:14pt;"><font>相关文档</font></span></b></h2>



<p><span style="font-family:Calibri;color:rgb(51,122,183);font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">1<font>：相关文档</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-qykRJqBz5b8fa66526c42.png" class="img-responsive" alt="attachments-2018-09-qykRJqBz5b8fa66526c42.png" /><span style="font-family:Helvetica;font-size:10.5pt;"><br /></span><span style="font-family:Helvetica;font-size:10.5pt;"> </span><span style="font-family:Calibri;font-size:9pt;"><font>注意：所有文档均可在</font></span><a target="_blank" rel="noopener" href="http://www.openluat.com/"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:9pt;">wiki.openluat.com</span></a><span style="font-family:Calibri;font-size:9pt;"><font>下载</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>



<p> </p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>



<p> </p>

<h1><b><span style="font-family:Arial;font-size:15pt;">2. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:15pt;"><font>综述</font></span></b></h1>



<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>模块是四频段</font><font>GSM/GPRS</font><font>模块，它的工作频段是：</font><font>GSM850MHz</font><font>，</font><font>GSM900MHz</font><font>，</font><font>DCS1800MHz</font><font>和</font><font>PCS1900MHz</font><font>。</font><font>Air202</font><font>支持</font><font>GPRS</font><font>多时隙等级</font><font>10</font><font>和</font><font>GPRS</font><font>编码格式</font><font>CS-1</font><font>，</font><font>CS-2</font><font>，</font><font>CS-3</font><font>和</font><font>CS-4</font><font>。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>具有</font><font>17.7mm ×  14.8mm × 2.3mm</font><font>的超小尺寸，几乎能够满足所有的</font><font>M2M</font><font>的需求，包括汽车及个人追踪服务、无线</font><font>POS</font><font>机、智能计量、工业级</font><font>PDA</font><font>以及其它</font><font>M2M</font><font>的应用。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">Air202 <font>内置</font><font>32MbNorFlash + 32MbSRAM</font><font>，并支持合宙特有的</font><font>Luat</font><font>开源平台，方便客户做二次开发，极大的减少了客户的开发周期和成本。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">Air202 <font>有丰富的外围接口，支持</font><font>UART</font><font>，</font><font>SPI</font><font>，</font><font>I2C</font><font>等各种接口，可支持最多</font><font>16</font><font>个</font><font>GPIO</font><font>，并支持</font><font>ADC</font><font>，音频输入和输出功能，满足各种应用场景的使用要求。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>是贴片式模块，采用</font><font>LCC</font><font>封装，可以通过其管脚焊盘内嵌于客户应用中，提供了模块与客户主板间丰富的硬件接口。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>模块采用了省电技术，电流功耗在睡眠模式</font><font>DRX=5</font><font>下，低至</font><font>1.14mA</font><font>。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>内嵌</font><font>TCP UDP PPP HTTPS SSL</font><font>等协议，已内嵌的扩展</font><font>AT</font><font>命令可以使用户更容易地使用这些互联网协议。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>模块完全符合</font><font>RoHS</font><font>标准。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;color:rgb(51,122,183);font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">2<font>：模块主要特征</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-wC2SjLae5b8fa67987936.png" class="img-responsive" alt="attachments-2018-09-wC2SjLae5b8fa67987936.png" style="width:616.633px;height:252.4px;" /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-CzAcOxoP5b8fa6bbe8346.png" class="img-responsive" alt="attachments-2018-09-CzAcOxoP5b8fa6bbe8346.png" /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-6MUjVjUu5b8fa6d2e1eaf.png" class="img-responsive" alt="attachments-2018-09-6MUjVjUu5b8fa6d2e1eaf.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">2.1. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:14pt;"><font>功能图</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图为</font>Air202<font>功能框图，阐述了其主要功能：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>存储器</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">GSM<font>射频</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>电源管理</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>接口部分</font></span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-rabOYKpI5b8fa77fe568e.png" class="img-responsive" alt="attachments-2018-09-rabOYKpI5b8fa77fe568e.png" /></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10pt;">                                                                           <font>图表</font><font>1</font><font>：功能框图</font></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">2.2. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:14pt;"><font>评估板</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>为了有助于测试及使用</font>Air202<font>，合宙提供一套评估板。评估板包括</font><font>Air202</font><font>模块、</font><font>EVB_Air202</font><font>、</font><font>UART</font><font>转</font><font>USB</font><font>线等。</font></span></p>

<h1><b><span style="font-family:Arial;font-size:15pt;">3. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:15pt;"><font>应用接口</font></span></b></h1>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块采用</font>LCC<font>封装，</font><font>38</font><font>个</font><font>SMT</font><font>焊盘管脚，后续章节详细阐述了以下接口的功能：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>电源供电</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E7%94%B5%E6%BA%90%E4%BE%9B%E7%94%B5"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;"><font>电源供电</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>开关机</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E5%BC%80%E5%85%B3%E6%9C%BA"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;"><font>开关机</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>省电技术</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E7%9C%81%E7%94%B5%E6%8A%80%E6%9C%AF"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;"><font>省电技术</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E4%B8%B2%E5%8F%A3"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;"><font>串口</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>音频接口</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_%E9%9F%B3%E9%A2%91%E6%8E%A5%E5%8F%A3"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;"><font>音频</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡接口</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">(</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>请参考</font></span><a href="#_SIM%E5%8D%A1%E6%8E%A5%E5%8F%A3"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;">SIM<font>卡</font></span></a><span style="font-family:Calibri;font-size:10.5pt;"><font>章节</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">)</span></b></p>



<p> </p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.1. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:14pt;"><font>管脚描述</font></span></b></h2>



<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-2CZX8Hy95b8fa79d23814.png" class="img-responsive" alt="attachments-2018-09-2CZX8Hy95b8fa79d23814.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                                    <font>图表</font><font>2</font><font>：管脚排列图（正视图）</font></span></p>

<p><span style="font-family:Calibri;font-size:11pt;"><br /></span><span style="font-family:Calibri;font-size:11pt;"><font>表格</font>3<font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>管脚分配</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-DfxtalZD5b8fa8895bbb0.png" class="img-responsive" alt="attachments-2018-09-DfxtalZD5b8fa8895bbb0.png" /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-7bQDqNEI5b8fa8a1bb9d1.png" class="img-responsive" alt="attachments-2018-09-7bQDqNEI5b8fa8a1bb9d1.png" /><br /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>4<font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>管脚描述</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-tBMGV6Py5b8fa8fbf3202.png" class="img-responsive" alt="attachments-2018-09-tBMGV6Py5b8fa8fbf3202.png" /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-i5YSKqqG5b8fa914f11a6.png" class="img-responsive" alt="attachments-2018-09-i5YSKqqG5b8fa914f11a6.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-wLrogR255b8fa93f16a41.png" class="img-responsive" alt="attachments-2018-09-wLrogR255b8fa93f16a41.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-0haCbzkL5b8fa95949399.png" class="img-responsive" alt="attachments-2018-09-0haCbzkL5b8fa95949399.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-m1LnFUmD5b8fa97cc13e8.png" class="img-responsive" alt="attachments-2018-09-m1LnFUmD5b8fa97cc13e8.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-rxGapJwM5b8fa99bc69aa.png" class="img-responsive" alt="attachments-2018-09-rxGapJwM5b8fa99bc69aa.png" /><br /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>5<font>：</font><font>GPIO</font><font>配置表</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-UwFwyxEG5b8fa9f46185d.png" class="img-responsive" alt="attachments-2018-09-UwFwyxEG5b8fa9f46185d.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-xmssuBfa5b8faa0eb6e8c.png" class="img-responsive" alt="attachments-2018-09-xmssuBfa5b8faa0eb6e8c.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-D5RU6SoK5b8fb5d4efeb6.png" class="img-responsive" alt="attachments-2018-09-D5RU6SoK5b8fb5d4efeb6.png" /><span style="font-family:Calibri;font-size:10pt;"><br /></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.2. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>工作模式</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表简要的叙述了接下来几章提到的各种工作模式。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>6<font>：工作模式</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-mKSSN0VU5b8fbbb2b3ac1.png" class="img-responsive" alt="attachments-2018-09-mKSSN0VU5b8fbbb2b3ac1.png" /></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.3. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:14pt;"><font>电源供电</font></span></b></h2>



<h3><b><span style="font-family:Arial;font-size:14pt;">3.3.1. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:12pt;"><font>模块电源工作特性</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在</font>GSM/GPRS<font>模块应用设计中，电源设计是很重要的一部分。由于</font><font>GSM</font><font>发射时每隔</font><font>4.615ms</font><font>会有一个持续</font><font>577us</font><font>（即</font><font>1/8</font><font>的</font><font>TDMA</font><font>周期（</font><font>4.615ms</font><font>））的突发脉冲。在突发脉冲阶段内，电源必须能够提供高的峰值电流，保证电压不会跌落到模块最低工作电压。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>对于</font>Air202<font>模块，在最大发射功率等级下模块的峰值电流会达到</font><font>1.6A</font><font>，这会引起</font><font>VBAT</font><font>端电压的跌落。为确保模块能够稳定正常工作，建议模块</font><font>VBAT</font><font>端的最大跌落电压不应超过</font><font>400mV</font><font>。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-8oi6ewkD5b908d3fe173a.png" class="img-responsive" alt="attachments-2018-09-8oi6ewkD5b908d3fe173a.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                             <font>图表</font><font>3</font><font>：模块发射时的电压电流波形图</font></span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.3.2. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:12pt;"><font>减小电压跌落</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块电源</font>VBAT<font>电压输入范围为</font><font>3.4V~4.2V</font><font>，但是模块在射频发射时通常会在</font><font>VBAT</font><font>电源上产生电源电压跌落现象，这是由于电源及走线路径上的阻抗导致，一般难以避免。因此在设计上要特别注意模块的电源设计，保证</font><font>VBAT</font><font>电压不会跌落到</font><font>3.0V</font><font>以下，当电压跌落在</font><font>3.0V</font><font>以下时会有可能导致掉电关机或重启。在</font><font>VBAT</font><font>输入端，建议并联一个低</font><font>ESR(ESR=0.7Ω)</font><font>的</font><font>100uF</font><font>的钽电容，以及</font><font>100nF</font><font>、</font><font>33pF</font><font>、</font><font>10pF</font><font>滤波电容（</font><font>0603</font><font>封装），</font><font>VBAT</font><font>输入端参考电路如图</font><font>4</font><font>所示。并且建议</font><font>VBAT</font><font>的</font><font>PCB</font><font>走线尽量短且足够宽，减小</font><font>VBAT</font><font>走线的等效阻抗，确保在最大发射功率时大电流下不会产生太大的电压跌落，一般电压跌落控制在</font><font>400mV</font><font>以内。建议</font><font>VBAT</font><font>走线宽度不少于</font><font>2mm</font><font>，并且走线越长，线宽越宽。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：模块的硬件关机电压为</font>3.0V</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-23TQ3uNq5b908d635d7a4.png" class="img-responsive" alt="attachments-2018-09-23TQ3uNq5b908d635d7a4.png" /><b><span style="font-family:Calibri;font-size:10.5pt;"><br /></span></b></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><span style="font-family:Calibri;font-size:10pt;">                                                <font>图表</font><font>4</font><font>：</font><font>VBAT</font><font>输入参考电路</font></span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.3.3. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:12pt;"><font>供电参考电路</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>电源设计对模块的供电至关重要，必须选择能够提供至少</font>2A<font>电流能力的电源。若输入电压跟模块的供电电压的压差不是很大，建议选择</font><font>LDO</font><font>作为供电电源。若输入输出之间存在比较大的压差，则使用开关电源转换器。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:11pt;">LDO<font>供电：</font></span></b></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图是</font>+5V<font>供电的参考设计，采用了</font><font>Micrel</font><font>公司的</font><font>LDO</font><font>，型号为</font><font>MIC29302WU</font><font>。它的输出电压是</font><font>4.16V</font><font>，负载电流峰值到</font><font>3A</font><font>。为确保输出电源的稳定，建议在输出端预留一个稳压管，并且靠近模块</font><font>VBAT</font><font>管脚摆放。建议选择反向击穿电压为</font><font>5.1V</font><font>，耗散功率为</font><font>1W</font><font>以上的稳压管。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-43tWbeNF5b908d7a70404.png" class="img-responsive" alt="attachments-2018-09-43tWbeNF5b908d7a70404.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                                          <font>图表</font><font>5</font><font>：供电输入参考设计</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><b><span style="font-family:Calibri;font-size:11pt;">DCDC<font>供电：</font></span></b></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图是</font>DCDC<font>开关电源的参考设计，采用的是杰华特公司的</font><font>JW5033H </font><font>开关电源芯片，它的最大输出电流在</font><font>2A</font><font>，同时输入电压范围</font><font>4.7V~20V</font><font>。注意</font><font>C25</font><font>的选型要根据输入电压来选择耐压值。</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-yZuPime95b908d9b9811b.png" class="img-responsive" alt="attachments-2018-09-yZuPime95b908d9b9811b.png" /><span style="font-family:Calibri;font-size:10.5pt;"><font><br /></font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><span style="font-family:Calibri;font-size:10pt;">                                                          <font>图表</font><font> 6</font><font>：</font><font>DCDC</font><font>供电输入参考设计</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.4. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:14pt;"><font>开关机</font></span></b></h2>



<h3><b><span style="font-family:Arial;font-size:14pt;">3.4.1. </span></b><b><span style="font-family:Calibri;font-size:12pt;"><font>开机</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>模块可以通过</font><font>PWRKEY</font><font>管脚开机。关机状态下长按开机键</font><font>2</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>秒</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>以上，模块会进入开机流程，软件会检测</font>VBAT<font>管脚电压若</font><font>VBAT</font><font>管脚电压大于软件设置的开机电压（默认</font><font>3.55V</font><font>），会继续开机动作直至系统开机完成；否则，会停止执行开机动作，系统会关机。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.4.1.1PWRKEY<font>管脚开机</font></span></b></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">VBAT<font>上电后，</font><font>PWRKEY</font><font>管脚可以启动模块，把</font><font>PWRKEY</font><font>管脚拉低持续</font></span><span style="font-family:'宋体';font-size:10.5pt;">2秒</span><span style="font-family:Calibri;font-size:10.5pt;"><font>之后开机，开机成功后</font>PWRKEY<font>管脚可以释放。可以通过检测</font><font>VDDIO</font><font>管脚的电平来判别模块是否开机。推荐使用开集驱动电路来控制</font><font>PWRKEY</font><font>管脚。下图为参考电路：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-NzxfsK5w5b908db4bcac8.png" class="img-responsive" alt="attachments-2018-09-NzxfsK5w5b908db4bcac8.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                                    <font>图表</font><font>6</font><font>：开集驱动参考开机电路</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>另一种控制</font>PWRKEY<font>管脚的方法是直接使用一个按钮开关。按钮附近需放置一个</font><font> TVS</font><font>管用以</font><font>ESD</font><font>保护。下图为参考电路：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-J4EUpH6k5b908dcab7a3b.png" class="img-responsive" alt="attachments-2018-09-J4EUpH6k5b908dcab7a3b.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                                                 <font>图表</font><font>7</font><font>：按键开机参考电路</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.4.1.2<font>上电开机</font></span></b></p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>将</font></span><span style="font-family:Calibri;font-size:10.5pt;">PWRKEY<font>管脚直接接地可以实现上电自动开机功能。需要注意，在上电开机模式下，将无法关机，只要</font><font>VBAT</font><font>管脚的电压大于开机电压即使软件调用关机接口，模块仍然会再开机起来。另外，在此模式下，要想成功开机起来</font><font>VBAT</font><font>管脚电压任然要大于软件设定的开机电压值，如果不满足，模块会关闭，就会出现反复开关机的情况。</font></span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.4.2. </span></b><b><span style="font-family:Calibri;font-size:12pt;"><font>关机</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>以下的方式可以关闭模块：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>正常关机：使用</font>PWRKEY<font>管脚关机。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>低压自动关机：模块检测到低压时关机。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>紧急关机：通过</font>RESET<font>管脚关机。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.4.2.1PWRKEY<font>管脚关机</font></span></b></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">PWRKEY<font>管脚拉低</font></span><span style="font-family:'宋体';font-size:10.5pt;">1.5</span><span style="font-family:Calibri;font-size:10.5pt;">s<font>以上时间，模块会执行关机动作。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>关机过程中，模块需要注销</font>GSM<font>网络，注销时间与当前网络状态有关，经测定用时约</font><font>2s~12s</font><font>，因此建议延长</font><font>12s</font><font>后再进行断电或重启，以确保在完全断电之前让软件保存好重要数据。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：对于</font>AT<font>版本关机之后，模块进入关机模式，无法执行进一步的</font><font>AT</font><font>命令。关机模式可以用</font><font>VDDIO</font><font>管脚来指示，低电平指示模块已进入关机模式。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.4.2.2<font>低电压自动关机</font></span></b></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块在运行状态时当</font>VBAT<font>管脚电压低于软件设定的关机电压时（默认设置</font><font>3.4V</font><font>），软件会执行关机动作关闭模块，以防低电压状态下运行出现各种异常。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：对于</font>PWRKEY<font>接地的上电开机模式，在</font><font>VBAT</font><font>电压低于关机电压时，模块仍然会执行关机动作，但是关机后会因为硬件上电开机而会再次被开机起来，由于此时</font><font>VBAT</font><font>电压在开机电压以下，软件又会执行关闭动作，因而会出现反复开关机的现象，直到</font><font>VBAT</font><font>电压低于硬件开机电压</font><font>3.0V</font><font>，硬件不再开机起来为止。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.4.2.3RESET<font>紧急关机</font></span></b></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>模块第</font><font>34</font><font>脚为</font><font>reset</font><font>管脚，其功能是硬件关机。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>可以通过拉低</font>RESET<font>管脚</font><font>200ms</font><font>左右来关机，之后释放。推荐使用</font><font>OC</font><font>驱动电路来控制</font><font>RESET</font><font>管脚。下图为参考电路：</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：三级管集电极和发射级不能串联大于</font>1<font>欧姆的电阻。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Uzp7dDB25b908de29c678.png" class="img-responsive" alt="attachments-2018-09-Uzp7dDB25b908de29c678.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                         <font>图表</font><font>8</font><font>：开集驱动</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>参考紧急关机电路</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>另一种控制</font>RESET<font>管脚紧急关机的方法是直接使用一个按钮开关。按钮附近需放置一个</font><font>TVS</font><font>管用以</font><font>ESD</font><font>保护。下图为参考电路：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-fCPSanxB5b908df45a2e0.png" class="img-responsive" alt="attachments-2018-09-fCPSanxB5b908df45a2e0.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                                      <font>图表</font><font>9</font><font>：按键紧急关机参考电路</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：上电开机配置情况下，</font>RESET<font>管脚拉低后，模块会关机后又会上电开机起来，</font><font>RESET</font><font>管脚间接起到重启的作用。</font></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.5. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>省电技术</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>根据系统需求，有两种方式可以使模块进入到低功耗的状态。对于</font>AT<font>版本使用</font><font>“AT+CFUN”</font><font>命令可以使模块进入最少功能状态。</font><font>Luat</font><font>版本调用</font><font>misc.setflymode(true)</font><font>进入飞行模式，调用</font><font>misc.setflymode(false)</font><font>退出飞行模式</font></span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.5.1. </span></b><b><span style="font-family:Calibri;font-size:12pt;"><font>最少功能模式</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>最少功能模式可以将模块功能减少到最小程度，此模式可以通过发送</font>“AT+CFUN=&lt;fun&gt;”<font>命令来设置。</font><font>&lt;fun&gt;</font><font>参数可以选择</font><font>0</font><font>，</font><font>1</font><font>，</font><font>4</font><font>。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">0<font>：最少功能（关闭</font><font>RF</font><font>和</font><font>SIM</font><font>卡）；</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">1<font>：全功能（默认）；</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">4<font>：关闭</font><font>RF</font><font>发送和接收功能；</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果使用</font>“AT+CFUN=0”<font>将模块设置为最少功能模式，射频部分和</font><font>SIM</font><font>卡部分的功能将会关闭。而串口依然有效，但是与射频部分以及</font><font>SIM</font><font>卡部分相关的</font><font>AT</font><font>命令则不可用。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果使用</font>“AT+CFUN=4”<font>设置模块，</font><font>RF</font><font>部分功能将会关闭，而串口依然有效。所有与</font><font>RF</font><font>部分相关的</font><font>AT</font><font>命令不可用。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块通过</font>“AT+CFUN=0”<font>或者</font><font>“AT+CFUN=4”</font><font>设置以后，可以通过</font><font>“AT+CFUN=1”</font><font>命令设置返回到全功能状态。</font></span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.5.2. </span></b><b><span style="font-family:Calibri;font-size:12pt;"><font>睡眠模式（慢时钟模式）</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>支持睡眠模式，对于</font><font>AT</font><font>版本，通过</font><font>DTR pin</font><font>脚来控制休眠，</font><font>DTR</font><font>高电平时允许模块休眠，当</font><font>DTR</font><font>为高时，模块在没有动作的情况下会在</font><font>30s</font><font>左右进入休眠模式；</font><font>DTR</font><font>由高电平变为低电平时将模块唤醒，同时，主串口连续发送</font><font>AT</font><font>指令也可以唤醒模块，但是前面一些</font><font>AT</font><font>指令会丢失。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>对于</font>Luat<font>版本一般情况下，用户是不需要写代码去控制进入或者退出休眠状态，系统自动控制进入和退出休眠</font></span></p>

<p><span style="font-family:'宋体';color:rgb(255,0,0);font-size:10.5pt;"><font>注意：</font>AT版本默认状态不会进入休眠，需要发指令AT+CSCLK=1或AT+CSCLK=2才能是模块进入休眠。详细请参考《AirM2M无线模块AT命令手册》</span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.5.3. </span></b><b><span style="font-family:Calibri;font-size:12pt;"><font>睡眠唤醒</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>当模块处于睡眠模式，以下方法可以唤醒模块。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">AT<font>版本将</font><font>DTR</font><font>管脚拉低可以唤醒模块。</font><font>DTR</font><font>管脚拉低</font><font>20ms</font><font>后，串口被激活。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">GPIO<font>中断。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>接收来电或者</font>GPRS<font>数据以唤醒模块。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>接收短信以唤醒模块。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.6. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>模式切换汇总</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>7<font>：模式切换汇总</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-RDST3ylx5b908e206bfd6.png" class="img-responsive" alt="attachments-2018-09-RDST3ylx5b908e206bfd6.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.7. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:14pt;"><font>串口</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块提供了两个通用异步收发器：主串口</font>UART1<font>和辅串口</font><font>UART2</font><font>。模块支持固定波特率和自适应波特率。自适应波特率支持范围</font><font>4800bps</font><font>到</font><font>115200bps</font><font>。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>主串口</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART1_TXD<font>：发送数据到</font><font>DTE</font><font>设备的</font><font>RXD</font><font>端</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART1_RXD<font>：从</font><font>DTE</font><font>设备</font><font>TXD</font><font>端接收数据</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART1_RTS<font>：</font><font>DTE</font><font>请求发送数据给</font><font>DCE</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART1_CTS<font>：清除发送</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART1_DTR<font>：</font><font>DTE</font><font>准备好并通知</font><font>DCE</font><font>（此管脚可以用来唤醒模块）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART1_RI<font>：振铃（</font><font>DCE</font><font>有来电或者</font><font>URC</font><font>或者短信会发送信号通知</font><font>DTE</font><font>）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART1_DCD<font>：载波检测（当</font><font>DCE</font><font>和</font><font>DTE</font><font>之间的通信链路建立起来）</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在默认情况下，模块的硬件流控是关闭的。当客户需要硬件流控时，管脚</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">RTS,CTS</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>必须连接到客户端，</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">AT</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>命令</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">“AT+IFC=2,2”</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>可以用来打开硬件流控。</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">AT</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>命令</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">“AT+IFC=0,0”</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>可以用来关闭流控。具体请参考</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>《</font>AirM2M无线模块AT命令手册》</span><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>辅串口</font>UART2</span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART2_TXD<font>：发送数据到</font><font>DTE</font><font>的串口</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART2_RXD<font>：从</font><font>DTE</font><font>的串口接收数据</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART2_RTS<font>：</font><font>DTE</font><font>请求发送数据给</font><font>DCE</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">UART2_CTS<font>：清除发送</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>串口逻辑电平如下表所示：</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>8<font>：串口逻辑电平</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-tmmE1KcC5b908e396185b.png" class="img-responsive" alt="attachments-2018-09-tmmE1KcC5b908e396185b.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>9<font>：串口管脚定义</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-AsFbYXM55b908e6105566.png" class="img-responsive" alt="attachments-2018-09-AsFbYXM55b908e6105566.png" /></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.7.1. </span></b><b><span style="font-family:Calibri;font-size:12pt;"><font>主串口</font></span></b></h3>



<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.8.1.1<font>主串口特点</font></span></b></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>包括数据线</font>TXD<font>和</font><font>RXD</font><font>，硬件流控控制线</font><font>RTS</font><font>和</font><font>CTS</font><font>，其它控制线</font><font>DTR</font><font>，</font><font>DCD</font><font>和</font><font>RI</font><font>。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">8<font>个数据位，无奇偶校验，一个停止位。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>硬件流控默认关闭。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>用以</font>AT<font>命令传送，</font><font>GPRS</font><font>数传，</font><font>CSD</font><font>传真等等。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>支持波特率如下：</font>1200,2400,4800,9600,14400,19200,28800,38400,57600,115200,230400,460800,921600</span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">AT<font>指令版本默认情况下模块是自适应波特率</font><font>(AT+IPR=0)</font><font>，在自适应波特率模式下，开机后初始化信息（开头是</font><font>“RDY”</font><font>）不会回发给主控机。在模块开机</font><font>2-3</font><font>秒后，可以给模块发送</font><font>AT</font><font>命令。主控机需首先发送</font><font>“AT”</font><font>字符给模块来训练主控机的波特率，此时模块会上报初始化信息，表明训练成功。用户可以发送一个</font><font>“AT+IPR=x :&amp;W”</font><font>命令给模块（</font><font>x</font><font>是波特率，比如</font><font>9600</font><font>），此命令的作用是设置一个固定的波特率并保存，在完成这些配置之后，每次模块开机以后，会自动串口返回</font><font>URC</font><font>初始化信息（开头是</font><font>“RDY”</font><font>）。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>为了更好的使用自适应波特率功能，以下的使用条件需要注意：</font></span></p>

<p><b><span style="font-family:Helvetica;font-size:10.5pt;"> </span></b></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;"><font>模块和上位机</font></span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>之间同步：</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>自适应波特率功能开启情况下，当模块上电，在发送</font>“AT”<font>字符前最好等待</font><font> 2~3</font><font>秒钟。当模块上报开机初始化信息，表明波特率训练成功，和上位机完成了同步。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在自适应波特率模式下，主控器如果需要开机信息，必须首先进行同步。否则开机初始化信息将</font></span><span style="font-family:'宋体';font-size:10.5pt;"><font>不会上报</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;"><font>自适应波特率操作配置：</font></span></b></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口配置为</font>8<font>位数据位，无奇偶校验位，</font><font>1</font><font>位停止位（出厂配置）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块开机时只有字符串</font>“AT”<font>可以训练波特率。（</font><font>“at”</font><font>、</font><font>“At”</font><font>或者</font><font>“aT”</font><font>无法被识别）</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>波特率训练成功后，可以识别大写、小写或大小写组合的</font>AT<font>命令。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>自适应波特率模式下，如果模块开机没有先同步，如</font>“RDY”<font>，</font><font>“+CFUN:  1”</font><font>和</font><font>“+CPIN: READY”</font><font>这样的</font><font>URC</font><font>信息将不会上报。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>不推荐在固定波特率模式时切换到自适应波特率模式。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>在自适应波特率模式下，不推荐切换到软件多路复用模式。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><b><span style="font-family:Calibri;font-size:10.5pt;">3.8.1.2<font>主串口连接方式</font></span></b></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>主串口的连接方式较为灵活，如下是三种常用的连接方式。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>全功能的串口按照如下的连接方式，此方式主要应用在调制解调模式（</font>PPP<font>拨号）。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-CtLKHID35b908e77d84aa.png" class="img-responsive" alt="attachments-2018-09-CtLKHID35b908e77d84aa.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                            <font>图表</font><font>10</font><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>全功能串口连接方式示意图</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>三线制的串口请参考如下的连接方式：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-WPRqOxwz5b908e8a3ea9a.png" class="img-responsive" alt="attachments-2018-09-WPRqOxwz5b908e8a3ea9a.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                               <font>图表</font><font>11</font><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口三线制连接方式示意图</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>带流控的串口连接请参考如下电路连接，此连接方式可提高大数据量传输的可靠性，防止数据丢失。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-WJWSgJ9T5b908e9f4e93f.png" class="img-responsive" alt="attachments-2018-09-WJWSgJ9T5b908e9f4e93f.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                      <font>图表</font><font>12</font><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>带流控的串口连接方式示意图</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;">                  </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.7.2. </span></b><b><span style="font-family:Calibri;font-size:12pt;"><font>辅串口</font>UART2</span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">UART2 <font>支持五线制的串口，请参考如下的连接方式：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-EKvqqpSk5b908f4c4d5b8.png" class="img-responsive" alt="attachments-2018-09-EKvqqpSk5b908f4c4d5b8.png" /></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.7.3. </span></b><b><span style="font-family:Calibri;font-size:12pt;"><font>调试串口</font></span></b></h3>



<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>数据线：</font>HOST_TXD<font>和</font><font>HOST_RXD</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>调试口仅用作软件调试，波特率配置为</font>921600bps</span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>串口会自动向外面输出</font>log<font>信息</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>调试串口连线参考如下方式连接：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-piWPDXTN5b908f628fbd8.png" class="img-responsive" alt="attachments-2018-09-piWPDXTN5b908f628fbd8.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                                             <font>图表</font><font>13</font><font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>软件调试连线图</font></span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.7.4. </span></b><b><span style="font-family:Calibri;font-size:12pt;"><font>串口应用</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>对于</font>3.3V<font>电压系统情况下的串口电平匹配电路参考如下，强烈建议在</font><font>RXD</font><font>等模块输入的端口上使用分压电阻的方式，将电压分压到</font><font>2.8V</font><font>。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果是</font>3V<font>系统，根据分压原理建议将</font><font>5.6K</font><font>电阻改为</font><font>10K</font><font>电阻。客户不允许分压方式下，也建议必须串接</font><font>1K</font><font>电阻</font></span><span style="font-family:Calibri;font-size:11pt;"><font>。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Z96L94X65b908f7606f45.png" class="img-responsive" alt="attachments-2018-09-Z96L94X65b908f7606f45.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                                   <font>图表</font><font>14</font><font>：</font><font>3.3V</font><font>电平转换电路</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">5V<font>系统的电平匹配，模块和外设之间的电平匹配可以参考如下的连接方式，如下的虚线部分可以参考上面的实线电路（虚线部分模块发送参考模块</font><font>TXD</font><font>的电路设计，虚线部分模块接收参考模块</font><font>RXD</font><font>的电路设计）。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">VCC_MCU<font>是客户端的</font><font>I/O</font><font>电平电压。</font><font>VDDIO</font><font>是模块输出的</font><font>I/O</font><font>电平电压。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-e9vNGPkS5b908f897bb4d.png" class="img-responsive" alt="attachments-2018-09-e9vNGPkS5b908f897bb4d.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                                     <font>图表</font><font>15</font><font>：</font><font>5V</font><font>电平转换电路</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>当模块和</font>PC<font>机进行通信时，需要在他们之间加</font><font>RS232</font><font>电平转换电路。因为模块的串口配置都不是</font><font>RS232</font><font>电平，仅支持</font><font>CMOS</font><font>电平。下图为模块跟</font><font>PC</font><font>通信时，串口电平转换电路。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-e7B759aR5b908f9c08de3.png" class="img-responsive" alt="attachments-2018-09-e7B759aR5b908f9c08de3.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                                      <font>图表</font><font>16</font><font>：</font><font>RS232</font><font>电平转换电路</font></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.8. </span></b><b><span style="font-family:Calibri;font-size:16pt;"><br /></span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:14pt;"><font>音频接口</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>模块提供了一路模拟音频输入通道和一路模拟输出通道，支持通话、录音和播放等功能。</font></span></p>

<p><span style="font-family:Calibri;color:rgb(51,122,183);font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">10<font>：音频接口管脚定义</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-BqCk6DHA5b908fc0e4eb9.png" class="img-responsive" alt="attachments-2018-09-BqCk6DHA5b908fc0e4eb9.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.8.1. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:12pt;"><font>防止</font></span></b><b><span style="font-family:Calibri;font-size:12pt;">TDD</span></b><b><span style="font-family:Calibri;font-size:12pt;"><font>噪声和其它噪声</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>手持话柄及免提的麦克风建议采用内置射频滤波双电容（如</font>10pF<font>和</font><font>33pF</font><font>）的驻极体麦克风，从干扰源头滤除射频干扰，会很大程度改善耦合</font><font>TDD</font><font>噪音。</font><font>33pF</font><font>电容用于滤除模块工作在</font><font>900MHz</font><font>频率时的高频干扰。如果不加该电容，在通话时候有可能会听到</font><font>TDD</font><font>噪声。同时</font><font>10pF</font><font>的电容是用以滤除工作在</font><font>1800MHz</font><font>频率时的高频干扰。需要注意的是，由于电容的谐振点很大程度上取决于电容的材料以及制造工艺，因此选择电容时，需要咨询电容的供应商，选择最合适的容值来滤除工作在</font><font>GSM850MHz</font><font>，</font><font>GSM900MHz</font><font>，</font><font>DCS1800MHz</font><font>和</font><font>PCS1900MHz</font><font>时的高频噪声。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">GSM<font>发射时的高频干扰严重程度通常主要取决于客户应用设计。在有些情况下，</font><font>GSM900</font><font>的</font><font>TDD</font><font>噪声比较严重，而有些情况下，</font><font>DCS1800</font><font>的</font><font>TDD</font><font>噪声比较严重。因此客户可以根据测试的结果选贴需要的滤波电容，甚至有的时候不需要贴该类滤波电容。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">PCB<font>板上的射频滤波电容摆放位置要尽量靠近音频器件或音频接口，走线尽量短，要先经过滤波电容再到其他点</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>天线的位置离音频元件和音频走线尽量远，减少辐射干扰，电源走线和音频走线不能平行，电源线尽量远离音频线。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>差分音频走线必须遵循差分信号的</font>Layout<font>规则。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.8.2. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:12pt;"><font>麦克风接口参考电路</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">AIN<font>通道内置驻极体麦克风偏置电压。麦克风通道参考电路下图所示</font></span><span style="font-family:Calibri;font-size:11pt;"><font>：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-4pROpqtk5b908fd7360a5.png" class="img-responsive" alt="attachments-2018-09-4pROpqtk5b908fd7360a5.png" /></p>

<p><span style="font-family:Calibri;color:rgb(51,122,183);font-size:10pt;">                                           <font>图表</font></span><span style="font-family:Calibri;font-size:10pt;">17<font>：</font><font>AIN</font><font>麦克风通道接口电路</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.8.3. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:12pt;"><font>音频输出接口参考电路</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;">SPK<font>音频输出接口可以直接与驱动</font><font>8</font><font>欧姆喇叭。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-hImxkHZl5b908fe742852.png" class="img-responsive" alt="attachments-2018-09-hImxkHZl5b908fe742852.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><span style="font-family:Calibri;color:rgb(51,122,183);font-size:10pt;">                                                       <font>图表</font></span><span style="font-family:Calibri;font-size:10pt;">18<font>：参考线路</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.8.4. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:12pt;"><font>音频电气特性</font></span></b></h3>



<p><span style="font-family:Calibri;color:rgb(51,122,183);font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">11<font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>驻极体麦克风典型特性参数</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-nHjvLJag5b908ffa1a12d.png" class="img-responsive" alt="attachments-2018-09-nHjvLJag5b908ffa1a12d.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;color:rgb(51,122,183);font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">12<font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;"><font>音频接口典型特性参数</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-toGo7fd05b90900c4d3e5.png" class="img-responsive" alt="attachments-2018-09-toGo7fd05b90900c4d3e5.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.9. </span></b><b><span style="font-family:Calibri;color:rgb(51,122,183);font-size:14pt;">SIM<font>卡接口</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡接口支持</font><font>GSM Phase1</font><font>规范的功能，同时也支持</font><font>GSM Phase  2+</font><font>规范的功能和</font><font>FAST64 kbps SIM</font><font>卡（用于</font><font>SIM</font><font>应用工具包）</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡通过模块内部的电源供电，支持</font><font>1.8V</font><font>和</font><font>3.0V</font><font>供电。</font></span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.9.1. </span></b><b><span style="font-family:Calibri;font-size:12pt;">SIM<font>接口</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表介绍了</font>SIM<font>的接口管脚定义。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>13<font>：</font><font>SIM</font><font>卡接口管脚定义</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-GW9zOezL5b909022046da.png" class="img-responsive" alt="attachments-2018-09-GW9zOezL5b909022046da.png" /></p>



<p> </p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下图是</font>SIM<font>接口的参考电路，使用</font><font>6pin</font><font>的</font><font>SIM</font><font>卡座。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-rSof13f45b90903e15262.png" class="img-responsive" alt="attachments-2018-09-rSof13f45b90903e15262.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                       <font>图表</font><font>19</font><font>：使用</font><font>6pin SIM</font><font>卡座参考电路图</font><font>(SIM)</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在</font>SIM<font>卡接口的电路设计中，为了确保</font><font>SIM</font><font>卡的良好的功能性能和不被损坏，在电路设计中建议遵循以下设计原则：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡座与模块距离摆件不能太远，越近越好，尽量保证</font><font>SIM</font><font>卡信号线布线不超过</font><font>20cm</font><font>。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡信号线布线远离</font><font>RF</font><font>线和</font><font>VBAT</font><font>电源线。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">SIM_VDD<font>的布线宽度不小于</font><font>0.3mm</font><font>，且在</font><font>SIM_VDD</font><font>与</font><font>SIM_GND</font><font>之间的旁路电路不超过</font><font>1uF</font><font>，并靠近</font><font>SIM</font><font>卡座摆放。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>为了防止可能存在的</font>SIM_CLK<font>信号对</font><font>SIM_DATA</font><font>信号的串扰，两者布线不要太靠近，在两条走线之间增加地屏蔽。且对</font><font>SIM_RST</font><font>信号也需要地保护。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>为了保证良好的</font>ESD<font>保护，建议加</font><font>TVS</font><font>管，并靠近</font><font>SIM</font><font>卡座摆放。选择的</font><font>ESD</font><font>器件寄生电容不大于</font><font>50pF</font><font>，例如</font><font>WILL (http://www.willsemi.com) ESDA6V8AV6</font><font>。在模块和</font><font>SIM</font><font>卡之间也可以串联</font><font>22</font><font>欧姆的电阻用以抑制杂散</font><font>EMI</font><font>，增强</font><font>ESD</font><font>防护。</font><font>SIM</font><font>卡的外围电路必须尽量靠近</font><font>SIM</font><font>卡座。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h3><b><span style="font-family:Arial;font-size:14pt;">3.9.2. </span></b><b><span style="font-family:Calibri;font-size:12pt;">6-pin SIM<font>卡座</font></span></b></h3>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>使用</font>6-pin SIM<font>卡座，推荐使用</font><font>Amphenol</font><font>公司的</font><font>C70710M0065122</font><font>。访问</font><font>http://www.amphenol.com</font><font>获取更多信息。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-VCMQzpu95b90905493d5f.png" class="img-responsive" alt="attachments-2018-09-VCMQzpu95b90905493d5f.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;">                                <font>图表</font><font>20</font><font>：</font><font>Amphenol C707 10M006 512 2 SIM</font><font>卡座</font></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.10. </span></b><b><span style="font-family:Calibri;font-size:14pt;">RI<font>信号动作</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>14<font>：</font><font>RI</font><font>信号动作</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-9NS1Bxr65b90906d1ed7a.png" class="img-responsive" alt="attachments-2018-09-9NS1Bxr65b90906d1ed7a.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果模块用作主叫方，</font>RI<font>会保持高电平，收到</font><font>URC</font><font>信息或者短信时除外。而模块用作被叫方时，</font><font>RI</font><font>的时序如下所示：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-TY7cvtQ25b909087668c4.png" class="img-responsive" alt="attachments-2018-09-TY7cvtQ25b909087668c4.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                         图表</font>21<font>：语音</font></span><span style="font-family:Calibri;color:rgb(51,122,183);font-size:10pt;"><font>呼叫时模块用作被叫方</font> RI<font>时序</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-To6C2xzD5b90909d2be86.png" class="img-responsive" alt="attachments-2018-09-To6C2xzD5b90909d2be86.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                       图表</font>22<font>：数据呼叫时模块用作被叫方</font><font>RI</font><font>时序</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-xkATBL7Z5b9090b5108bd.png" class="img-responsive" alt="attachments-2018-09-xkATBL7Z5b9090b5108bd.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                        图表</font>23<font>：模块主叫时</font><font>RI</font><font>时序</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-y3Y5To285b9090c95b449.png" class="img-responsive" alt="attachments-2018-09-y3Y5To285b9090c95b449.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                  图表</font>24<font>：收到</font><font>URC</font><font>信息或者短信时</font><font>RI</font><font>时序</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.11. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>网络状态指示</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;">NET_LED<font>管脚信号可以用指示灯来指示网络的状态。该管脚工作状态如下表所示：</font></span></p>

<p><span style="font-family:Calibri;color:rgb(51,122,183);font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">15<font>：</font><font>NET_LED</font><font>的工作状态</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-SkqXy22m5b9091086b52d.png" class="img-responsive" alt="attachments-2018-09-SkqXy22m5b9091086b52d.png" /></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>参考电路如下图：</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-88avrDSS5b909115d1039.png" class="img-responsive" alt="attachments-2018-09-88avrDSS5b909115d1039.png" /><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                     图表</font>25<font>：</font><font>NET_LED</font><font>参考电路</font></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">3.12. </span></b><b><span style="font-family:Calibri;font-size:14pt;">PWM</span></b></h2>



<p><span style="font-family:Calibri;font-size:11pt;">Air202<font>支持</font><font>2</font><font>路</font><font>PWM</font><font>输出：</font><font>PWM,LPG</font><font>，分别由</font><font>UART2_RX</font><font>和</font><font>UART2_TXD</font><font>复用。</font></span></p>

<table><tr><td><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-4tUZjH9Z5b909141c94c4.png" class="img-responsive" alt="attachments-2018-09-4tUZjH9Z5b909141c94c4.png" /><span style="font-family:Calibri;font-size:11pt;"><br /></span><span style="font-family:Calibri;font-size:11pt;">LPG<font>（</font><font>Light Pulse Generation</font><font>）用于低频率的应用如驱动</font><font>LED</font><font>闪烁，只能设定固定的</font><font>7</font><font>种周期（单位</font><font>ms</font><font>）：</font><font>125,250,500,1000,1500,2000,2500,3000</font><font>。以及</font><font>15</font><font>种高电平时间。</font></span></p></td><td><p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p></td><td><p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p></td><td><p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p></td><td><p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p></td><td><p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p></td></tr></table>

<p><span style="font-family:Calibri;font-size:11pt;"><br /></span><span style="font-family:Calibri;font-size:11pt;">PWM,<font>频率范围（</font><font>80-65535HZ</font><font>），以及可以设置各种占空比。</font></span></p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>具体请参考相应</font>AT<font>指令文档</font></span></p>

<h1><b><span style="font-family:Arial;font-size:15pt;">4. </span></b><b><span style="font-family:Calibri;font-size:16pt;"><font>射频接口</font></span></b></h1>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>管脚</font> 32<font>是</font><font> RF</font><font>天线输入端。</font><font>RF</font><font>接口</font><font>50</font><font>欧姆阻抗匹配。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>16<font>：</font><font>RF_ANT</font><font>管脚定义</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-4iktmQXc5b90915f7ffe7.png" class="img-responsive" alt="attachments-2018-09-4iktmQXc5b90915f7ffe7.png" /></p>



<p> </p>

<h2><b><span style="font-family:Arial;font-size:14pt;">4.1. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>射频参考电路</font></span></b></h2>



<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-4wsbjDCt5b90916ff06a1.png" class="img-responsive" alt="attachments-2018-09-4wsbjDCt5b90916ff06a1.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                                    图表</font>26<font>：射频参考电路</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>提供了一个</font><font>RF</font><font>天线焊盘作为天线连接接口。连接到模块</font><font>RF</font><font>天线焊盘的</font><font>RF</font><font>走线必须使用微带线或者其他类型的</font><font> RF</font><font>走线，阻抗必须控制在</font><font>50</font><font>欧姆左右。为了获得更好的射频性能，</font><font>RF</font><font>输入端口两侧各有接地焊盘。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>为了最小化</font> RF<font>走线或者</font><font>RF</font><font>线缆上的损耗，必须谨慎设计。建议插入损耗必须满足以下条件：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">GSM850/EGSM900&lt;1dB</span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;">DCS1800/PCS1900&lt;1.5dB</span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><br /></span><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>同时内置一个</font><font>RF</font><font>连接器，以方便用户直接用射频同轴天线连接模块，而省掉了大板上的射频走线。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>内置射频座规格如下：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-UMoBhaeB5b90919045130.png" class="img-responsive" alt="attachments-2018-09-UMoBhaeB5b90919045130.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>对应的同轴连接器如下图：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-7eSBfHu65b9091a2055dc.png" class="img-responsive" alt="attachments-2018-09-7eSBfHu65b9091a2055dc.png" /></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">4.2. </span></b><b><span style="font-family:Calibri;font-size:14pt;">RF<font>输出功</font></span></b><b><span style="font-family:Calibri;font-size:15pt;"><font>率</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>17<font>：</font><font>RF</font><font>传导功率</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-oy3C61h35b9091bb333a2.png" class="img-responsive" alt="attachments-2018-09-oy3C61h35b9091bb333a2.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：在</font> GPRS<font>网络</font><font>4</font><font>时隙发送模式下，最大输出功率减小</font><font> 2.5dB</font><font>。该设计符合</font><font> 3GPP TS 51.010-1</font><font>中</font><font> 13.16</font><font>章节所述的</font><font>GSM</font><font>规范。</font></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">4.3. </span></b><b><span style="font-family:Calibri;font-size:14pt;">RF<font>传导灵敏度</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>18<font>：</font><font>RF</font><font>传导灵敏度</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-R6FaOOqm5b9091e038884.png" class="img-responsive" alt="attachments-2018-09-R6FaOOqm5b9091e038884.png" /></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">4.4. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>工作频率</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>19<font>：模块工作频率</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-6BmGwrhT5b9091f4721d2.png" class="img-responsive" alt="attachments-2018-09-6BmGwrhT5b9091f4721d2.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">4.5. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>推荐</font>RF<font>焊接方式</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果连接外置天线的射频连接器是通过焊接方式与模块相连的，请务必注意连接线的剥线方式及焊接方法，尤其是地要焊接充分，请按照下图中正确的焊接方式进行操作，以避免因焊接不良引起线损增大。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-UuDH9Qr45b909209948e3.png" class="img-responsive" alt="attachments-2018-09-UuDH9Qr45b909209948e3.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                     图表</font>27<font>：射频焊接方式建议</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h1><b><span style="font-family:Arial;font-size:15pt;">5. </span></b><b><span style="font-family:Calibri;font-size:15pt;"><font>电器特性，可靠性，射频特性</font></span></b></h1>



<h2><b><span style="font-family:Arial;font-size:14pt;">5.1. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>绝对最大值</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表所示是模块数字、模拟管脚的电源供电电压电流最大耐受值。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>20<font>：绝对最大值</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-EwJxOz365b909251c6541.png" class="img-responsive" alt="attachments-2018-09-EwJxOz365b909251c6541.png" /></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">5.2. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>工作温度</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>21<font>：工作温度</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-JfxT7T925b909263a00aa.png" class="img-responsive" alt="attachments-2018-09-JfxT7T925b909263a00aa.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">5.3. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>电压额度值</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>22<font>：模块电源额度值</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-DeeDVvuR5b9092c498269.png" class="img-responsive" alt="attachments-2018-09-DeeDVvuR5b9092c498269.png" /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-74VU1z8b5b9092da63a6a.png" class="img-responsive" alt="attachments-2018-09-74VU1z8b5b9092da63a6a.png" /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-JI7jP5KN5b909313405f8.png" class="img-responsive" alt="attachments-2018-09-JI7jP5KN5b909313405f8.png" /></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">5.4. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>耗流</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>23<font>：模块耗流</font></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-e8slAMlj5b9093376127e.png" class="img-responsive" alt="attachments-2018-09-e8slAMlj5b9093376127e.png" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Tb4LVwA55b90935494980.png" class="img-responsive" alt="attachments-2018-09-Tb4LVwA55b90935494980.png" /><span style="font-family:Calibri;font-size:10pt;"><font><br /></font></span></p>

<p><span style="font-family:Calibri;font-size:9pt;"><font>注意：</font> GPRS CLASS 10<font>为默认设置。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">5.5. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>静电防护</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>在模块应用中，由于人体静电，微电子间带电摩擦等产生的静电，通过各种途径放电给模块，可能会对模块造成一定的损坏，所以</font> ESD<font>保护必须要重视，不管是在生产组装、测试，研发等过程，尤其在产品设计中，都应采取防</font><font> ESD</font><font>保护措施。如电路设计在接口处或易受</font><font> ESD</font><font>点增加</font><font> ESD</font><font>保护，生产中带防</font><font>ESD</font><font>手套等。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表为模块重点</font>PIN<font>脚的</font><font>ESD</font><font>耐受电压情况。</font></span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font>24<font>：</font></span><span style="font-family:Calibri;font-size:10.5pt;">ESD<font>性能参数（温度：</font><font>25</font></span><span style="font-family:'宋体';font-size:10.5pt;">℃</span><span style="font-family:Calibri;font-size:10.5pt;">, <font>湿度：</font><font>45%</font><font>）</font></span></p>



<p> <img src="http://oldask.openluat.com/image/show/attachments-2018-09-3fyb2PQm5b90939f648e5.png" class="img-responsive" alt="attachments-2018-09-3fyb2PQm5b90939f648e5.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h1><b><span style="font-family:Arial;font-size:15pt;">6. </span></b><b><span style="font-family:Calibri;font-size:15pt;"><font>机械尺寸</font></span></b></h1>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>该章节描述模块的机械尺寸以及客户使用该模块设计的推荐封装尺寸。</font></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">6.1. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>模块机械尺寸</font></span></b></h2>



<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-smwhH2TI5b9093f83579b.png" class="img-responsive" alt="attachments-2018-09-smwhH2TI5b9093f83579b.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                    图表</font>28<font>：</font><font>Air202</font><font>正视图（单位：毫米）</font></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">6.2. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>推荐</font>PCB<font>封装</font></span></b></h2>



<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-8Fz4uRRH5b9099e421e50.png" class="img-responsive" alt="attachments-2018-09-8Fz4uRRH5b9099e421e50.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                    图表</font>29<font>：推荐封装（单位：毫米）</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：保证</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">PCB</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>板上模块和其他元器件之间间距至少</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">3mm</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">6.3. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>模块正视图</font></span></b></h2>



<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-kBY9NuFm5b909a68efd2c.png" class="img-responsive" alt="attachments-2018-09-kBY9NuFm5b909a68efd2c.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                       图表</font>30<font>：模块正视图</font></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">6.4. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>模块底视图</font></span></b></h2>



<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-wdowWXU25b909a7ca77db.png" class="img-responsive" alt="attachments-2018-09-wdowWXU25b909a7ca77db.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                    图表</font>31<font>：模块底视图</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h1><b><span style="font-family:Arial;font-size:15pt;">7. </span></b><b><span style="font-family:Calibri;font-size:15pt;"><font>存储和生产</font></span></b></h1>



<h2><b><span style="font-family:Arial;font-size:14pt;">7.1. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>存储</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;">Air202<font>以真空密封袋的形式出货。模块的存储需遵循如下条件：</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>环境温度低于</font>40<font>摄氏度，空气湿度小于</font><font>90%</font><font>情况下，模块可在真空密封袋中存放</font><font>12</font><font>个月。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>当真空密封袋打开后，若满足以下条件，模块可直接进行回流焊或其它高温流程：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>模块环境温度低于</font>30<font>摄氏度，空气湿度小于</font><font>60%</font><font>，工厂在</font><font>72</font><font>小时以内完成贴片。</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>空气湿度小于</font>10%</span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>若模块处于如下条件，需要在贴片前进行烘烤：</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>当环境温度为</font>23<font>摄氏度（允许上下</font><font>5</font><font>摄氏度的波动）时，湿度指示卡显示湿度大于</font><font>10%</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>当真空密封袋打开后，模块环境温度低于</font>30<font>摄氏度，空气湿度小于</font><font>60%</font><font>，但工厂未能在</font><font>72</font><font>小时以内完成贴片</font></span></p>

<p><span style="font-family:Symbol;font-size:10.5pt;">¨ </span><span style="font-family:Calibri;font-size:10.5pt;"><font>当真空密封袋打开后，模块存储空气湿度大于</font>10%</span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>如果模块需要烘烤，请在</font>125<font>摄氏度下（允许上下</font><font>5</font><font>摄氏度的波动）烘烤</font><font>48</font><font>小时。</font></span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>注意：模块的包装无法承受如此高温，在模块烘烤之前，请移除模块包装。如果只需要短时间的烘烤，请参考</font></span><b><span style="font-family:Calibri;font-size:10.5pt;">IPC/JEDECJ-STD-033</span></b><span style="font-family:Calibri;font-size:10.5pt;"><font>规范。</font></span></p>

<h2><b><span style="font-family:Arial;font-size:14pt;">7.2. </span></b><b><span style="font-family:Calibri;font-size:14pt;"><font>生产焊接</font></span></b></h2>



<p><span style="font-family:Calibri;font-size:10.5pt;"><font>用印刷刮板在网板上印刷锡膏，使锡膏通过网板开口漏印到</font> PCB<font>上，印刷刮板力度需调整合适，为保证模块印膏质量，</font><font>Air202</font><font>模块焊盘部分对应的钢网厚度应为</font><font> 0.2mm</font><font>。</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-C2nb297N5b909a94d7eeb.png" class="img-responsive" alt="attachments-2018-09-C2nb297N5b909a94d7eeb.png" /></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                             图表</font>32<font>：印膏图</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10.5pt;"><font>为避免模块反复受热损伤，建议客户</font> PCB<font>板第一面完成回流焊后再贴模块。推荐的炉温曲线图如下图所示：</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-QtmuUEmj5b909aeea20b7.png" class="img-responsive" alt="attachments-2018-09-QtmuUEmj5b909aeea20b7.png" /></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:10pt;"><font>                                                          图表</font>33<font>：炉温曲线</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<h1><b><span style="font-family:Arial;font-size:15pt;">8. </span></b><b><span style="font-family:Calibri;font-size:15pt;"><font>联系我们</font></span></b></h1>



<p><b><span style="font-family:Calibri;font-size:11pt;"><font>（</font>1<font>）</font></span></b><span style="font-family:Calibri;font-size:11pt;"><font>淘宝店铺名称：合宙物联网</font></span></p>

<p><a target="_blank" rel="noopener" href="https://luat.taobao.com/"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;">https://luat.taobao.com</span></a></p>

<p><a target="_blank" rel="noopener" href="https://openluat.taobao.com/"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;">https://openluat.taobao.com</span></a></p>

<p><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;"> </span></p>

<p><b><span style="font-family:Calibri;font-size:11pt;"><font>（</font>2<font>）</font></span></b><span style="font-family:Calibri;font-size:11pt;">Luat<font>之家网站：</font></span></p>

<p><a target="_blank" rel="noopener" href="http://www.openluat.com/"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;">http://www.openluat.com/</span></a></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><b><span style="font-family:Calibri;font-size:11pt;"><font>（</font>3<font>）</font></span></b><span style="font-family:Calibri;font-size:11pt;"><font>合宙</font>OpenLuat<font>开源模块技术支持</font></span></p>

<p><span style="font-family:Calibri;font-size:11pt;">QQ<font>讨论群：</font><font>201848376</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><b><span style="font-family:Calibri;font-size:11pt;"><font>（</font>4<font>）</font></span></b><span style="font-family:Calibri;font-size:11pt;">GitHub<font>：</font></span></p>

<p><a target="_blank" rel="noopener" href="https://github.com/openLuat/Luat_Air202-Air800-Air201"><span style="font-family:'Times New Roman';color:rgb(0,0,255);font-size:10.5pt;">https://github.com/openLuat/Luat_Air202-Air800-Air201</span></a></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><b><span style="font-family:Calibri;font-size:11pt;"><font>（</font>5<font>）</font></span></b><span style="font-family:Calibri;font-size:11pt;"><font>微信公众号</font>: Luat</span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Calibri;font-size:11pt;">Lua+AT=Luat</span></p>

<p><span style="font-family:Calibri;font-size:11pt;">Open+Luat=OpenLuat</span></p>

<p><span style="font-family:Calibri;font-size:11pt;">www.OpenLuat.com</span></p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>合宙</font>--<font>》</font><font>Luat--</font><font>》发烧友</font><font>--</font><font>》客户</font><font>--</font><font>》产品</font></span></p>

<p><span style="font-family:Calibri;font-size:11pt;"><font>共建开源好生态！</font></span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>

<p><span style="font-family:Helvetica;font-size:10.5pt;"> </span></p>



<p> </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/09/05/429/" data-id="ckkfmdgfr00ewvkcgfv6o5cio" data-title="Air202模块硬件设计手册V1.58" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-428" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/09/05/428/" class="article-date">
  <time class="dt-published" datetime="2018-09-05T06:16:20.000Z" itemprop="datePublished">2018-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/09/05/428/">【码夫支付】微信支付宝对接详解</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;p&gt;一、需要的资料&lt;/p&gt;
</code></pre>
<p>1，码夫平台总代理账号（买支付板子，找淘宝客服申请）</p>

<p>2，码夫支付板子（测试使用）</p>

<p>2，微信服务号（已认证）</p>

<p>3，微信商户号（通过码夫申请新入网账户）</p>

<p>4，支付宝对公账号（通过码夫申请新入网账户）</p><p>5，新入网需要的资料（营业执照彩照，对公账号开户证明，商户号账户管理人姓名，身份证正反件彩照，手机号，邮箱，服务号名称）<br></p>

<p>二、<span style="background-color:rgb(255,255,0);">注意事项</span></p>

<p>1，对接微信支付宝之前，<span style="color:rgb(255,0,0);">不要在账号中产生交易，不要有任何订单产生，否则只能重新开平台账户</span></p>

<p>2，在开通微信服务号和支付宝认证的过程中，销售品目选择，不要选择任何敏感的行业，比如金融、第三方支付、软件开发以及平台服务等</p>

<p>3，提现功能需要微信商户号开通“企业付款到零钱”功能，开通此功能需要满足条件（&nbsp;a，微信支付开通大于等于90天；b，其中连续30天有交易），如果不满足则在商户后台是看不到这个功能的，详见<a href="http://kf.qq.com/product/wechatpaymentmerchant.html" target="_blank" rel="noreferrer noopener">微信资料</a></p>

<p>三、微信资料获取</p>

<p>1，<a href="https://mp.weixin.qq.com/" target="_blank" rel="noreferrer noopener">微信公共平台</a>-服务号中获取：开发者ID、开发者密码、验证文件（txt文件）</p>

<p>2，<a href="https://pay.weixin.qq.com/" target="_blank" rel="noreferrer noopener">微信商户平台</a>-账户中心中获取：微信支付商户号、API密钥（自己生成填写）、API证书（zip文件需要下载，不要解压）</p>

<p>3，以上资料获取详细步骤，详见问答&nbsp;<a href="http://oldask.openluat.com/question/327" target="_blank" rel="noreferrer noopener">【扫码支付】微信公众号对接步骤</a></p>

<p>4，在设置JS接口安全域名和网页授权域名的过程中，需要先到码夫支付平台提交资料（即第五步）才能保存，否则无法保存</p>

<p>5，对接完微信后，请继续对接支付宝</p>

<p>四、支付宝资料获取</p>

<p>1，支付宝开放平台获取：APPID、支付宝公钥.pem、应用私钥2048.pem</p>

<p>2，以上资料获取详细步骤，详见问答<a href="http://oldask.openluat.com/question/328" target="_blank" rel="noreferrer noopener">【扫码支付】支付宝资金对接</a></p>

<p>3，获取完支付宝资料后，需要将“手机网站支付”功能开通，才能使用支付宝扫码</p>

<p>五、提交资料到平台</p>

<p>1，提交资料前，请确认资料，<span style="color:rgb(255,0,0);background-color:rgb(255,255,0);">提交后不可以修改资料</span>，如有错误只能联系官方</p>

<p>2，按<a href="http://wxapp.mafu.shop/adminpage/wechat/" target="_blank" rel="noreferrer noopener">微信对接页面提示</a>提交微信相关资料，提交完后，再回到<a href="https://mp.weixin.qq.com/" target="_blank" rel="noreferrer noopener">微信公共平台</a>将之前无法保存的地方再保存一遍</p>

<p>3，按<a href="http://wxapp.mafu.shop/adminpage/alipay/" target="_blank" rel="noreferrer noopener">支付宝对接页面提示</a>提交支付宝相关资料，提交完保存即可</p>

<p>六、支付测试</p>

<p>1，参考问答<a href="http://oldask.openluat.com/question/146" target="_blank" rel="noreferrer noopener">如何快速使用设备</a>，然后支付使用</p>

<p>七、使用</p>

<p>1，正常使用即可，有更多问题请在ask系统或是Luat扫码支付技术交流群（661667915）提问</p>



      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/09/05/428/" data-id="ckkfmdgb80054vkcg73zd333x" data-title="【码夫支付】微信支付宝对接详解" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-427" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/09/05/427/" class="article-date">
  <time class="dt-published" datetime="2018-09-05T05:56:56.000Z" itemprop="datePublished">2018-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/09/05/427/">Air268F模块硬件开发手册V1.02</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1><b><span style="font-size:16pt;font-family:Verdana, sans-serif;">1.<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><span style="font-size:16pt;font-family:'宋体';">绪论</span></b></h1>

<p><span style="font-size:10.5pt;font-family:'宋体';color:#000000;">本文档定义了</span><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">模块及其硬件接口规范，电气特性和机械细节，通过此文档的帮助，结合我们的应用手册和用户指导书，客户可以快速应用</span><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">模块于无线应用的二次开发。</span></p>

<h2><b><span style="font-size:14pt;">1.1.<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:14pt;font-family:'黑体';">相关文档</span></b></h2>

<h2><img src="http://oldask.openluat.com/image/show/attachments-2018-09-LmQuzhIB5b8f739215225.jpg" class="img-responsive" style="width:676.5px;" alt="attachments-2018-09-LmQuzhIB5b8f739215225.jpg" /></h2>

<h3><span style="font-size:9pt;font-family:'宋体';">注意：所有文档均可在</span><span style="font-size:9pt;font-family:Calibri, sans-serif;"><a target="_blank" rel="noopener" href="http://www.openluat.com/Product/gprs/Air268.html">www.openluat.com</a></span><span style="font-size:9pt;font-family:'宋体';">下载</span></h3>

<h1><span style="font-size:16pt;font-family:Verdana, sans-serif;">2.<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-size:16pt;font-family:'宋体';">综述</span></h1>

<p><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">模块是四频段</span><span style="font-size:10.5pt;">GSM/GPRS</span><span style="font-size:10.5pt;font-family:'宋体';">模块，它的工作频段是：</span><span style="font-size:10.5pt;">GSM850MHz</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;">GSM900MHz</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;">DCS1800MHz</span><span style="font-size:10.5pt;font-family:'宋体';">和</span><span style="font-size:10.5pt;">PCS1900MHz</span><span style="font-size:10.5pt;font-family:'宋体';">。</span><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">支持</span><span style="font-size:10.5pt;">GPRS</span><span style="font-size:10.5pt;font-family:'宋体';">多时隙等级</span><span style="font-size:10.5pt;">1</span><span style="font-size:10.5pt;">0</span><span style="font-size:10.5pt;font-family:'宋体';">和</span><span style="font-size:10.5pt;">GPRS</span><span style="font-size:10.5pt;font-family:'宋体';">编码格式</span><span style="font-size:10.5pt;">CS-1</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;">CS-2</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;">CS-3</span><span style="font-size:10.5pt;font-family:'宋体';">和</span><span style="font-size:10.5pt;">CS-4</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>



<p><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">具有</span><span style="font-size:10.5pt;">22.0mm ×  22.0mm × 2.</span><span style="font-size:10.5pt;">3</span><span style="font-size:10.5pt;">mm</span><span style="font-size:10.5pt;font-family:'宋体';">的尺寸，几乎能够满足所有的</span><span style="font-size:10.5pt;">M2M</span><span style="font-size:10.5pt;font-family:'宋体';">的需求，包括汽车及个人追踪服务、无线</span><span style="font-size:10.5pt;">POS</span><span style="font-size:10.5pt;font-family:'宋体';">机、智能计量、工业级</span><span style="font-size:10.5pt;">PDA</span><span style="font-size:10.5pt;font-family:'宋体';">、共享扫码支付以及其它</span><span style="font-size:10.5pt;">M2M</span><span style="font-size:10.5pt;font-family:'宋体';">的应用。</span></p>







<p><span style="font-size:10.5pt;">Air</span><span style="font-size:10.5pt;">268</span><span style="font-size:10.5pt;">F</span><span style="font-size:10.5pt;font-family:'宋体';">内置</span><span style="font-size:10.5pt;">62</span><span style="font-size:10.5pt;">MbNorFlash</span><span style="font-size:10.5pt;"> + 32</span><span style="font-size:10.5pt;">MbSRAM</span><span style="font-size:10.5pt;font-family:'宋体';">，并</span><span style="font-size:10.5pt;font-family:'宋体';">支持合宙特有的</span><span style="font-size:10.5pt;">Luat</span><span style="font-size:10.5pt;font-family:'宋体';">开源平台</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;font-family:'宋体';">方便客户做二次开发</span><span style="font-size:10.5pt;font-family:'宋体';">，极大的</span><span style="font-size:10.5pt;font-family:'宋体';">减少了客户的开发周期和成本。</span><br /></p>







<p><span style="font-size:10.5pt;">Air268F </span><span style="font-size:10.5pt;font-family:'宋体';">有丰富的外围接口</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;font-family:'宋体';">支持</span><span style="font-size:10.5pt;">UART</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;">SPI</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;">I</span><span style="font-size:10.5pt;">2</span><span style="font-size:10.5pt;">C</span><span style="font-size:10.5pt;font-family:'宋体';">等各种接口</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;font-family:'宋体';">可支持最多</span><span style="font-size:10.5pt;">35</span><span style="font-size:10.5pt;font-family:'宋体';">个</span><span style="font-size:10.5pt;">GPIO</span><span style="font-size:10.5pt;font-family:'宋体';">，并支持</span><span style="font-size:10.5pt;">ADC</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;">5*5</span><span style="font-size:10.5pt;font-family:'宋体';">阵列键盘，专用</span><span style="font-size:10.5pt;">LED</span><span style="font-size:10.5pt;font-family:'宋体';">以及背光驱动管脚，音频输入和输出功能，满足各种应用场景的使用要求。</span></p>







<p><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">是贴片式模块，采用</span><span style="font-size:10.5pt;">LCC</span><span style="font-size:10.5pt;font-family:'宋体';">封装，可以通过其管脚焊盘内嵌于客户应用中，提供了模块与客户主板间丰富的硬件接口。</span><br /></p>







<p><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">模块采用了省电技术，电流功耗在睡眠模式</span><span style="font-size:10.5pt;">DRX=5</span><span style="font-size:10.5pt;font-family:'宋体';">下，低至</span><span style="font-size:10.5pt;">1.14mA</span><span style="font-size:10.5pt;font-family:'宋体';">。</span><br /></p>







<p><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">支持</span><span style="font-size:10.5pt;">TCP UDP PPP HTTPS SSL MQTT</span><span style="font-size:10.5pt;font-family:'宋体';">等协议。</span><br /></p>





<p><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">模块完全符合</span><span style="font-size:10.5pt;">RoHS</span><span style="font-size:10.5pt;font-family:'宋体';">标准。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">2</span><span style="font-family:'黑体';">：模块主要特征</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-8eDbIjhD5b8f74d56a75c.jpg" class="img-responsive" style="width:679.5px;" alt="attachments-2018-09-8eDbIjhD5b8f74d56a75c.jpg" /></p>

<h2><b><span style="font-size:14pt;font-family:Calibri, sans-serif;">2.1</span><span style="font-size:14pt;font-family:Calibri, sans-serif;"> </span><span style="font-size:14pt;font-family:'黑体';">功能图</span></b></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">下图为</span><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">功能框图，阐述了其主要功能：</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">存储器</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;">GSM</span><span style="font-size:10.5pt;font-family:'宋体';">射频</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">电源管理</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">接口部分</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-fDgKC1wZ5b8f75a785e47.png" class="img-responsive" alt="attachments-2018-09-fDgKC1wZ5b8f75a785e47.png" /></p>

<h2><b><span style="font-size:14pt;font-family:Calibri, sans-serif;">2.2</span><span style="font-size:14pt;font-family:'黑体';">评估板</span></b></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">为了有助于测试及使用</span><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">，合宙提供一套评估板。评估板包括</span><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">模块、</span><span style="font-size:10.5pt;">EVB</span><span style="font-size:10.5pt;">_</span><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">、</span><span style="font-size:10.5pt;">UART</span><span style="font-size:10.5pt;font-family:'宋体';">转</span><span style="font-size:10.5pt;">USB</span><span style="font-size:10.5pt;font-family:'宋体';">线等。</span></p>

<h1><b><span style="font-size:15pt;">3<span style="font-size:7pt;font-family:'Times New Roman';">       
</span></span><span style="font-size:15pt;font-family:'宋体';">应用接口</span></b></h1>

<p><span style="font-size:10.5pt;font-family:'宋体';">模块采用</span><span style="font-size:10.5pt;">LCC</span><span style="font-size:10.5pt;font-family:'宋体';">封装，</span><span style="font-size:10.5pt;">38</span><span style="font-size:10.5pt;font-family:'宋体';">个</span><span style="font-size:10.5pt;">SMT</span><span style="font-size:10.5pt;font-family:'宋体';">焊盘管脚，后续章节详细阐述了以下接口的功能：</span></p>

<p><span style="font-size:10.5pt;"> </span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a><span style="font-family:'宋体';"><span>电源供电</span></span></a></span></span></p>



<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a><span style="font-family:'宋体';"><span>开关机</span></span></a></span></span></p>



<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a><span style="font-family:'宋体';"><span>省电技术</span></span></a></span></span></p>



<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a><span style="font-family:'宋体';"><span>串口</span></span></a></span></span></p>



<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a>I2C<span style="font-family:'宋体';"><span>接口</span></span></a></span></span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a><span style="font-family:'宋体';"><span>屏幕接口</span></span></a></span></span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a><span style="font-family:'宋体';"><span>摄像头接口</span></span></a></span></span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a>PWM<span style="font-family:'宋体';"><span>接口</span></span></a></span></span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a>ADC<span style="font-family:'宋体';"><span>接口</span></span></a></span></span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a><span style="font-family:'宋体';"><span>键盘接口</span></span></a></span></span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a>GPIO</a></span></span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a>LDO</a></span></span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a><span style="font-family:'宋体';"><span>背光控制接口</span></span></a></span></span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span><span style="font-size:10.5pt;"><a><span style="font-family:'宋体';"><span>音频接口</span></span></a></span></span></p>



<p><span style="font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span><span style="font-size:10.5pt;"><a>SIM<span style="font-family:'宋体';"><span>卡接口</span></span></a></span></span></p>





<p><span style="font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span><span style="font-size:10.5pt;"><a><span style="font-family:'宋体';"><span>网络指示灯</span></span></a></span></span></p>

<p><span><span style="font-size:10.5pt;"><a><span style="font-family:'宋体';"><span><br /></span></span></a></span></span></p>



<h5><b><span style="font-size:16pt;font-family:Verdana, sans-serif;">3.1<span style="font-size:7pt;font-family:'Times New Roman';">      </span></span><span style="font-size:16pt;font-family:'宋体';">管脚排列图（</span><span style="font-size:16pt;font-family:Verdana, sans-serif;">top view</span><span style="font-size:16pt;font-family:'宋体';">）</span></b></h5>

<h4><img src="http://oldask.openluat.com/image/show/attachments-2018-09-FY2XsNdy5b8f769847326.png" class="img-responsive" alt="attachments-2018-09-FY2XsNdy5b8f769847326.png" /></h4>

<p style="text-align:left;"><span style="font-size:22pt;font-family:Verdana, sans-serif;">TOP VIEW</span></p>



<p><br /></p>



<p><b><span style="font-family:'宋体';">表格</span><span>3</span><span style="font-family:'宋体';">：</span><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">管脚分配</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-3rNqmExh5b8f7ac3eec95.jpg" class="img-responsive" style="width:681.5px;" alt="attachments-2018-09-3rNqmExh5b8f7ac3eec95.jpg" /></p>

<h2><img src="http://oldask.openluat.com/image/show/attachments-2018-09-CMEsaypJ5b90d0a936cae.jpg" class="img-responsive" alt="attachments-2018-09-CMEsaypJ5b90d0a936cae.jpg" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-8kt6xul65b90d0b0905a2.jpg" class="img-responsive" alt="attachments-2018-09-8kt6xul65b90d0b0905a2.jpg" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Ac2iSuKT5b90d0b6a9e48.jpg" class="img-responsive" alt="attachments-2018-09-Ac2iSuKT5b90d0b6a9e48.jpg" /><span style="font-size:14pt;font-family:'黑体';"><b><br /></b></span></h2>

<h2><span style="font-size:14pt;font-family:'黑体';"><b>3.2 工作模式</b></span></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">下表简要的叙述了接下来几章提到的各种工作模式。</span></p>



<p><span style="font-size:11pt;font-family:'宋体';">表格</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">5</span><span style="font-size:11pt;font-family:'宋体';">：工作模式</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-bw0Rw2Rx5b8f7d191d8f6.jpg" class="img-responsive" style="width:683px;" alt="attachments-2018-09-bw0Rw2Rx5b8f7d191d8f6.jpg" /><span style="font-size:11pt;font-family:'宋体';"><br /></span></p>

<h2><span style="font-size:14pt;font-family:'黑体';"><b>3.3 电源供电</b></span></h2>

<h3><b><span style="font-size:12pt;">3.3.1<span style="font-size:7pt;font-family:'Times New Roman';">       
</span></span><span style="font-size:12pt;font-family:'宋体';">模块电源工作特性</span></b></h3>

<p><span style="font-size:10.5pt;font-family:'宋体';">在</span><span style="font-size:10.5pt;">GSM/GPRS</span><span style="font-size:10.5pt;font-family:'宋体';">模块应用设计中，电源设计是很重要的一部分。由于</span><span style="font-size:10.5pt;">GSM</span><span style="font-size:10.5pt;font-family:'宋体';">发射时每隔</span><span style="font-size:10.5pt;">4.615ms</span><span style="font-size:10.5pt;font-family:'宋体';">会有一个持续</span><span style="font-size:10.5pt;">577us</span><span style="font-size:10.5pt;font-family:'宋体';">（即</span><span style="font-size:10.5pt;">1/8</span><span style="font-size:10.5pt;font-family:'宋体';">的</span><span style="font-size:10.5pt;">TDMA</span><span style="font-size:10.5pt;font-family:'宋体';">周期（</span><span style="font-size:10.5pt;">4.615ms</span><span style="font-size:10.5pt;font-family:'宋体';">））的突发脉冲。在突发脉冲阶段内，电源必须能够提供高的峰值电流，保证电压不会跌落到模块最低工作电压。</span></p>



<p><span style="font-size:10.5pt;font-family:'宋体';">对于</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">模块，在最大发射功率等级下模块的峰值电流会达到</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">1.6A</span><span style="font-size:10.5pt;font-family:'宋体';">，这会引起</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">端电压的跌落。为确保模块能够稳定正常工作，建议模块</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">端的最大跌落电压不应超过</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">400mV</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><b><span style="font-family:'黑体';"><br /></span></b></p>

<p><b><span style="font-family:'黑体';">图表</span><span style="font-family:Calibri, sans-serif;">2</span><span style="font-family:'黑体';">：模块发射时的电压电流波形图</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-BDovaQy15b8f8619e8b4f.jpg" class="img-responsive" style="width:719.5px;" alt="attachments-2018-09-BDovaQy15b8f8619e8b4f.jpg" /><b><span style="font-family:'黑体';"><br /></span></b></p>

<p><b><span style="font-size:12pt;">3.3.2<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-size:12pt;font-family:'宋体';">减小电压跌落</span></b><br /></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">模块电源</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">电压输入范围为</span><span style="font-size:10.5pt;">3.4V~4.2V</span><span style="font-size:10.5pt;font-family:'宋体';">，但是模块在射频发射时通常会在</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">电源上产生电源电压跌落现象，这是由于电源及走线路径上的阻抗导致，一般难以避免。因此在设计上要特别注意模块的电源设计，保证</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">电压不会跌落到</span><span style="font-size:10.5pt;">3.0V</span><span style="font-size:10.5pt;font-family:'宋体';">以下，当电压跌落在</span><span style="font-size:10.5pt;">3.0V</span><span style="font-size:10.5pt;font-family:'宋体';">以下时会有可能导致掉电关机或重启。在</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">输入端，建议并联一个低</span><span style="font-size:10.5pt;">ESR(ESR=0.7</span><span style="font-size:10.5pt;">Ω</span><span style="font-size:10.5pt;">)</span><span style="font-size:10.5pt;font-family:'宋体';">的</span><span style="font-size:10.5pt;">100uF</span><span style="font-size:10.5pt;font-family:'宋体';">的钽电容，以及</span><span style="font-size:10.5pt;">100nF</span><span style="font-size:10.5pt;font-family:'宋体';">、</span><span style="font-size:10.5pt;">33pF</span><span style="font-size:10.5pt;font-family:'宋体';">、</span><span style="font-size:10.5pt;">10pF</span><span style="font-size:10.5pt;font-family:'宋体';">滤波电容（</span><span style="font-size:10.5pt;">0603</span><span style="font-size:10.5pt;font-family:'宋体';">封装），</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">输入端参考电路如图</span><span style="font-size:10.5pt;">4</span><span style="font-size:10.5pt;font-family:'宋体';">所示。并且建议</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">的</span><span style="font-size:10.5pt;">PCB</span><span style="font-size:10.5pt;font-family:'宋体';">走线尽量短且足够宽，减小</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">走线的等效阻抗，确保在最大发射功率时大电流下不会产生太大的电压跌落，一般电压跌落控制在</span><span style="font-size:10.5pt;">400mV</span><span style="font-size:10.5pt;font-family:'宋体';">以内。建议</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">走线宽度不少于</span><span style="font-size:10.5pt;">2mm</span><span style="font-size:10.5pt;font-family:'宋体';">，并且走线越长，线宽越宽。</span></p>



<p><b><span style="font-size:10.5pt;font-family:'宋体';">注意：模块的硬件关机电压为</span></b><b><span style="font-size:10.5pt;">3.0V</span></b></p>

<p><b><span style="font-size:10.5pt;"><br /></span></b></p>

<p style="text-align:left;"><b><span style="font-family:'黑体';">图表</span><span style="font-family:Calibri, sans-serif;">3</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">VBAT</span><span style="font-family:'黑体';">输入参考电路</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-6tMBdpNE5b8f7e2404ad7.png" class="img-responsive" alt="attachments-2018-09-6tMBdpNE5b8f7e2404ad7.png" /></p>



<p><b><br /></b></p>

<h3><b><span style="font-size:12pt;">3.3.3<span style="font-size:7pt;font-family:'Times New Roman';">       
</span></span><span style="font-size:12pt;font-family:'宋体';">电</span><span style="font-size:12pt;font-family:'宋体';">源</span><span style="font-size:12pt;font-family:'宋体';">参考线路</span></b></h3>

<p><span style="font-size:10.5pt;font-family:'宋体';">电源设计对模块的供电至关重要，必须选择能够提供至少</span><span style="font-size:10.5pt;">2A</span><span style="font-size:10.5pt;font-family:'宋体';">电流能力的电源。若输入电压跟模块的供电电压的压差不是很大，建议选择</span><span style="font-size:10.5pt;">LDO</span><span style="font-size:10.5pt;font-family:'宋体';">作为供电电源。若输入输出之间存在比较大的压差，则使用开关电源转换器。</span></p>

<p><b><span>LDO</span></b><b><span style="font-family:'宋体';">供电：</span></b></p>





<p><span style="font-size:10.5pt;font-family:'宋体';">下图是</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">+5V</span><span style="font-size:10.5pt;font-family:'宋体';">供电的参考设计，采用了</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">Micrel</span><span style="font-size:10.5pt;font-family:'宋体';">公司的</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">LDO</span><span style="font-size:10.5pt;font-family:'宋体';">，型号为</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">MIC29302WU</span><span style="font-size:10.5pt;font-family:'宋体';">。它的输出电压是</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">4.16V</span><span style="font-size:10.5pt;font-family:'宋体';">，负载电流峰值到</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">3A</span><span style="font-size:10.5pt;font-family:'宋体';">。为确保输出电源的稳定，建议在输出端预留一个稳压管，并且靠近模块</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">管脚摆放。建议选择反向击穿电压为</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">5.1V</span><span style="font-size:10.5pt;font-family:'宋体';">，耗散功率为</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">1W</span><span style="font-size:10.5pt;font-family:'宋体';">以上的稳压管。</span></p>

<p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">4</span><span style="font-size:11pt;font-family:'宋体';">：供电输入参考设计</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-fzGd7hPq5b8f8761c673b.png" class="img-responsive" style="width:666px;" alt="attachments-2018-09-fzGd7hPq5b8f8761c673b.png" /></p>

<p><b><span style="font-size:11pt;font-family:'宋体';"><br /></span></b></p>

<p><b><span>DCDC</span></b><b><span style="font-family:'宋体';">供电：</span></b></p>



<p><span style="font-size:10.5pt;font-family:'宋体';">下图是</span><span style="font-size:10.5pt;">DCDC</span><span style="font-size:10.5pt;font-family:'宋体';">开关电源的参考设计，采用的是杰华特公司的</span><span style="font-size:10.5pt;">JW5033H </span><span style="font-size:10.5pt;font-family:'宋体';">开关电源芯片，它的最大输出电流在</span><span style="font-size:10.5pt;">2A</span><span style="font-size:10.5pt;font-family:'宋体';">，同时输入电压范围</span><span style="font-size:10.5pt;">4.7V~20V</span><span style="font-size:10.5pt;font-family:'宋体';">。注意</span><span style="font-size:10.5pt;">C25</span><span style="font-size:10.5pt;font-family:'宋体';">的选型要根据输入电压来选择耐压值。</span></p>



<p style="text-align:left;"><b><span style="font-family:'黑体';">图表</span><span style="font-family:Calibri, sans-serif;"> 6</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">DCDC</span><span style="font-family:'黑体';">供电输入参考设计</span></b></p>

<p style="text-align:left;"><img src="http://oldask.openluat.com/image/show/attachments-2018-09-3UM1w1HN5b8f7f42ce4d2.png" class="img-responsive" style="width:640.5px;" alt="attachments-2018-09-3UM1w1HN5b8f7f42ce4d2.png" /></p>

<h2><span style="font-size:14pt;font-family:'黑体';"><b>3.4 开关机</b></span></h2>

<h3><b><span style="font-size:12pt;">3.4.1 </span><span style="font-size:12pt;font-family:'宋体';">开机</span></b></h3>

<p><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">模块可以通过</span><span style="font-size:10.5pt;">PWRKEY</span><span style="font-size:10.5pt;font-family:'宋体';">管脚开机。关机状态下长按开机键</span><span style="font-size:10.5pt;">2s</span><span style="font-size:10.5pt;font-family:'宋体';">以上，模块会进入开机流程，软件会检测</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">管脚电压若</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">管脚电压大于软件设置的开机电压（默认</span><span style="font-size:10.5pt;">3.55V</span><span style="font-size:10.5pt;font-family:'宋体';">），会继续开机动作直至系统开机完成；否则，会停止执行开机动作，系统会关机。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><b><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">3.4.1.1</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">     </span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">PWRKEY</span><span style="font-size:10.5pt;font-family:'黑体';">管脚开机</span></b></p>



<p><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">上电后，</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">PWRKEY</span><span style="font-size:10.5pt;font-family:'宋体';">管脚可以启动模块，把</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">PWRKEY</span><span style="font-size:10.5pt;font-family:'宋体';">管脚拉低持续</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">1s</span><span style="font-size:10.5pt;font-family:'宋体';">之后开机，开机成功后</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">PWRKEY</span><span style="font-size:10.5pt;font-family:'宋体';">管脚可以释放。可以通过检测</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">VDDIO</span><span style="font-size:10.5pt;font-family:'宋体';">管脚的电平来判别模块是否开机。推荐使用开集驱动电路来控制</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">PWRKEY</span><span style="font-size:10.5pt;font-family:'宋体';">管脚。下图为参考电路：</span></p>

<p><span style="font-family:'黑体';">图表</span><span style="font-family:Calibri, sans-serif;">5</span><span style="font-family:'黑体';">：开集驱动参考开机电路</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-ByIiJd1x5b8f88a9445d4.png" class="img-responsive" style="width:515px;" alt="attachments-2018-09-ByIiJd1x5b8f88a9445d4.png" /><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">另一种控制</span><span style="font-size:10.5pt;">PWRKEY</span><span style="font-size:10.5pt;font-family:'宋体';">管脚的方法是直接使用一个按钮开关。按钮附近需放置一个</span><span style="font-size:10.5pt;"> TVS</span><span style="font-size:10.5pt;font-family:'宋体';">管用以</span><span style="font-size:10.5pt;">ESD</span><span style="font-size:10.5pt;font-family:'宋体';">保护。下图为参考电路：</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">6</span><span style="font-size:11pt;font-family:'宋体';">：按键开机参考电路</span></b><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-z2bjteHS5b8f8985697a7.jpg" class="img-responsive" style="width:398px;" alt="attachments-2018-09-z2bjteHS5b8f8985697a7.jpg" /></p>

<p><span style="font-size:10.5pt;font-family:'黑体';"><span style="font-weight:700;font-size:10.5pt;font-family:Calibri, sans-serif;">3.4.1.2</span><span style="font-weight:700;font-size:10.5pt;font-family:Calibri, sans-serif;">    </span>上电</span><span style="font-size:10.5pt;font-family:'黑体';">开机</span></p>

<p><span>        </span><span style="font-family:'宋体';">将</span><span style="font-size:10.5pt;">PWRKEY</span><span style="font-size:10.5pt;font-family:'宋体';">管脚直接接地可以实现上电自动开机功能。需要注意，在上电开机模式下，将无法关机，只要</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">管脚的电压大于开机电压即使软件调用关机接口，模块仍然会再开机起来。另外，在此模式下，要想成功开机起来</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">管脚电压任然要大于软件设定的开机电压值，如果不满足，模块会关闭，就会出现反复开关机的情况。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<h3><b><span style="font-size:12pt;">3.4.2 </span><span style="font-size:12pt;font-family:'宋体';">关机</span></b></h3>

<p><span style="font-size:10.5pt;font-family:'宋体';">以下的方式可以关闭模块：</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">正常关机：调用</span><span style="font-size:10.5pt;">rtos.pweroff()</span><span style="font-size:10.5pt;font-family:'宋体';">软关机。</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">低压自动关机：模块检测到低压时关机。</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">紧急关机：通过</span><span style="font-size:10.5pt;">RESET</span><span style="font-size:10.5pt;font-family:'宋体';">管脚关机。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><b><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">3.4.2.1</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">     </span><span style="font-size:10.5pt;font-family:'黑体';">正常关机</span></b></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">在</span><span style="font-size:10.5pt;">lua</span><span style="font-size:10.5pt;font-family:'宋体';">正在运行时可以通过调用</span><span style="font-size:10.5pt;">rtos.pweroff()</span><span style="font-size:10.5pt;font-family:'宋体';">进行软关机。</span></p>





<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">6</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">lua</span><span style="font-family:'黑体';">关机接口</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-4aVgq2aQ5b8f8a636e41d.jpg" class="img-responsive" style="width:663px;" alt="attachments-2018-09-4aVgq2aQ5b8f8a636e41d.jpg" /></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">关机过程中，模块需要注销</span><span style="font-size:10.5pt;">GSM</span><span style="font-size:10.5pt;font-family:'宋体';">网络，注销时间与当前网络状态有关，经测定用时约</span><span style="font-size:10.5pt;">2s~12s</span><span style="font-size:10.5pt;font-family:'宋体';">，因此建议延长</span><span style="font-size:10.5pt;">12s</span><span style="font-size:10.5pt;font-family:'宋体';">后再进行断电或重启，以确保在完全断电之前让软件保存好重要数据。</span></p>



<p><span style="font-size:10.5pt;font-family:'宋体';">可以通过</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">VDDIO</span><span style="font-size:10.5pt;font-family:'宋体';">管脚电压来判断是否关机完成，如果</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">VDDIO</span><span style="font-size:10.5pt;font-family:'宋体';">的管脚电压为接近</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">0V</span><span style="font-size:10.5pt;font-family:'宋体';">则说明关机完成</span><span style="font-family:'宋体';">。</span></p>

<p><span style="font-family:'宋体';"><br /></span></p>

<p><span style="font-size:10.5pt;font-family:'黑体';"><b>3.4.2.2 低电压自动关机</b></span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">模块在运行状态时当</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">管脚电压低于软件设定的关机电压时（默认设置</span><span style="font-size:10.5pt;">3.4V</span><span style="font-size:10.5pt;font-family:'宋体';">），软件会执行关机动作关闭模块，以防低电压状态下运行出现各种异常。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">注意：对于</span><span style="font-size:10.5pt;">PWRKEY</span><span style="font-size:10.5pt;font-family:'宋体';">接地的上电开机模式，在</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">电压低于关机电压时，模块仍然会执行关机动作，但是关机后会因为硬件上电开机而会再次被开机起来，由于此时</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">电压在开机电压以下，软件又会执行关闭动作，因而会出现反复开关机的现象，直到</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">电压低于硬件开机电压</span><span style="font-size:10.5pt;">3.0V</span><span style="font-size:10.5pt;font-family:'宋体';">，硬件不再开机起来为止。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><b><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">3.4.2.3     RESET</span><span style="font-size:10.5pt;font-family:'黑体';">紧急关机</span></b></p>

<p><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">模块第</span><span style="font-size:10.5pt;">60</span><span style="font-size:10.5pt;font-family:'宋体';">脚为</span><span style="font-size:10.5pt;">reset</span><span style="font-size:10.5pt;font-family:'宋体';">管脚，其功能是硬件关机。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">可以通过拉低</span><span style="font-size:10.5pt;">RESET</span><span style="font-size:10.5pt;font-family:'宋体';">管脚</span><span style="font-size:10.5pt;">200ms</span><span style="font-size:10.5pt;font-family:'宋体';">左右来关机，之后释放。推荐使用</span><span style="font-size:10.5pt;">OC</span><span style="font-size:10.5pt;font-family:'宋体';">驱动电路来控制</span><span style="font-size:10.5pt;">RESET</span><span style="font-size:10.5pt;font-family:'宋体';">管脚。下图为参考电路：</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">注意：三级管集电极和发射级不能串联大于</span><span style="font-size:10.5pt;">1</span><span style="font-size:10.5pt;font-family:'宋体';">欧姆的电阻。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">7</span><span style="font-size:11pt;font-family:'宋体';">：开集驱动</span><span style="font-size:10.5pt;font-family:'宋体';">参考紧急关机电路</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-eu7NSeEk5b8fa09a40926.jpg" class="img-responsive" style="width:567px;" alt="attachments-2018-09-eu7NSeEk5b8fa09a40926.jpg" /><b><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></b></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">另一种控制</span><span style="font-size:10.5pt;">RESET</span><span style="font-size:10.5pt;font-family:'宋体';">管脚紧急关机的方法是直接使用一个按钮开关。按钮附近需放置一个</span><span style="font-size:10.5pt;">TVS</span><span style="font-size:10.5pt;font-family:'宋体';">管用以</span><span style="font-size:10.5pt;">ESD</span><span style="font-size:10.5pt;font-family:'宋体';">保护。下图为参考电路：</span></p>

<p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">8</span><span style="font-size:11pt;font-family:'宋体';">：按键紧急关机参考电路</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-LxAPg5RY5b8fa54765e56.jpg" class="img-responsive" style="width:389px;" alt="attachments-2018-09-LxAPg5RY5b8fa54765e56.jpg" /></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">注意：上电开机配置情况下，</span><span style="font-size:10.5pt;">RESET</span><span style="font-size:10.5pt;font-family:'宋体';">管脚拉低后，模块会关机后又会上电开机起来，</span><span style="font-size:10.5pt;">RESET</span><span style="font-size:10.5pt;font-family:'宋体';">管脚间接起到重启的作用。</span></p>

<h2><b><span style="font-size:14pt;font-family:Calibri, sans-serif;"><br /></span></b></h2>

<h2><b><span style="font-size:14pt;font-family:Calibri, sans-serif;">3.5</span><span style="font-size:14pt;font-family:'黑体';">省电技术</span></b></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">根据系统需求，模块可以进入两种低功耗模式。睡眠模式和飞行模式</span></p>

<h3><b><span style="font-size:12pt;">3.5.1</span><span style="font-size:12pt;font-family:'宋体';">飞行模式</span></b></h3>

<p><span style="font-size:10.5pt;font-family:'宋体';">飞行模式可以将模块功能减少到最小程度，此模式下射频部分和</span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡部分的功能将会关闭。而串口依然有效。此模式可以通过调用</span><span style="font-size:10.5pt;">net.switchFly()</span><span style="font-size:10.5pt;font-family:'宋体';">进入或者退出飞行模式。</span></p>



<p><span style="font-size:11pt;font-family:'宋体';">表格</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">7</span><span style="font-size:11pt;font-family:'宋体';">：</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">lua</span><span style="font-size:11pt;font-family:'宋体';">飞行模式接口</span><b><span style="font-size:11pt;font-family:'宋体';"><br /></span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-mFzMpo2t5b8fa229d4ea1.jpg" class="img-responsive" style="width:654px;" alt="attachments-2018-09-mFzMpo2t5b8fa229d4ea1.jpg" /><b><span style="font-size:11pt;font-family:'宋体';"><br /></span></b></p>

<h3><b><span style="font-size:12pt;">3.5.2</span><span style="font-size:12pt;font-family:'宋体';">睡眠模式</span></b></h3>

<p><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">支持睡眠模式，默认状态下系统是会根据系统的繁忙情况自动的进入或退出睡眠模式，一般情况下不需要写代码去控制进入或者退出休眠状态。但是对于禁止进入休眠的应用需求，可以调用</span><span style="font-size:10.5pt;">pm.wake()</span><span style="font-size:10.5pt;font-family:'宋体';">让系统一直不进休眠，调用此接口后如果需要进入休眠，可以调用</span><span style="font-size:10.5pt;">pm.sleep().</span></p>



<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">8</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">lua</span><span style="font-family:'黑体';">唤醒模块接口</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-zw0nm53W5b8fa6f151da7.jpg" class="img-responsive" style="width:657.5px;" alt="attachments-2018-09-zw0nm53W5b8fa6f151da7.jpg" /></p>

<h3><b><span style="font-size:12pt;">3.5.3</span><span style="font-size:12pt;font-family:'宋体';">睡眠唤醒</span></b></h3>

<p><span style="font-size:10.5pt;font-family:'宋体';">当模块处于睡眠模式，以下方法可以唤醒模块。</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">调用</span><span style="font-size:10.5pt;">pm.sleep()</span><span style="font-size:10.5pt;font-family:'宋体';">接口</span></p>





<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">9</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">lua</span><span style="font-family:'黑体';">睡眠接口</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-QeADDlnR5b8fa746669f4.jpg" class="img-responsive" style="width:653px;" alt="attachments-2018-09-QeADDlnR5b8fa746669f4.jpg" /></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;">GPIO</span><span style="font-size:10.5pt;font-family:'宋体';">中断。</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">接收来电或者</span><span style="font-size:10.5pt;">GPRS</span><span style="font-size:10.5pt;font-family:'宋体';">数据以唤醒模块。</span></p>



<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">接收短信以唤醒模块。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<h2><b><span style="font-size:14pt;font-family:Calibri, sans-serif;">3.5.4 </span><span style="font-size:14pt;font-family:'黑体';">模式切换汇总</span></b></h2>









<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">10</span><span style="font-family:'黑体';">：模式切换汇总</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Knl3Z0c15b8fa79b54d7d.jpg" class="img-responsive" style="width:681px;" alt="attachments-2018-09-Knl3Z0c15b8fa79b54d7d.jpg" /></p>

<p><b><span style="font-size:14pt;font-family:Arial, sans-serif;"><span style="font-weight:normal;font-size:7pt;font-family:'Times New Roman';">   </span></span></b><br /></p>

<p><b> </b></p>



<h2><b><span style="font-size:14pt;">3.6.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">串口</span></b></h2>

<p><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">模块支持</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">3</span><span style="font-size:10.5pt;font-family:'宋体';">路</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">TTL2.8V</span><span style="font-size:10.5pt;font-family:'宋体';">串口：</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;"> <span>UART1</span></span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;"> <span>UART2</span></span><span style="font-size:10.5pt;font-family:'宋体';">和下载调试串口</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">HOST_UART</span><span style="font-size:10.5pt;font-family:'宋体';">。模块支持范围</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">1200bps</span><span style="font-size:10.5pt;font-family:'宋体';">到</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">921600bps</span><span style="font-size:10.5pt;font-family:'宋体';">。其中</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">UART1</span><span style="font-size:10.5pt;font-family:'宋体';">和</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">UART2</span><span style="font-size:10.5pt;font-family:'宋体';">不分主次功能相同，都支持硬件流控</span><span style="font-size:10.5pt;font-family:'宋体';color:#FF0000;">（软件版本暂不支持硬件流控功能）</span><span style="font-size:10.5pt;font-family:'宋体';">。下载调试串口</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">HOST_UART</span><span style="font-size:10.5pt;font-family:'宋体';">只能用于下载和调试无法用于通信，固定波特率</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">921600bps</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><span style="font-size:10.5pt;"> </span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">串口逻辑电平如下表所示：</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-b2Dh60Rr5b90c9b0d4c12.png" class="img-responsive" style="width:681.5px;" alt="attachments-2018-09-b2Dh60Rr5b90c9b0d4c12.png" /></p>

<p><b><span style="font-size:11pt;font-family:'宋体';"><br /></span></b></p>

<h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.6.1.<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:12pt;font-family:'宋体';">串口连接方式</span></b></h3>

<p><b><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">3.6.1.1</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">     </span><span style="font-size:10.5pt;font-family:'黑体';">三线串口连接方式</span></b></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">三线串口是最常用的连接方式，与外设的连接只需要到</span><span style="font-size:10.5pt;">TX,RX,GND</span><span style="font-size:10.5pt;font-family:'宋体';">三根线，</span><span style="font-size:10.5pt;">UART1/UART2/HOST</span><span style="font-size:10.5pt;font-family:'宋体';">都可以用此方式连接，连接方式如下：</span></p>

<p><b><span style="font-size:11pt;font-family:'宋体';"><br /></span></b></p>

<p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">9</span><span style="font-size:11pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:'宋体';">串口三线制连接方式示意图</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-NI2bNhBI5b90d43194397.jpg" class="img-responsive" style="width:425px;" alt="attachments-2018-09-NI2bNhBI5b90d43194397.jpg" /><b><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></b><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>



<p><b><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">3.6.1.2</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">     </span><span style="font-size:10.5pt;font-family:'黑体';">带硬件流控功能的串口连接方式</span><span style="font-size:10.5pt;font-family:'黑体';color:#FF0000;">（</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;color:#FF0000;">lua</span><span style="font-size:10.5pt;font-family:'黑体';color:#FF0000;">暂不支持）</span></b></p>





<p><span style="font-size:10.5pt;font-family:'宋体';">对于串口传输比较大的数据时，建议使用硬件流控功能以确保可靠传输。使能流控功能时连接方式如下：</span></p>

<p><span style="font-size:11pt;font-family:'宋体';"><br /></span></p>

<p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">10</span><span style="font-size:11pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:'宋体';">全功能串口连接方式示意图</span></b><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-IHgsGJXm5b90d36e0b628.jpg" class="img-responsive" style="width:559.5px;" alt="attachments-2018-09-IHgsGJXm5b90d36e0b628.jpg" /></p>

<p><b><span style="font-size:10.5pt;font-family:Calibri, sans-serif;"><br /></span></b></p>

<p><b><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">3.6.1.3</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">     3.3V</span><span style="font-size:10.5pt;font-family:'黑体';">串口连接方式</span></b></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">对于</span><span style="font-size:10.5pt;">3.3V</span><span style="font-size:10.5pt;font-family:'宋体';">电压系统情况下的串口电平匹配电路参考如下，强烈建议在</span><span style="font-size:10.5pt;">RXD</span><span style="font-size:10.5pt;font-family:'宋体';">等模块输入的端口上使用分压电阻的方式，将电压分压到</span><span style="font-size:10.5pt;">2.8V</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>



<p><span style="font-size:10.5pt;font-family:'宋体';">如果是</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">3V</span><span style="font-size:10.5pt;font-family:'宋体';">系统，根据分压原理建议将</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">5.6K</span><span style="font-size:10.5pt;font-family:'宋体';">电阻改为</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">10K</span><span style="font-size:10.5pt;font-family:'宋体';">电阻。客户不允许分压方式下，也建议必须串接</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">1K</span><span style="font-size:10.5pt;font-family:'宋体';">电阻</span><span style="font-size:11pt;font-family:'宋体';">。</span></p>

<p style="text-align:center;"><b><span style="font-family:'宋体';">图表</span><span>11</span><span style="font-family:'宋体';">：</span><span>3.3V</span><span style="font-family:'宋体';">电平转换电路</span></b></p>



<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-7Cf5bcGg5b90d550834d6.jpg" class="img-responsive" style="width:515px;" alt="attachments-2018-09-7Cf5bcGg5b90d550834d6.jpg" /></p>

<p><b><span style="font-size:10.5pt;font-family:Calibri, sans-serif;"><br /></span></b></p>

<p><b><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">3.6.1.4</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">     5V</span><span style="font-size:10.5pt;font-family:'黑体';">串口连接方式</span></b></p>

<p><span>        </span><span style="font-size:10.5pt;">5V</span><span style="font-size:10.5pt;font-family:'宋体';">系统的电平匹配，模块和外设之间的电平匹配可以参考如下的连接方式，如下的虚线部分可以参考上面的实线电路（虚线部分模块发送参考模块</span><span style="font-size:10.5pt;">TXD</span><span style="font-size:10.5pt;font-family:'宋体';">的电路设计，虚线部分模块接收参考模块</span><span style="font-size:10.5pt;">RXD</span><span style="font-size:10.5pt;font-family:'宋体';">的电路设计）。</span></p>

<p><span style="font-size:10.5pt;">VCC_MCU</span><span style="font-size:10.5pt;font-family:'宋体';">是客户端的</span><span style="font-size:10.5pt;">I/O</span><span style="font-size:10.5pt;font-family:'宋体';">电平电压。</span><span style="font-size:10.5pt;">VDDIO</span><span style="font-size:10.5pt;font-family:'宋体';">是模块输出的</span><span style="font-size:10.5pt;">I/O</span><span style="font-size:10.5pt;font-family:'宋体';">电平电压。</span></p>

<p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">12</span><span style="font-size:11pt;font-family:'宋体';">：</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">5V</span><span style="font-size:11pt;font-family:'宋体';">电平转换电路</span></b><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-AouVWPrz5b90d58ad7ad2.jpg" class="img-responsive" style="width:494px;" alt="attachments-2018-09-AouVWPrz5b90d58ad7ad2.jpg" /><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><b><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">3.6.1.5</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">     </span><span style="font-size:10.5pt;font-family:'黑体';">模块串口与</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">RS232</span><span style="font-size:10.5pt;font-family:'黑体';">串口连接方式</span></b></p>



<p><span style="font-size:10.5pt;font-family:'宋体';">当模块和</span><span style="font-size:10.5pt;">PC</span><span style="font-size:10.5pt;font-family:'宋体';">机进行通信时，需要在他们之间加</span><span style="font-size:10.5pt;">RS232</span><span style="font-size:10.5pt;font-family:'宋体';">电平转换电路。因为模块的串口配置都不是</span><span style="font-size:10.5pt;">RS232</span><span style="font-size:10.5pt;font-family:'宋体';">电平，仅支持</span><span style="font-size:10.5pt;">CMOS</span><span style="font-size:10.5pt;font-family:'宋体';">电平。下图为模块跟</span><span style="font-size:10.5pt;">PC</span><span style="font-size:10.5pt;font-family:'宋体';">通信时，串口电平转换电路。</span></p>

<p><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">13</span><span style="font-size:11pt;font-family:'宋体';">：</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">RS232</span><span style="font-size:11pt;font-family:'宋体';">电平转换电路</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-4jZqcN7Y5b90d6900aac9.jpg" class="img-responsive" style="width:593.5px;" alt="attachments-2018-09-4jZqcN7Y5b90d6900aac9.jpg" /></p>

<h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.6.2.<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:12pt;font-family:'宋体';">串口相关</span><span style="font-size:12pt;">API</span><span style="font-size:12pt;font-family:'宋体';">接口</span></b></h3>

<p><span>Lua</span><span style="font-family:'宋体';">中关于使用先要通过</span><span>uart.setup()</span><span style="font-family:'宋体';">来进行串口参数的配置和初始化，之后可以通过</span><span>uart.write()</span><span style="font-family:'宋体';">向串口输出数据或者通过</span><span>uart.read()</span><span style="font-family:'宋体';">来从串口读取数据。具体串口使用方法请参考</span><span>script_LuaTask/demo/uart</span></p>

<p><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">13</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">lua</span><span style="font-family:'黑体';">串口设置接口</span></p>



<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-GtoqJdhA5b90d77f03740.jpg" class="img-responsive" style="width:530.5px;" alt="attachments-2018-09-GtoqJdhA5b90d77f03740.jpg" /></p>

<h2><b><span style="font-size:14pt;"><br /></span></b></h2>

<h2><b><span style="font-size:14pt;">3.7.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:Calibri, sans-serif;">I2c</span><span style="font-size:14pt;font-family:'黑体';">接口</span></b></h2>

<p><span style="font-size:11pt;font-family:Calibri, sans-serif;">Air268F</span><span style="font-size:11pt;font-family:'宋体';">模块提供</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">3</span><span style="font-size:11pt;font-family:'宋体';">个</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">I2C</span><span style="font-size:11pt;font-family:'宋体';">接口，速率支持</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">FAST(400KHz)</span><span style="font-size:11pt;font-family:'宋体';">，</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">SLOW</span><span style="font-size:11pt;font-family:'宋体';">（</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">100KHz</span><span style="font-size:11pt;font-family:'宋体';">）。外设地址支持</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">0x00-0x7f</span><span style="font-size:11pt;font-family:'宋体';">。</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">3</span><span style="font-size:11pt;font-family:'宋体';">路</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">I2C</span><span style="font-size:11pt;font-family:'宋体';">分别是有由如下管脚复用：</span></p>





<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">16</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">I2C</span><span style="font-family:'黑体';">接口管脚定义</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-nJOI16lL5b90d8bb5ccd5.jpg" class="img-responsive" style="width:567px;" alt="attachments-2018-09-nJOI16lL5b90d8bb5ccd5.jpg" /></p>

<h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.7.1.<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span>  </span><span style="font-size:12pt;">IC</span><span style="font-size:12pt;font-family:'宋体';">接口连接方式</span></b></h3>



<p><span style="font-family:'宋体';">如下是</span><span>I2C</span><span style="font-family:'宋体';">接口的参考线路，注意模块</span><span>I2C</span><span style="font-family:'宋体';">只能做主设备，外部需要上拉，在配置</span><span>FAST</span><span style="font-family:'宋体';">速率时，上拉电阻阻值不要大于</span><span>4.7K</span><span style="font-family:'宋体';">。三路</span><span>ADC</span><span style="font-family:'宋体';">分别属于不同的电压域，使用时要注意打开对应的电压域。</span><span>I2C1</span><span style="font-family:'宋体';">和</span><span>I2C3</span><span style="font-family:'宋体';">要用</span><span>VDDIO</span><span style="font-family:'宋体';">上拉，而</span><span>I2C2</span><span style="font-family:'宋体';">需要用</span><span>V_CAM</span><span style="font-family:'宋体';">上拉。</span></p>

<p><span style="font-family:'宋体';"><br /></span></p>

<p style="text-align:left;"><b><span style="font-family:'宋体';">图表</span><span>14</span><span style="font-family:'宋体';">：</span><span>I2C</span><span style="font-family:'宋体';">连接参考线路</span></b></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-8H7XMsdy5b90d8e61cbfc.jpg" class="img-responsive" style="width:529px;" alt="attachments-2018-09-8H7XMsdy5b90d8e61cbfc.jpg" /><span><br /></span></p>

<p><span><br /></span></p>

<p style="text-align:left;"><b><span style="font-family:'宋体';">图表</span><span>15</span><span style="font-family:'宋体';">：</span><span>I2C 5V</span><span style="font-family:'宋体';">外设连接参考线路</span></b></p>

<p style="text-align:center;"><img src="http://oldask.openluat.com/image/show/attachments-2018-09-pRdUUOHk5b90d99856811.jpg" class="img-responsive" style="width:592px;" alt="attachments-2018-09-pRdUUOHk5b90d99856811.jpg" /></p>

<h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.7.2.<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span>  </span><span style="font-size:12pt;">I2C</span><span style="font-size:12pt;font-family:'宋体';">相关</span><span style="font-size:12pt;">API</span><span style="font-size:12pt;font-family:'宋体';">接口</span></b></h3>

<div>

<p><span style="font-family:'宋体';">使用</span><span>I2C</span><span style="font-family:'宋体';">接口的一般步骤是先用</span><span>i2c.setup()</span><span style="font-family:'宋体';">初始化</span><span>I2C</span><span style="font-family:'宋体';">接口</span><span>,</span><span style="font-family:'宋体';">之后就可以用</span><span>i2c. write
()</span><span style="font-family:'宋体';">向从设备写数据以及用</span><span>i2c.read()</span><span style="font-family:'宋体';">从从设备读取数据。具体使用方法请参考</span><span>script_LuaTask/demo/i2c</span></p><p><br /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-I4EAu9EJ5b90da7b42e86.jpg" class="img-responsive" style="width:606.5px;" alt="attachments-2018-09-I4EAu9EJ5b90da7b42e86.jpg" /></p><p><br /></p><h2><b><span style="font-size:14pt;">3.8.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:Calibri, sans-serif;">SPI</span><span style="font-size:14pt;font-family:'黑体';">接口</span></b></h2><p><span style="font-family:'宋体';">模块提供了</span><span>2</span><span style="font-family:'宋体';">路标准</span><span>SPI</span><span style="font-family:'宋体';">接口，</span><span>1</span><span style="font-family:'宋体';">路</span><span>LCD</span><span style="font-family:'宋体';">专用</span><span>SPI</span><span style="font-family:'宋体';">接口，一路</span><span>CAMERA</span><span style="font-family:'宋体';">专用</span><span>SPI</span><span style="font-family:'宋体';">接口</span><span>,</span><span style="font-family:'宋体';">便于连接</span><span>SPI</span><span style="font-family:'宋体';">接口的外设或者外置</span><span>SPI </span><span style="font-family:'宋体';">存储器。本章节只讨论标准</span><span>SPI</span><span style="font-family:'宋体';">接口，</span><span>LCD</span><span style="font-family:'宋体';">和</span><span>CAMERA</span><span style="font-family:'宋体';">接口将会在其他章节详细说明。其中标准</span><span>SPI</span><span style="font-family:'宋体';">接口支持</span><span>110K</span><span style="font-family:'宋体';">到</span><span>13M</span><span style="font-family:'宋体';">的时钟频率，支持半双工和全工双模式。</span><span>SPI</span><span style="font-family:'宋体';">接口有如下管脚复用：</span></p><p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">20</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">SPI</span><span style="font-family:'黑体';">接口管脚定义</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-n78T2dgC5b90e5d77588d.jpg" class="img-responsive" style="width:631px;" alt="attachments-2018-09-n78T2dgC5b90e5d77588d.jpg" /></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.8.1.<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span>  </span><span style="font-size:12pt;">SPI</span><span style="font-size:12pt;font-family:'宋体';">接口连接方式</span></b></h3><p><span>SPI</span><span style="font-family:'宋体';">连接方式如下：</span></p><p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">16</span><span style="font-size:11pt;font-family:'宋体';">：</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">I2C
5V</span><span style="font-size:11pt;font-family:'宋体';">外设连接参考线路</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-KktCYGbN5b90e65151218.jpg" class="img-responsive" style="width:581.5px;" alt="attachments-2018-09-KktCYGbN5b90e65151218.jpg" /><b><span style="font-size:11pt;font-family:'宋体';"><br /></span></b></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.8.2.<span style="font-size:7pt;font-family:'Times New Roman';">      </span></span><span style="font-size:12pt;">SPI</span><span style="font-size:12pt;font-family:'宋体';">相关</span><span style="font-size:12pt;">API</span><span style="font-size:12pt;font-family:'宋体';">接口</span></b></h3><p><span style="font-family:'宋体';">在使用</span><span>SPI</span><span style="font-family:'宋体';">接口时需要先调用</span><span>spi.setup()</span><span style="font-family:'宋体';">初始化接口，然后通过</span><span>spi.send()</span><span style="font-family:'宋体';">和</span><span>spi.recv()</span><span style="font-family:'宋体';">接口发送和接收数据，注意在发送和接收前需要用</span><span>GPIO</span><span style="font-family:'宋体';">的操作方式去拉低</span><span>spi_cs</span><span style="font-family:'宋体';">管脚，发送或接收完成后拉高</span><span>spi_cs</span><span style="font-family:'宋体';">管脚。注意在使用</span><span>SPI</span><span style="font-family:'宋体';">前要注意对应的电压域的</span><span>LDO</span><span style="font-family:'宋体';">是否有打开。具体使用方法请参考</span><span>script_LuaTask/demo/spi</span></p>

<p><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">21</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">lua SPI</span><span style="font-family:'黑体';">初始化接口</span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-88YZmrmK5b90e829aa0e0.jpg" class="img-responsive" style="width:627.5px;" alt="attachments-2018-09-88YZmrmK5b90e829aa0e0.jpg" /></p><h2><b><span style="font-size:14pt;">3.9.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">屏幕接口</span></b></h2><p><span style="font-family:'宋体';">模块提供了一组</span><span>SPI</span><span style="font-family:'宋体';">屏专用</span><span>SPI</span><span style="font-family:'宋体';">接口，用于驱动</span><span>SPI</span><span style="font-family:'宋体';">接口</span><span>LCD</span><span style="font-family:'宋体';">屏幕。通过调节</span><span>VLCD</span><span style="font-family:'宋体';">电压可以适配</span><span>1.8V/2.8V IO</span><span style="font-family:'宋体';">电压的屏幕。注意，模块仅支持</span><span>4</span><span style="font-family:'宋体';">线</span><span>1</span><span style="font-family:'宋体';">通道配置的</span><span>SPI</span><span style="font-family:'宋体';">屏幕。同时，配合背光</span><span>LED</span><span style="font-family:'宋体';">驱动管脚可以调节屏背光的亮灭以及亮度。同时也可以使用标准</span><span>SPI</span><span style="font-family:'宋体';">相关管脚驱动屏。屏幕专用</span><span>SPI</span><span style="font-family:'宋体';">管脚如下：</span></p>

<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">22</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">SPI</span><span style="font-family:'黑体';">接口管脚定义</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-d8tzxCwn5b90e8a23e94e.jpg" class="img-responsive" style="width:625px;" alt="attachments-2018-09-d8tzxCwn5b90e8a23e94e.jpg" /></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.9.1.<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-size:12pt;">LCD</span><span style="font-size:12pt;font-family:'宋体';">接口连接方式</span></b></h3>

<p><span>LCD</span><span style="font-family:'宋体';">接口的连接方式如下：</span></p><p><b><span style="font-family:'宋体';">图表</span><span>17</span><span style="font-family:'宋体';">：</span><span>LCD</span><span style="font-family:'宋体';">接口参考线路</span></b><span style="font-family:'宋体';"><br /></span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-eCo8xsTn5b90e98e065f4.jpg" class="img-responsive" style="width:669px;" alt="attachments-2018-09-eCo8xsTn5b90e98e065f4.jpg" /></p><p><span style="font-family:'宋体';">注意：模块最大只能支持</span><span>240*320</span><span style="font-family:'宋体';">分辨率的</span><span>LCD</span><span style="font-family:'宋体';">，建议选择选择在</span><span>240*240</span><span style="font-family:'宋体';">或以下分辨率的</span><span>LCD</span><span style="font-family:'宋体';">。</span></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.9.2.<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:12pt;font-family:'宋体';">用标准</span><span style="font-size:12pt;">SPI</span><span style="font-size:12pt;font-family:'宋体';">接口连接屏幕的连接方式</span></b></h3>

<p><span style="font-family:'宋体';">模块也提供了用标准</span><span>SPI</span><span style="font-family:'宋体';">接口连接屏幕的方案以供选择。</span></p><p style="text-align:left;"><b><span style="font-family:'宋体';">图表</span><span>18</span><span style="font-family:'宋体';">：标准</span><span>SPI</span><span style="font-family:'宋体';">接</span><span>LCD</span><span style="font-family:'宋体';">参考线路</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-hPT8NaJY5b90ea69c1013.jpg" class="img-responsive" style="width:601px;" alt="attachments-2018-09-hPT8NaJY5b90ea69c1013.jpg" /></p><p><span style="font-family:'宋体';">注意：如果要用</span><span>SPI</span><span style="font-family:'宋体';">接屏建议使用</span><span>SPI1</span><span style="font-family:'宋体';">通道，在脚本库中已经集成了相关的驱动直接调用就可以。另外</span><span>SPI</span><span style="font-family:'宋体';">接口只支持</span><span>2.8V LCD</span><span style="font-family:'宋体';">，不支持</span><span>1.8V</span><span style="font-family:'宋体';">。</span></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.9.3.<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-size:12pt;font-family:'宋体';">屏幕相关</span><span style="font-size:12pt;">API</span><span style="font-size:12pt;font-family:'宋体';">接口</span></b></h3>

<p><span style="font-family:'宋体';">在</span><span>script_LuaTask/demo/ui</span><span style="font-family:'宋体';">的</span><span>DEMO</span><span style="font-family:'宋体';">中已经集成了常用</span><span>LCD</span><span style="font-family:'宋体';">型号的驱动，在器件选型时注意选择列表中的</span><span>LCD</span><span style="font-family:'宋体';">驱动芯片方案，这样可以节省调试时间。已经集成的</span><span>LCD</span><span style="font-family:'宋体';">驱动型号如下：</span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-mMwGCuc25b90eb25b2591.jpg" class="img-responsive" style="width:341.5px;" alt="attachments-2018-09-mMwGCuc25b90eb25b2591.jpg" /></p><p><span style="font-family:'宋体';">其中背光的引脚需要调用</span><span>pmd.ldoset(1,pmd.LDO_LCD)</span><span style="font-family:'宋体';">来打开背光。</span></p><p><span style="font-family:'宋体';"><br /></span></p><h2><b><span style="font-size:14pt;">3.10<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">摄像头接口</span></b></h2><p><span style="font-family:'宋体';">模块内置一路摄像头接口用于驱动</span><span>SPI</span><span style="font-family:'宋体';">串行摄像头。最大支持</span><span>320*240</span><span style="font-family:'宋体';">像素，支持</span><span>1.8V</span><span style="font-family:'宋体';">，</span><span>3.3V</span><span style="font-family:'宋体';">摄像头。摄像头接口管脚定义如下：</span></p>

<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">23</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">SPI</span><span style="font-family:'黑体';">接口管脚定义</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-AMF2C7xV5b90ec47301a3.jpg" class="img-responsive" style="width:629px;" alt="attachments-2018-09-AMF2C7xV5b90ec47301a3.jpg" /></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.10.1.<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:12pt;font-family:'宋体';">摄像头接口的连接方式</span></b></h3>

<p><span style="font-family:'宋体';">如下是摄像头接口的参考设计，其中要连接一路</span><span>I2C</span><span style="font-family:'宋体';">接口，建议优先用</span><span>I2C3</span><span style="font-family:'宋体';">。</span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-2OGS3n4g5b90ec870ebd0.jpg" class="img-responsive" style="width:545px;" alt="attachments-2018-09-2OGS3n4g5b90ec870ebd0.jpg" /></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.10.2.<span style="font-size:7pt;font-family:'Times New Roman';">      </span></span><span style="font-size:12pt;font-family:'宋体';">摄像头相关</span><span style="font-size:12pt;">API</span><span style="font-size:12pt;font-family:'宋体';">接口说明</span></b></h3>

<p><span style="font-family:'宋体';">摄像头使用的一般步骤为：先用</span><span>disp.cameraopen(1)</span><span style="font-family:'宋体';">打开摄像头，然后打开预览可以调用</span><span>disp.camerapreview()</span><span style="font-family:'宋体';">，可以调用</span><span>disp.cameracapture()</span><span style="font-family:'宋体';">进行拍照，同时调用</span><span>disp.camerasavephoto()</span><span style="font-family:'宋体';">保存图片，但是要注意模块存储空间是否足够。<span style="color:#FF0000;">注意：摄像头接口需</span></span><span style="color:#FF0000;">V0028</span><span style="font-family:'宋体';color:#FF0000;">以及以上</span><span style="color:#FF0000;">core</span><span style="font-family:'宋体';color:#FF0000;">版本才能支持</span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-OjMkTMqi5b90edd4a3852.jpg" class="img-responsive" style="width:602px;" alt="attachments-2018-09-OjMkTMqi5b90edd4a3852.jpg" /></p><h2><b><span style="font-size:14pt;">3.11<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:Calibri, sans-serif;">PWM</span><span style="font-size:14pt;font-family:'黑体';">接口</span></b></h2><p><span>Air268F</span><span style="font-family:'宋体';">模块支持</span><span>2</span><span style="font-family:'宋体';">路</span><span>PWM</span><span style="font-family:'宋体';">输出：</span><span>PWT,LPG</span><span style="font-family:'宋体';">，分别由</span><span>UART2_RX</span><span style="font-family:'宋体';">和</span><span>UART2_TXD</span><span style="font-family:'宋体';">复用。其中</span><span>LPG</span><span style="font-family:'宋体';">为低速</span><span>PWM, </span><span style="font-family:'宋体';">用于低频率的应用如驱动</span><span>LED</span><span style="font-family:'宋体';">闪烁，只能设定固定的</span><span>7</span><span style="font-family:'宋体';">种周期（单位</span><span>ms</span><span style="font-family:'宋体';">）：</span><span>125,250,500,1000,1500,2000,2500,3000</span><span style="font-family:'宋体';">。以及</span><span>15</span><span style="font-family:'宋体';">种高电平时间。</span><span>PWT,</span><span style="font-family:'宋体';">频率范围（</span><span>80-65535HZ</span><span style="font-family:'宋体';">），以及可以设置各种占空比。</span></p><p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">28</span><span style="font-family:'黑体';">：串口管脚定义</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-59IuGy5Y5b90f125c5c0b.jpg" class="img-responsive" style="width:649px;" alt="attachments-2018-09-59IuGy5Y5b90f125c5c0b.jpg" /></p><p><span>PWM</span><span style="font-family:'宋体';">相关的</span><span>API</span><span style="font-family:'宋体';">接口：</span><span style="font-family:'宋体';">详细请参考</span><span>script_LuaTask/demo/PWM</span></p>

<p><b><span style="font-family:'黑体';"><br /></span></b></p><p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">29</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">lua PWM</span><span style="font-family:'黑体';">接口</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-10rwxMZJ5b90f1ae68085.jpg" class="img-responsive" style="width:590.5px;" alt="attachments-2018-09-10rwxMZJ5b90f1ae68085.jpg" /></p><p><br /></p><h2><b><span style="font-size:14pt;">3.12.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:Calibri, sans-serif;">ADC</span><span style="font-size:14pt;font-family:'黑体';">接口</span></b></h2><p><span style="font-family:'宋体';">模块内置两路</span><span>ADC</span><span style="font-family:'宋体';">，可以用来做电池电压检测，温湿度检测，</span><span>TDS</span><span style="font-family:'宋体';">检测等应用。</span><span>ADC</span><span style="font-family:'宋体';">精度为</span><span>10bit</span><span style="font-family:'宋体';">，测量输入范围为</span><span>0</span><span style="font-family:'宋体';">到</span><span>1.85V,</span><span style="font-family:'宋体';">测量误差范围为</span><span>+-20mV</span><span style="font-family:'宋体';">。若测量的电压输入范围大于</span><span>1.85V</span><span style="font-family:'宋体';">则需要进行分压后再输入</span><span>ADC</span><span style="font-family:'宋体';">。</span></p>

<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">31</span><span style="font-family:'黑体';">：串口管脚定义</span></b>
<br /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-MwDC87DT5b90f29b9208a.jpg" class="img-responsive" style="width:588.5px;" alt="attachments-2018-09-MwDC87DT5b90f29b9208a.jpg" /></p><p><span>ADC</span><span style="font-family:'宋体';">相关接口：详细请参考</span><span>script_LuaTask/demo/ADC</span></p>

<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">32</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">lua </span><span style="font-family:'黑体';">打开</span><span style="font-family:Calibri, sans-serif;">ADC</span><span style="font-family:'黑体';">接口</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Bl40ZYuM5b90f32e7acc1.jpg" class="img-responsive" style="width:597.5px;" alt="attachments-2018-09-Bl40ZYuM5b90f32e7acc1.jpg" /></p><h2><b><span style="font-size:14pt;">3.13.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">键盘接口</span></b></h2>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-1FC5uCYa5b90f3af2ce2e.jpg" class="img-responsive" style="width:654px;" alt="attachments-2018-09-1FC5uCYa5b90f3af2ce2e.jpg" /></p><p><span style="font-family:'宋体';"><b><br /></b></span></p><p><span style="font-family:'宋体';"><b>键盘参考设计：</b></span></p><p><b><span style="font-family:'宋体';">图表</span><span>20</span><span style="font-family:'宋体';">：键盘接口参考线路</span></b><span style="font-family:'宋体';"><b><br /></b></span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-nhzq3MNM5b90f3f4f0893.png" class="img-responsive" style="width:591px;" alt="attachments-2018-09-nhzq3MNM5b90f3f4f0893.png" /></p><p style="text-align:left;"><br /></p><p><span> </span><span style="font-family:'宋体';">注意：</span><span>1.</span><span style="font-family:'宋体';">键盘走线请尽量远离天线，以免对天线造成干扰。</span></p><p><span>          2. </span><span style="font-family:'宋体';">键盘走线串联</span><span>1K</span><span style="font-family:'宋体';">电阻以做</span><span>ESD</span><span style="font-family:'宋体';">防护。</span></p><h2><b><span style="font-size:14pt;">3.14<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">通用</span><span style="font-size:14pt;font-family:Calibri, sans-serif;">GPIO</span></b></h2><p><span style="font-family:'宋体';">模块多数管脚都可以复用为通用</span><span>GPIO</span><span style="font-family:'宋体';">管脚，多达</span><span>35</span><span style="font-family:'宋体';">个</span><span>GPIO</span><span style="font-family:'宋体';">口，所以</span><span>GPIO</span><span style="font-family:'宋体';">口均可配置为输入和输出，且都可以响应中断，作为输入时都可以配置为上拉或下拉。使用</span><span>GPIO</span><span style="font-family:'宋体';">口时一定要打开</span><span>GPIO</span><span style="font-family:'宋体';">对应电压域的</span><span>LDO</span><span style="font-family:'宋体';">才能正常工作，具体复用的</span><span>GPIO</span><span style="font-family:'宋体';">请参考表格</span><span>3</span><span style="font-family:'宋体';">。</span></p><p><span>GPIO</span><span style="font-family:'宋体';">电气特性：</span></p>

<p><span style="font-size:11pt;font-family:'宋体';">表格</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">35</span><span style="font-size:11pt;font-family:'宋体';">：</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">GPIO</span><span style="font-size:11pt;font-family:'宋体';">电气特性</span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-TxMuC9l25b90f4b140664.png" class="img-responsive" alt="attachments-2018-09-TxMuC9l25b90f4b140664.png" /></p><p><span>GPIO</span><span style="font-family:'宋体';">相关</span><span>API</span><span style="font-family:'宋体';">接口：详细请参考</span><span>script_LuaTask/demo/gpio</span></p><p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">36</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">lua GPIO</span><span style="font-family:'黑体';">输入输出设置接口</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-WgPMpjG05b90f5467a148.jpg" class="img-responsive" style="width:595px;" alt="attachments-2018-09-WgPMpjG05b90f5467a148.jpg" /></p><p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">38</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">lua GPIO</span><span style="font-family:'黑体';">输出低接口</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-hOI8GZsf5b90f724eeeb4.jpg" class="img-responsive" style="width:527px;" alt="attachments-2018-09-hOI8GZsf5b90f724eeeb4.jpg" /></p><h2><b><span style="font-size:14pt;">3.15<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:Calibri, sans-serif;">LDO</span><span style="font-size:14pt;font-family:'黑体';">输出</span></b></h2>

<p><span style="font-family:'宋体';">模块内置</span><span>3</span><span style="font-family:'宋体';">路</span><span>LDO</span><span style="font-family:'宋体';">输入可以对外供电，分别是</span><span>VDDIO</span><span style="font-family:'宋体';">，</span><span>V_LCD</span><span style="font-family:'宋体';">，</span><span>V_CAM</span><span style="font-family:'宋体';">，其中</span><span>VDDIO</span><span style="font-family:'宋体';">为固定输出不可调节，其余两个</span><span>LDO</span><span style="font-family:'宋体';">均可以软件控制打开与关闭，以及电压值。</span></p>

<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">42</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">LDO</span><span style="font-family:'黑体';">管脚定义</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-U0SNAUod5b90f8f9be812.jpg" class="img-responsive" style="width:592px;" alt="attachments-2018-09-U0SNAUod5b90f8f9be812.jpg" /></p><h2><b><span style="font-size:14pt;">3.16 <span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-size:14pt;font-family:'黑体';">背光输出控制管脚</span></b></h2><p><span style="font-family:'宋体';">模块内置</span><span>3</span><span style="font-family:'宋体';">路背光驱动控制管脚，分别为</span><span>LCD_BL</span><span style="font-family:'宋体';">，</span><span>KP_LED_B</span><span style="font-family:'宋体';">，</span><span>KP_LED_R</span><span style="font-family:'宋体';">。这三路管脚与其他</span><span>GPIO</span><span style="font-family:'宋体';">不同，为电流源，只能向内部输入电流，无法输出。通常用来接</span><span>LED</span><span style="font-family:'宋体';">的阴极。其中</span><span>LCD_BL</span><span style="font-family:'宋体';">最大驱动电流为</span><span>60mA</span><span style="font-family:'宋体';">，通常用于驱动屏幕背光。</span><span>KP_LED_B</span><span style="font-family:'宋体';">，</span><span>KP_LED_R</span><span style="font-family:'宋体';">最大驱动电流为</span><span>30mA</span><span style="font-family:'宋体';">，通常用来驱动发光二极管。</span></p>

<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">43</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">LDO</span><span style="font-family:'黑体';">管脚定义</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-5NKM1Zkc5b90fa4855d9f.jpg" class="img-responsive" style="width:578.5px;" alt="attachments-2018-09-5NKM1Zkc5b90fa4855d9f.jpg" /><span style="font-size:11pt;font-family:'宋体';">相关参考设计如下：</span></p><p style="text-align:left;"><b><span style="font-family:'宋体';">图表</span><span>21</span><span style="font-family:'宋体';">：</span><span>LED</span><span style="font-family:'宋体';">驱动电路参考线路</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-JO9evL3o5b90fabed41e7.png" class="img-responsive" style="width:489.5px;" alt="attachments-2018-09-JO9evL3o5b90fabed41e7.png" /></p><h2><b><span style="font-size:14pt;">3.17<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">音频接口</span></b></h2><p><span style="font-size:10.5pt;font-family:'宋体';">模块一共有三路模拟音频输入输出通道，支持通话、录音和播放等功能。分别是差分麦克风输入接口，差分喇叭输出接口和立体声耳机接口。</span></p><p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">44</span><span style="font-family:'黑体';">：模拟音频管脚定义</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-H79bLmBl5b90fb204766d.jpg" class="img-responsive" style="width:623.5px;" alt="attachments-2018-09-H79bLmBl5b90fb204766d.jpg" /><b><span style="font-family:'黑体';"><br /></span></b></p>

<h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.17.1<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:12pt;font-family:'宋体';color:#000000;">防止</span><span style="font-size:12pt;">TDD</span><span style="font-size:12pt;font-family:'宋体';">噪声和其它噪声</span></b></h3><p><span style="font-size:10.5pt;font-family:'宋体';">手持话柄及免提的麦克风建议采用内置射频滤波双电容（如</span><span style="font-size:10.5pt;">10pF</span><span style="font-size:10.5pt;font-family:'宋体';">和</span><span style="font-size:10.5pt;">33pF</span><span style="font-size:10.5pt;font-family:'宋体';">）的驻极体麦克风，从干扰源头滤除射频干扰，会很大程度改善耦合</span><span style="font-size:10.5pt;">TDD</span><span style="font-size:10.5pt;font-family:'宋体';">噪音。</span><span style="font-size:10.5pt;">33pF</span><span style="font-size:10.5pt;font-family:'宋体';">电容用于滤除模块工作在</span><span style="font-size:10.5pt;">900MHz</span><span style="font-size:10.5pt;font-family:'宋体';">频率时的高频干扰。如果不加该电容，在通话时候有可能会听到</span><span style="font-size:10.5pt;">TDD</span><span style="font-size:10.5pt;font-family:'宋体';">噪声。同时</span><span style="font-size:10.5pt;">10pF</span><span style="font-size:10.5pt;font-family:'宋体';">的电容是用以滤除工作在</span><span style="font-size:10.5pt;">1800MHz</span><span style="font-size:10.5pt;font-family:'宋体';">频率时的高频干扰。需要注意的是，由于电容的谐振点很大程度上取决于电容的材料以及制造工艺，因此选择电容时，需要咨询电容的供应商，选择最合适的容值来滤除工作在</span><span style="font-size:10.5pt;">GSM850MHz</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;">GSM900MHz</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;">DCS1800MHz</span><span style="font-size:10.5pt;font-family:'宋体';">和</span><span style="font-size:10.5pt;">PCS1900MHz</span><span style="font-size:10.5pt;font-family:'宋体';">时的高频噪声。</span></p><p><span style="font-size:10.5pt;">GSM</span><span style="font-size:10.5pt;font-family:'宋体';">发射时的高频干扰严重程度通常主要取决于客户应用设计。在有些情况下，</span><span style="font-size:10.5pt;">GSM900</span><span style="font-size:10.5pt;font-family:'宋体';">的</span><span style="font-size:10.5pt;">TDD</span><span style="font-size:10.5pt;font-family:'宋体';">噪声比较严重，而有些情况下，</span><span style="font-size:10.5pt;">DCS1800</span><span style="font-size:10.5pt;font-family:'宋体';">的</span><span style="font-size:10.5pt;">TDD</span><span style="font-size:10.5pt;font-family:'宋体';">噪声比较严重。因此客户可以根据测试的结果选贴需要的滤波电容，甚至有的时候不需要贴该类滤波电容。</span></p><p><span style="font-size:10.5pt;">PCB</span><span style="font-size:10.5pt;font-family:'宋体';">板上的射频滤波电容摆放位置要尽量靠近音频器件或音频接口，走线尽量短，要先经过滤波电容再到其他点</span></p><p><span style="font-size:10.5pt;font-family:'宋体';">天线的位置离音频元件和音频走线尽量远，减少辐射干扰，电源走线和音频走线不能平行，电源线尽量远离音频线。</span></p><p><span style="font-size:10.5pt;font-family:'宋体';">差分音频走线必须遵循差分信号的</span><span style="font-size:10.5pt;">Layout</span><span style="font-size:10.5pt;font-family:'宋体';">规则。</span></p><p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.17.2.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:12pt;font-family:'宋体';">麦克风接口参考电路</span></b></h3>

<p><span style="font-size:10.5pt;font-family:'宋体';">麦克风通道参考电路下图所示</span><span style="font-family:'宋体';">：</span></p><p><span style="font-family:'宋体';"><b><br /></b></span></p><p><b><span style="font-family:'黑体';">图表</span><span style="font-family:Calibri, sans-serif;">22</span><span style="font-family:'黑体';">：麦克风通道接口电路</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-HPv35vEE5b90fc2e835a7.jpg" class="img-responsive" style="width:485.5px;" alt="attachments-2018-09-HPv35vEE5b90fc2e835a7.jpg" /></p><p><br /></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.17.3.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:12pt;font-family:'宋体';">音频输出接口参考电路</span></b></h3>

<p><span style="font-size:10.5pt;">SPK</span><span style="font-size:10.5pt;font-family:'宋体';">音频输出接口可以直接与驱动</span><span style="font-size:10.5pt;">8</span><span style="font-size:10.5pt;font-family:'宋体';">欧姆喇叭。</span></p><p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p><p style="text-align:left;"><b><span style="font-family:'黑体';">图表</span><span style="font-family:Calibri, sans-serif;">23</span><span style="font-family:'黑体';">：参考线路</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-5Nghc9oZ5b90fd0ea690d.jpg" class="img-responsive" style="width:603px;" alt="attachments-2018-09-5Nghc9oZ5b90fd0ea690d.jpg" /></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.17.4.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:12pt;font-family:'宋体';">耳机接口参考电路</span></b></h3><h4><span style="font-family:'黑体';">图表</span><span style="font-family:Calibri, sans-serif;">24</span><span style="font-family:'黑体';">：耳机参考线路</span></h4><h4><img src="http://oldask.openluat.com/image/show/attachments-2018-09-aitTrmla5b90fd969e1df.jpg" class="img-responsive" style="width:522px;" alt="attachments-2018-09-aitTrmla5b90fd969e1df.jpg" /></h4><p><span style="font-size:12pt;font-family:'宋体';">注意：耳机信号为单端信号容易受到</span><span style="font-size:12pt;">TDD</span><span style="font-size:12pt;font-family:'宋体';">干扰，因此在布局走线时尽量远离天线放置，同时耳机信号走线要注意包地线保护。</span></p><p><span style="font-size:12pt;font-family:'宋体';"><br /></span></p><p><span style="font-size:12pt;font-family:'宋体';"><br /></span></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.17.5<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:12pt;font-family:'宋体';">音频接口相关</span><span style="font-size:12pt;">API</span><span style="font-size:12pt;font-family:'宋体';">接口说明</span></b></h3>

<p><span style="font-family:'宋体';">使用音频接口时注意设置对应的音频通道。详细请参考</span><span>script_LuaTask/demo/audio</span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-gDRYq0Mj5b91372a787fd.jpg" class="img-responsive" style="width:596.5px;" alt="attachments-2018-09-gDRYq0Mj5b91372a787fd.jpg" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Ui30CVAd5b9138152b8ae.jpg" class="img-responsive" style="width:593.5px;" alt="attachments-2018-09-Ui30CVAd5b9138152b8ae.jpg" /></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Ui30CVAd5b9138152b8ae.jpg" class="img-responsive" style="width:593.5px;" alt="attachments-2018-09-Ui30CVAd5b9138152b8ae.jpg" /></p><h2><span style="font-family:Arial;font-weight:bold;font-size:14pt;">3.18 </span><b><span style="font-family:Calibri;font-size:14pt;">SIM<font>卡接口</font></span></b></h2><p><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡接口支持</font><font>GSM Phase1</font><font>规范的功能，同时也支持</font><font>GSM Phase  2+</font><font>规范的功能和</font><font>FAST64 kbps SIM</font><font>卡（用于</font><font>SIM</font><font>应用工具包）</font></span></p><p><span style="font-family:Calibri;font-size:10.5pt;">SIM<font>卡通过模块内部的电源供电，支持</font><font>1.8V</font><font>和</font><font>3.0V</font><font>供电。</font></span></p><h3><b><span style="font-family:Arial;font-size:14pt;">3.18.1  </span><span style="font-family:Calibri;font-size:12pt;">SIM<font>接口</font></span></b></h3><p><span style="font-family:Calibri;font-size:10.5pt;"><font>下表介绍了</font>SIM<font>的接口管脚定义。</font></span></p><p><span style="font-family:Calibri;font-size:10pt;"><font>表格</font></span><span style="font-family:Calibri;font-size:10pt;">49</span><span style="font-family:Calibri;font-size:10pt;"><font>：</font>SIM<font>卡接口管脚定义</font></span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-CzQyUUI05b91ded645ab3.jpg" class="img-responsive" style="width:579px;" alt="attachments-2018-09-CzQyUUI05b91ded645ab3.jpg" /></p><p><span style="font-size:10.5pt;font-family:'宋体';">下图是</span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">接口的参考电路，使用</span><span style="font-size:10.5pt;">6pin</span><span style="font-size:10.5pt;font-family:'宋体';">的</span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡座。</span></p><p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">25</span><span style="font-size:11pt;font-family:'宋体';">：使用</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">6pin SIM</span><span style="font-size:11pt;font-family:'宋体';">卡座参考电路图</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">(SIM)</span></b><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-eYzvH3Bc5b91e20ca9533.jpg" class="img-responsive" style="width:593px;" alt="attachments-2018-09-eYzvH3Bc5b91e20ca9533.jpg" /></p><p><span style="font-size:10.5pt;font-family:'宋体';">在</span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡接口的电路设计中，为了确保</span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡的良好的功能性能和不被损坏，在电路设计中建议遵循以下设计原则：</span></p><p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡座与模块距离摆件不能太远，越近越好，尽量保证</span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡信号线布线不超过</span><span style="font-size:10.5pt;">20cm</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p><p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡信号线布线远离</span><span style="font-size:10.5pt;">RF</span><span style="font-size:10.5pt;font-family:'宋体';">线和</span><span style="font-size:10.5pt;">VBAT</span><span style="font-size:10.5pt;font-family:'宋体';">电源线。</span></p><p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;">SIM_VDD</span><span style="font-size:10.5pt;font-family:'宋体';">的布线宽度不小于</span><span style="font-size:10.5pt;">0.</span><span style="font-size:10.5pt;">3</span><span style="font-size:10.5pt;">mm</span><span style="font-size:10.5pt;font-family:'宋体';">，且在</span><span style="font-size:10.5pt;">SIM_VDD</span><span style="font-size:10.5pt;font-family:'宋体';">与</span><span style="font-size:10.5pt;">SIM_GND</span><span style="font-size:10.5pt;font-family:'宋体';">之间的旁路电路不超过</span><span style="font-size:10.5pt;">1uF</span><span style="font-size:10.5pt;font-family:'宋体';">，并靠近</span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡座摆放。</span></p><p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">为了防止可能存在的</span><span style="font-size:10.5pt;">SIM_CLK</span><span style="font-size:10.5pt;font-family:'宋体';">信号对</span><span style="font-size:10.5pt;">SIM_DATA</span><span style="font-size:10.5pt;font-family:'宋体';">信号的串扰，两者布线不要太靠近，在两条走线之间增加地屏蔽。且对</span><span style="font-size:10.5pt;">SIM_RST</span><span style="font-size:10.5pt;font-family:'宋体';">信号也需要地保护。</span></p><p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">为了保证良好的</span><span style="font-size:10.5pt;">ESD</span><span style="font-size:10.5pt;font-family:'宋体';">保护，建议加</span><span style="font-size:10.5pt;">TVS</span><span style="font-size:10.5pt;font-family:'宋体';">管，并靠近</span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡座摆放。选择的</span><span style="font-size:10.5pt;">ESD</span><span style="font-size:10.5pt;font-family:'宋体';">器件寄生电容不大于</span><span style="font-size:10.5pt;">50pF</span><span style="font-size:10.5pt;font-family:'宋体';">，例如</span><span style="font-size:10.5pt;">PESDNC9D5VU</span><span style="font-size:10.5pt;font-family:'宋体';">。</span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡的外围电路必须尽量靠近</span><span style="font-size:10.5pt;">SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡座。</span></p><p><span> </span></p><h3><b><span style="font-size:14pt;font-family:Arial, sans-serif;">3.18.2.<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:12pt;">6-pin
SIM</span><span style="font-size:12pt;font-family:'宋体';">卡座</span></b></h3>

<p><span style="font-size:10.5pt;font-family:'宋体';">使用</span><span style="font-size:10.5pt;">6-pin SIM</span><span style="font-size:10.5pt;font-family:'宋体';">卡座，推荐使用</span><span style="font-size:10.5pt;">Amphenol</span><span style="font-size:10.5pt;font-family:'宋体';">公司的</span><span style="font-size:10.5pt;">C70710M0065122</span><span style="font-size:10.5pt;font-family:'宋体';">。访问</span><span style="font-size:10.5pt;">http://www.amphenol.com</span><span style="font-size:10.5pt;font-family:'宋体';">获取更多信息。</span></p><p><span style="font-size:10.5pt;font-family:'宋体';"><b><span style="font-size:11pt;">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">26</span><span style="font-size:11pt;">：</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">Amphenol C707 10M006 512 2 SIM</span><span style="font-size:11pt;">卡座</span></b><br /></span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-8fZcQJF55b91e8b7d5cb6.jpg" class="img-responsive" style="width:518px;" alt="attachments-2018-09-8fZcQJF55b91e8b7d5cb6.jpg" /></p><p><br /></p><h2><b><span style="font-size:14pt;">3.19<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">网络状态指示</span></b></h2><p><span style="font-size:10.5pt;font-family:'宋体';">模块</span><span style="font-size:10.5pt;">lua</span><span style="font-size:10.5pt;font-family:'宋体';">脚本库中集成了网络指示灯的功能，通过</span><span style="font-size:10.5pt;">GPIO</span><span style="font-size:10.5pt;font-family:'宋体';">口实现对</span><span style="font-size:10.5pt;">LED</span><span style="font-size:10.5pt;font-family:'宋体';">灯的控制。默认使用的</span><span style="font-size:10.5pt;">GPIO_33</span><span style="font-size:10.5pt;font-family:'宋体';">管脚，此管脚是与</span><span style="font-size:10.5pt;">KEYOUT3</span><span style="font-size:10.5pt;font-family:'宋体';">复用，如果需要使用键盘功能可以将网络灯的功能修改至其他空余</span><span style="font-size:10.5pt;">GPIO</span><span style="font-size:10.5pt;font-family:'宋体';">管脚，只需要修改</span><span style="font-size:10.5pt;">netled.lua</span><span style="font-size:10.5pt;font-family:'宋体';">文件。</span></p><p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">50</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">NET_LED</span><span style="font-family:'黑体';">的工作状态</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-WYjnS27b5b91e9b4ab802.jpg" class="img-responsive" style="width:613px;" alt="attachments-2018-09-WYjnS27b5b91e9b4ab802.jpg" /></p><p><span style="font-size:10.5pt;font-family:'宋体';">参考电路如下图</span><span style="font-size:10.5pt;font-family:'宋体';">：</span></p><p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">27</span><span style="font-size:11pt;font-family:'宋体';">：网络灯参考电路</span></b><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-fAiDAldw5b91e9cd88c2f.jpg" class="img-responsive" style="width:307px;" alt="attachments-2018-09-fAiDAldw5b91e9cd88c2f.jpg" /></p><h1><b><span style="font-size:15pt;font-family:Arial, sans-serif;"><br /></span></b></h1><h1><b><span style="font-size:15pt;font-family:Arial, sans-serif;">4.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:16pt;font-family:'宋体';">射频接口</span></b><span style="font-size:16pt;"><b> </b>   </span></h1><p><span style="font-size:10.5pt;font-family:'宋体';">管脚</span><span style="font-size:10.5pt;"> <span>54</span></span><span style="font-size:10.5pt;font-family:'宋体';">是</span><span style="font-size:10.5pt;"> RF</span><span style="font-size:10.5pt;font-family:'宋体';">天线输入端。</span><span style="font-size:10.5pt;">RF</span><span style="font-size:10.5pt;font-family:'宋体';">接口</span><span style="font-size:10.5pt;">50</span><span style="font-size:10.5pt;font-family:'宋体';">欧姆阻抗匹配。</span></p><p><span style="font-size:10.5pt;"> </span><span style="font-size:10.5pt;"> </span></p>

<p><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">51</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">RF_ANT</span><span style="font-family:'黑体';">管脚定义</span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-UV5s66O55b91ea420d5a6.jpg" class="img-responsive" style="width:610px;" alt="attachments-2018-09-UV5s66O55b91ea420d5a6.jpg" /></p><h2><b><span style="font-size:14pt;">4.1.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">射频参考电路</span></b></h2><h2><img src="http://oldask.openluat.com/image/show/attachments-2018-09-YoMfmSOd5b91eac3a8bce.jpg" class="img-responsive" style="width:467.5px;" alt="attachments-2018-09-YoMfmSOd5b91eac3a8bce.jpg" /></h2><p><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">提供了一个</span><span style="font-size:10.5pt;">RF</span><span style="font-size:10.5pt;font-family:'宋体';">天线焊盘作为天线连接接口。连接到模块</span><span style="font-size:10.5pt;">RF</span><span style="font-size:10.5pt;font-family:'宋体';">天线焊盘的</span><span style="font-size:10.5pt;">RF</span><span style="font-size:10.5pt;font-family:'宋体';">走线必须使用微带线或者其他类型的</span><span style="font-size:10.5pt;"> RF</span><span style="font-size:10.5pt;font-family:'宋体';">走线，阻抗必须控制在</span><span style="font-size:10.5pt;">50</span><span style="font-size:10.5pt;font-family:'宋体';">欧姆左右。为了获得更好的射频性能，</span><span style="font-size:10.5pt;">RF</span><span style="font-size:10.5pt;font-family:'宋体';">输入端口两侧各有接地焊盘。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">为了最小化</span><span style="font-size:10.5pt;"> RF</span><span style="font-size:10.5pt;font-family:'宋体';">走线或者</span><span style="font-size:10.5pt;">RF</span><span style="font-size:10.5pt;font-family:'宋体';">线缆上的损耗，必须谨慎设计。建议插入损耗必须满足以下条件：</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:10.5pt;">GSM850/EGSM900&lt;1dB</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:10.5pt;">DCS1800/PCS1900&lt;1.5dB</span></p><h2><b><span style="font-size:14pt;">4.2<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:Calibri, sans-serif;">RF</span><span style="font-size:14pt;font-family:'黑体';">输出功率</span></b></h2><p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">52</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">RF</span><span style="font-family:'黑体';">传导功率</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-ZTXeBrsC5b91ec1e92ef2.jpg" class="img-responsive" style="width:614.5px;" alt="attachments-2018-09-ZTXeBrsC5b91ec1e92ef2.jpg" /></p><p><span style="font-size:10.5pt;font-family:'宋体';">注意：在</span><span style="font-size:10.5pt;"> GPRS</span><span style="font-size:10.5pt;font-family:'宋体';">网络</span><span style="font-size:10.5pt;">4</span><span style="font-size:10.5pt;font-family:'宋体';">时隙发送模式下，最大输出功率减小</span><span style="font-size:10.5pt;"> 2.5dB</span><span style="font-size:10.5pt;font-family:'宋体';">。该设计符合</span><span style="font-size:10.5pt;"> 3GPP TS 51.010-1</span><span style="font-size:10.5pt;font-family:'宋体';">中</span><span style="font-size:10.5pt;"> 13.16</span><span style="font-size:10.5pt;font-family:'宋体';">章节所述的</span><span style="font-size:10.5pt;">GSM</span><span style="font-size:10.5pt;font-family:'宋体';">规范。</span></p><h2><b><span style="font-size:14pt;">4.3<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:Calibri, sans-serif;">RF</span><span style="font-size:14pt;font-family:'黑体';">传导灵敏度</span></b></h2>

<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">53</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">RF</span><span style="font-family:'黑体';">传导灵敏度</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-HVjkphKv5b91ec4c8c38b.jpg" class="img-responsive" style="width:612px;" alt="attachments-2018-09-HVjkphKv5b91ec4c8c38b.jpg" /></p><h2><b><span style="font-size:14pt;">4.4<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">工作频率</span></b></h2>

<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">54</span><span style="font-family:'黑体';">：模块工作频率</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-59Qb1FrB5b91ec8019deb.jpg" class="img-responsive" style="width:616.5px;" alt="attachments-2018-09-59Qb1FrB5b91ec8019deb.jpg" /></p><h2><b><span style="font-size:14pt;">4.5<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">推荐</span><span style="font-size:14pt;font-family:Calibri, sans-serif;">RF</span><span style="font-size:14pt;font-family:'黑体';">焊接方式</span></b></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">如果连接外置天线的射频连接器是通过焊接方式与模块相连的，请务必注意连接线的剥线方式及焊接方法，尤其是地要焊接充分，请按照下图中正确的焊接方式进行操作，以避免因焊接不良引起线损增大。</span></p><p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">29</span><span style="font-size:11pt;font-family:'宋体';">：射频焊接方式建议</span></b><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-NxBdirDa5b91ed6a08d9b.jpg" class="img-responsive" style="width:492.5px;" alt="attachments-2018-09-NxBdirDa5b91ed6a08d9b.jpg" /><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p><h1><b><span style="font-size:15pt;font-family:Arial, sans-serif;">5.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:15pt;font-family:'宋体';">电器特性，可靠性，射频特性</span></b></h1><h2><b><span style="font-size:14pt;">5.1<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">绝对最大值</span></b></h2><p><span style="font-size:10.5pt;font-family:'宋体';">下表所示是模块数字、模拟管脚的电源供电电压电流最大耐受值。</span></p><p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">55</span><span style="font-family:'黑体';">：绝对最大值</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-aqNndoTJ5b91eddfe84b6.jpg" class="img-responsive" style="width:610px;" alt="attachments-2018-09-aqNndoTJ5b91eddfe84b6.jpg" /></p><h2><b><span style="font-size:14pt;">5.2<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">工作温度</span></b></h2>

<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">56</span><span style="font-family:'黑体';">：工作温度</span></b></p><h2><img src="http://oldask.openluat.com/image/show/attachments-2018-09-mQiOwmUU5b91efbd2148b.jpg" class="img-responsive" alt="attachments-2018-09-mQiOwmUU5b91efbd2148b.jpg" style="font-size:14px;width:618.5px;" /></h2><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-YZZUA4SE5b91efc334129.jpg" class="img-responsive" style="width:618.5px;" alt="attachments-2018-09-YZZUA4SE5b91efc334129.jpg" /></p><h2><b><span style="font-size:14pt;">5.3<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">耗流</span></b></h2>

<p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">57</span><span style="font-family:'黑体';">：模块耗流</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-WsmYpAj45b91f0a4dbc70.jpg" class="img-responsive" style="width:613.5px;" alt="attachments-2018-09-WsmYpAj45b91f0a4dbc70.jpg" /></p><h2><b><span style="font-size:14pt;">5.4<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">静电防护</span></b></h2><p><span style="font-size:10.5pt;font-family:'宋体';">在模块应用中，由于人体静电，微电子间带电摩擦等产生的静电，通过各种途径放电给模块，可能会对模块造成一定的损坏，所以</span><span style="font-size:10.5pt;"> ESD</span><span style="font-size:10.5pt;font-family:'宋体';">保护必须要重视，不管是在生产组装、测试，研发等过程，尤其在产品设计中，都应采取防</span><span style="font-size:10.5pt;"> ESD</span><span style="font-size:10.5pt;font-family:'宋体';">保护措施。如电路设计在接口处或易受</span><span style="font-size:10.5pt;"> ESD</span><span style="font-size:10.5pt;font-family:'宋体';">点增加</span><span style="font-size:10.5pt;"> ESD</span><span style="font-size:10.5pt;font-family:'宋体';">保护，生产中带防</span><span style="font-size:10.5pt;">ESD</span><span style="font-size:10.5pt;font-family:'宋体';">手套等。</span></p><p><span style="font-size:10.5pt;font-family:'宋体';">下表为模块重点</span><span style="font-size:10.5pt;">PIN</span><span style="font-size:10.5pt;font-family:'宋体';">脚的</span><span style="font-size:10.5pt;">ESD</span><span style="font-size:10.5pt;font-family:'宋体';">耐受电压情况。</span></p><p><b><span style="font-family:'黑体';">表格</span><span style="font-family:Calibri, sans-serif;">58</span><span style="font-family:'黑体';">：</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">ESD</span><span style="font-size:10.5pt;font-family:'黑体';">性能参数（温度：</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">25</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">℃</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">, </span><span style="font-size:10.5pt;font-family:'黑体';">湿度：</span><span style="font-size:10.5pt;font-family:Calibri, sans-serif;">45%</span><span style="font-size:10.5pt;font-family:'黑体';">）</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-RNQ6wr2u5b920e4796035.jpg" class="img-responsive" style="width:616px;" alt="attachments-2018-09-RNQ6wr2u5b920e4796035.jpg" /><b><span style="font-size:10.5pt;font-family:'黑体';"><br /></span></b></p><h1><b><span style="font-size:15pt;font-family:Arial, sans-serif;">6.<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:15pt;font-family:'宋体';">机械尺寸</span></b></h1><p><span style="font-size:10.5pt;font-family:'宋体';">该章节描述模块的机械尺寸以及客户使用该模块设计的推荐封装尺寸。</span></p>

<h2><b><span style="font-size:14pt;">6.1<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">模块机械尺寸</span></b></h2><h5><span style="font-family:'黑体';">图表</span><span style="font-family:Calibri, sans-serif;">30</span><span style="font-family:'黑体';">：</span><span style="font-family:Calibri, sans-serif;">Air268F</span><span style="font-family:'黑体';">正视图（单位：毫米）</span></h5><h2><img src="http://oldask.openluat.com/image/show/attachments-2018-09-IFBMp1b45b920f0da11df.jpg" class="img-responsive" style="width:473px;" alt="attachments-2018-09-IFBMp1b45b920f0da11df.jpg" /></h2><h2><b><span style="font-size:14pt;">6.2<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">推荐</span><span style="font-size:14pt;font-family:Calibri, sans-serif;">PCB</span><span style="font-size:14pt;font-family:'黑体';">封装</span></b></h2><h5><b><span style="font-family:'黑体';">图表</span><span style="font-family:Calibri, sans-serif;">31</span><span style="font-family:'黑体';">：推荐封装（单位：毫米）</span></b></h5><h5><img src="http://oldask.openluat.com/image/show/attachments-2018-09-aurdos2r5b920fb7c44cb.jpg" class="img-responsive" style="width:493px;" alt="attachments-2018-09-aurdos2r5b920fb7c44cb.jpg" /></h5><p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p><p><span style="font-size:10.5pt;font-family:'宋体';">注意：保证</span><b><span style="font-size:10.5pt;">PCB</span></b><span style="font-size:10.5pt;font-family:'宋体';">板上模块和其他元器件之间间距至少</span><b><span style="font-size:10.5pt;">3mm</span></b><span style="font-size:10.5pt;font-family:'宋体';">。</span></p><p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p><h2><b><span style="font-size:14pt;">6.3<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">模块正视图</span></b></h2><h2><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">32</span><span style="font-size:11pt;font-family:'宋体';">：模块正视图</span></b></h2><h2><img src="http://oldask.openluat.com/image/show/attachments-2018-09-CAWNKqxN5b92106a8ad1b.png" class="img-responsive" style="width:164px;" alt="attachments-2018-09-CAWNKqxN5b92106a8ad1b.png" /></h2><h2><b><span style="font-size:14pt;">6.4<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">模块底视图</span></b></h2><h2><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">33</span><span style="font-size:11pt;font-family:'宋体';">：模块底视图</span></b><span style="font-size:14pt;font-family:'黑体';"><br /></span></h2><h2><img src="http://oldask.openluat.com/image/show/attachments-2018-09-BgGJYMSy5b921098380a9.png" class="img-responsive" style="width:198px;" alt="attachments-2018-09-BgGJYMSy5b921098380a9.png" /></h2><h1><b><span style="font-size:15pt;font-family:Arial, sans-serif;"><br /></span></b></h1><h1><b><span style="font-size:15pt;font-family:Arial, sans-serif;">7.<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:15pt;font-family:'宋体';">存储和生产</span></b></h1><h2><b><span style="font-size:14pt;">7.1<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">存储</span></b></h2><p><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">以真空密封袋的形式出货。模块的存储需遵循如下条件：</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">环境温度低于</span><span style="font-size:10.5pt;">40</span><span style="font-size:10.5pt;font-family:'宋体';">摄氏度，空气湿度小于</span><span style="font-size:10.5pt;">90%</span><span style="font-size:10.5pt;font-family:'宋体';">情况下，模块可在真空密封袋中存放</span><span style="font-size:10.5pt;">12</span><span style="font-size:10.5pt;font-family:'宋体';">个月。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">当真空密封袋打开后，若满足以下条件，模块可直接进行回流焊或其它高温流程：</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">模块环境温度低于</span><span style="font-size:10.5pt;">30</span><span style="font-size:10.5pt;font-family:'宋体';">摄氏度，空气湿度小于</span><span style="font-size:10.5pt;">60%</span><span style="font-size:10.5pt;font-family:'宋体';">，工厂在</span><span style="font-size:10.5pt;">72</span><span style="font-size:10.5pt;font-family:'宋体';">小时以内完成贴片。</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">空气湿度小于</span><span style="font-size:10.5pt;">10%</span></p>

<p> </p>

<p><span style="font-size:10.5pt;font-family:'宋体';">若模块处于如下条件，需要在贴片前进行烘烤：</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">当环境温度为</span><span style="font-size:10.5pt;">23</span><span style="font-size:10.5pt;font-family:'宋体';">摄氏度（允许上下</span><span style="font-size:10.5pt;">5</span><span style="font-size:10.5pt;font-family:'宋体';">摄氏度的波动）时，湿度指示卡显示湿度大于</span><span style="font-size:10.5pt;">10%</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">当真空密封袋打开后，模块环境温度低于</span><span style="font-size:10.5pt;">30</span><span style="font-size:10.5pt;font-family:'宋体';">摄氏度，空气湿度小于</span><span style="font-size:10.5pt;">60%</span><span style="font-size:10.5pt;font-family:'宋体';">，但工厂未能在</span><span style="font-size:10.5pt;">72</span><span style="font-size:10.5pt;font-family:'宋体';">小时以内完成贴片</span></p>

<p><span style="font-size:10.5pt;font-family:Symbol;">¨<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:10.5pt;font-family:'宋体';">当真空密封袋打开后，模块存储空气湿度大于</span><span style="font-size:10.5pt;">10%</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">如果模块需要烘烤，请在</span><span style="font-size:10.5pt;">125</span><span style="font-size:10.5pt;font-family:'宋体';">摄氏度下（允许上下</span><span style="font-size:10.5pt;">5</span><span style="font-size:10.5pt;font-family:'宋体';">摄氏度的波动）烘烤</span><span style="font-size:10.5pt;">48</span><span style="font-size:10.5pt;font-family:'宋体';">小时。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">注意：模块的包装无法承受如此高温，在模块烘烤之前，请移除模块包装。如果只需要短时间的烘烤，请参考</span><b><span style="font-size:10.5pt;">IPC/JEDECJ-STD-033</span></b><span style="font-size:10.5pt;font-family:'宋体';">规范。</span></p><p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p><h2><b><span style="font-size:14pt;">7.2<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">生产焊接</span></b></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">用印刷刮板在网板上印刷锡膏，使锡膏通过网板开口漏印到</span><span style="font-size:10.5pt;"> PCB</span><span style="font-size:10.5pt;font-family:'宋体';">上，印刷刮板力度需调整合适，为保证模块印膏质量，</span><span style="font-size:10.5pt;">Air268F</span><span style="font-size:10.5pt;font-family:'宋体';">模块焊盘部分对应的钢网厚度应为</span><span style="font-size:10.5pt;"> 0.2mm</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p><p><b><span style="font-size:11pt;font-family:'宋体';">图表</span><span style="font-size:11pt;font-family:Calibri, sans-serif;">34</span><span style="font-size:11pt;font-family:'宋体';">：印膏图</span></b></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-GhfR2zP05b921170f154d.jpg" class="img-responsive" style="width:479px;" alt="attachments-2018-09-GhfR2zP05b921170f154d.jpg" /><b><span style="font-size:11pt;font-family:'宋体';"><br /></span></b></p><p><span style="font-size:10.5pt;font-family:'宋体';">为避免模块反复受热损伤，建议客户</span><span style="font-size:10.5pt;"> PCB</span><span style="font-size:10.5pt;font-family:'宋体';">板第一面完成回流焊后再贴模块。推荐的炉温曲线图如下图所示：</span></p><p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-LH3svoZg5b92122d70e99.jpg" class="img-responsive" style="width:484px;" alt="attachments-2018-09-LH3svoZg5b92122d70e99.jpg" /></p><h1><b><span style="font-size:15pt;font-family:Arial, sans-serif;">8.<span style="font-size:7pt;font-family:'Times New Roman';">      
</span></span><span style="font-size:15pt;font-family:'宋体';">联系我们</span></b></h1><p><b><span>（1）</span></b><span style="font-family:'宋体';">淘宝店铺名称：合宙物联网</span></p><p><span><a href="https://luat.taobao.com/" target="_blank" rel="noreferrer noopener"><span>https://luat.taobao.com</span></a></span></p><p><span><a target="_blank" rel="noopener" href="https://openluat.taobao.com/"><span>https</span>://<span>openluat</span>.<span>taobao</span>.<span>com</span></a></span></p><p><span><span> </span></span></p><p><b><span>（2）</span></b><span>Luat</span><span style="font-family:'宋体';">之家网站：</span></p><p><span><a target="_blank" rel="noopener" href="http://www.openluat.com/"><span>http://www.openluat.com/</span></a></span></p><p><span> </span></p><p><b><span>（3）</span></b><span style="font-family:'宋体';">合宙</span><span>OpenLuat</span><span style="font-family:'宋体';">开源模块技术支持</span></p><p><span>QQ</span><span style="font-family:'宋体';">讨论群：</span><span>201848376</span></p><p><span> </span></p><p><b><span>（4）</span></b><span>GitHub</span><span style="font-family:'宋体';">：</span></p><p><span><a target="_blank" rel="noopener" href="https://github.com/openLuat/Luat_Air202-Air800-Air201">https://github.com/openLuat/Luat_Air268F-Air800-Air201</a></span></p><p><span> </span></p><p><b><span>（5）</span></b><span style="font-family:'宋体';">微信公众号</span><span>: </span><span>L</span><span>uat</span></p><p><span> </span></p><p><span>Lua+AT=Luat</span></p><p><span>Open+Luat=OpenLuat</span></p><p><span>www.OpenLuat.com</span></p><p><span style="font-family:'宋体';">合宙</span><span>--</span><span style="font-family:'宋体';">》</span><span>Luat--</span><span style="font-family:'宋体';">》发烧友</span><span>--</span><span style="font-family:'宋体';">》客户</span><span>--</span><span style="font-family:'宋体';">》产品</span></p>

<p><span style="font-family:'宋体';">共建开源好生态！</span></p></div>


















      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/09/05/427/" data-id="ckkfmdgg300f6vkcg7djc67ui" data-title="Air268F模块硬件开发手册V1.02" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-426" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/09/05/426/" class="article-date">
  <time class="dt-published" datetime="2018-09-05T04:56:48.000Z" itemprop="datePublished">2018-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/09/05/426/">Luat的内存那点事</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>很多开发者使用<span>Lua</span>进行二次开发时，由于对<span>Lua</span>理解不够深入，导致写出来的代码风格迥异，变量与众不同，思路古灵精怪，运行效率忽高忽低。所以经常能看到很多风骚的写法。</p>

<p><span> </span>“一夜风流”过后往往留下的都是遍地狼藉。譬如内存不足，语法错误等等。语法错误比较容易排查，但是内存不足怎么办呢？</p>

<p><span>Air2xx</span>、<span>Air8xx</span>系列模块可供<span>Lua</span>运行的内存是<span>1024k</span>，是非常非常富裕的。造成内存不足的情况是很偶然的，很小概率的。但是，有一些情况下，还是可能因为开发者的小疏忽，造成内存不足。有鉴于此，本文就针对开发者经常可能犯错的地方进行梳理，并提供解决方案以供参考。</p>

<h1>一、拼接字符串<span><br /></span></h1>

<p>有的开发者可能会觉得很奇怪，难道拼接字符串除了效率问题，还会导致内存不足？事实上，的确会这样：我们来看一下代码： <span><br /></span></p>

<blockquote><p><span>a=””</span></p><p><span>a=a..”abc”</span></p><p><span>print(a)</span></p></blockquote>





<p>通常，我们可以理解为<span>a</span>就是<span>a</span>，拼接后还是<span>a</span>，所以内存占用就是<span>a</span>的空间；但是，<span>Lua</span>是这样处理字符串的：<span><br /></span></p>

<blockquote><p><span>--</span>申请内存</p><p><span>a=””</span></p><p><span> </span></p><p><span>--</span>申请新内存，保存拼接后的字符串，然后<span>a</span>的指针指向新地址</p><p><span>a=a..”abc”</span></p><p><span> </span></p><p><span>--</span>打印<span>a</span></p><p><span>print(a)</span></p></blockquote>

<p><span style="font-size:10.5pt;font-family:'等线';">如此往复，当拼接大量字符串的时候，所占用的内存将远远大于实际使用：</span></p>

<p><img style="width:165.5px;" src="http://oldask.openluat.com/image/show/attachments-2018-09-Idecaq5O5b8f60d825193.png" class="img-responsive" alt="attachments-2018-09-Idecaq5O5b8f60d825193.png" /><span style="font-size:10.5pt;font-family:'等线';"><br /></span></p>

<p>从图中我们可以看出，开始拼接字符串前，<span>lua</span>占用内存是<span>113K</span>，当循环<span>99999</span>次拼接后，内存占用<span>6373k</span>；进行垃圾回收后，占用<span>1294k</span>。</p>

<p><span style="font-size:10.5pt;font-family:'等线';">将变量设置为“”，该内存仍然被占用，只有进行垃圾回收，才能彻底释放内存：</span></p>

<p><img style="width:158px;" src="http://oldask.openluat.com/image/show/attachments-2018-09-qgqvKyOr5b8f60ee1e70c.png" class="img-responsive" alt="attachments-2018-09-qgqvKyOr5b8f60ee1e70c.png" /><span style="font-size:10.5pt;font-family:'等线';"><br /></span></p>

<p>如果没有垃圾回收这个步骤，那么<span>6373K</span>的占用，必然消耗掉更多的内存。对于模块只有<span>1024k</span>运存的情况，捉襟见肘了。</p>

<p><span> </span>譬如需要下载一个<span>150k</span>的文件，<span>ROM</span>剩余空间大于<span>150k</span>，但是因为需要拼接字符串，所以实际占用内存可能超过<span>600k</span>，故此会出现内存不足的情况。所以，如果是<span>http</span>、<span>mqtt</span>、<span>uart</span>这种需要收到字符串并进行拼接的情况，建议应定时回收垃圾，减少内存占用。</p>

<h1>二、过长的<span>table</span></h1>

<p>很多开发者可能对<span>table</span>的长度没有概念，所以觉得既然没有什么限制，就往里边随便<span>insert</span>呗。殊不知这样做会拖慢效率，消耗大量内存：</p>

<p><img style="width:216.5px;" src="http://oldask.openluat.com/image/show/attachments-2018-09-OsOYujdS5b8f6122d5a1d.png" class="img-responsive" alt="attachments-2018-09-OsOYujdS5b8f6122d5a1d.png" /></p>

<p>往往并不会插入那么多次字符串，但是其他的对象也是很要命的。所以<span>table</span>的长度要进行控制，而不是无限制的插入。</p>

<h1>三、匿名函数</h1>

<p><br /></p>

<blockquote><p><span>function foo()</span></p><p><span><span>    </span>return function() print("hello!")
end --</span>创建匿名函数，可能会引发内存泄露</p><p><span>end</span></p><p><span>local helloFunc
= foo()</span></p><p><span>helloFunc()</span></p></blockquote>









<p>如果回调过程中大量使用<span>foo()</span>，那么会产生内存泄露。<span><br /></span></p>

<h1>四、载入过大的文件</h1>

<p><br /></p>

<p>由于<span>Luat</span>的运行机制原因，<span>MP3</span>的播放都是先载入内存，再进行播放的。所以<span>MP3</span>文件应尽量小（低码率、单声道），如果体积过大，将导致内存不足。</p>



<p>同样的，如果开发者使用<span>nvm</span>时，<span>config.lua</span>体积过大，也可能出现这个问题。所以开发者保存变量时，应检查后再保存。</p>



<p>开发者在开发过程中，可以根据上述的这几个情况去进行排查，最大限度减少内存泄漏的可能性。同时，开发者应在<span>main.lua</span>中加入如下代码，以保证垃圾自动回收：</p>

<pre><span>collectgarbage("setpause", 90)</span></pre>

<p>更多用法如下：<span><br /></span></p>

<blockquote><p><span><span>     
</span>--collectgarbage("collect"): </span>做一次完整的垃圾收集循环。通过参数<span> opt </span>它提供了一组不同的功能：</p><p><span> <span>  
</span>--collectgarbage("count"): </span>以<span> K </span>字节数为单位返回<span> Lua </span>使用的总内存数。 这个值有小数部分，所以只需要乘上<span> 1024 </span>就能得到<span> Lua </span>使用的准确字节数（除非溢出）。</p><p><span> <span>   
</span>--collectgarbage("restart"): </span>重启垃圾收集器的自动运行。</p><p><span> <span>   
</span>--collectgarbage("setpause"): </span>将<span> arg </span>设为收集器的
间歇率。 返回 间歇率 的前一个值。</p><p><span> <span>    </span>--collectgarbage("setstepmul"):
</span>返回 步进倍率 的前一个值。</p><p><span> <span>    </span>--collectgarbage("step"):
</span>单步运行垃圾收集器。 步长<span>"</span>大小<span>"</span>由<span> arg </span>控制。 传入<span> 0 </span>时，收集器步进（不可分割的）一步。 传入非<span> 0 </span>值， 收集器收集相当于<span> Lua </span>分配这些多（<span>K </span>字节）内存的工作。 如果收集器结束一个循环将返回<span> true </span>。</p><p><span><span>    </span>--collectgarbage("stop"):
</span>停止垃圾收集器的运行。 在调用重启前，收集器只会因显式的调用运行。</p>

</blockquote>













<p>如果开发者一时无法定位问题所在，那么应间隔<span>N</span>秒打印一次当前内存，根据内存波动曲线和代码正在执行的动作，去排查具体原因：</p>

<pre><span>sys.timerStart(function() log.info(“Mem
Free Size:”, 1024- collectgarbage("count")) end, 5000)</span></pre>






      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/09/05/426/" data-id="ckkfmdgb80053vkcg07zt4q2i" data-title="Luat的内存那点事" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-425" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/09/05/425/" class="article-date">
  <time class="dt-published" datetime="2018-09-05T02:02:59.000Z" itemprop="datePublished">2018-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2018/09/05/425/">合宙Luat WiFi模块AT指令手册及示例（三）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4><span style="font-weight:700;"><span style="font-size:12pt;">2.2.3.13<span style="font-size:7pt;font-family:'Times New Roman';">          </span></span><span style="font-size:12pt;font-family:'黑体';">获取指定的</span><span style="font-size:12pt;">socket</span><span style="font-size:12pt;font-family:'黑体';">状态：</span><span style="font-size:12pt;">AT+SKSTT</span></span></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l <span style="font-size:7pt;font-family:'Times New Roman';"> </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">获取指定的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">状态，返回值的第一行表示的是用户指定的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">的状态信息，如果该</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">类型为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TCP</span><span style="font-size:10.5pt;font-family:'宋体';">服务器，那么从下一行开始每一行表示一个接入的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">client</span><span style="font-size:10.5pt;font-family:'宋体';">的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">状态。</span> </p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-Crsy8gle5b8f33335793f.jpg" class="img-responsive" alt="attachments-2018-09-Crsy8gle5b8f33335793f.jpg" style="width:596px;" /></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span></span><br /></p>

<p><span style="background-color:transparent;font-size:10.5pt;font-family:Arial, sans-serif;"> socket</span><span style="background-color:transparent;font-size:10.5pt;font-family:'宋体';">：</span><span style="background-color:transparent;font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="background-color:transparent;font-size:10.5pt;font-family:'宋体';">号</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> status</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">状态</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-q3mZPxK75b8f389948d28.jpg" class="img-responsive" style="width:583.5px;" alt="attachments-2018-09-q3mZPxK75b8f389948d28.jpg" /></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">host</span><span style="font-size:10.5pt;font-family:'宋体';">：对端</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ip</span><span style="font-size:10.5pt;font-family:'宋体';">地址</span><br /></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">HostPort</span><span style="font-size:10.5pt;font-family:'宋体';">：对端端口号</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">LocalPort</span><span style="font-size:10.5pt;font-family:'宋体';">：本地端口号</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">rx_data</span><span style="font-size:10.5pt;font-family:'宋体';">：接收</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">buffer</span><span style="font-size:10.5pt;font-family:'宋体';">中数据长度</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l <span style="font-size:7pt;font-family:'Times New Roman';"> </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">示例</span></span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-family:Arial, sans-serif;font-size:10.5pt;"> </span></p>

<table class="MsoNormalTable"><tr><td><p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p></td><td><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+SKSTT=1</span></p></td></tr><tr><td><p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p></td><td><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK=1,2,"36.7.87.100",6100,59749,0</span></p></td></tr></table>

<h4><b><span style="font-size:12pt;"><br /></span></b></h4>

<h4><b><span style="font-size:12pt;">2.2.3.14<span style="font-size:7pt;font-family:'Times New Roman';">        </span></span><span style="font-size:12pt;font-family:'黑体';">关闭指定的</span><span style="font-size:12pt;">socket </span><span style="font-size:12pt;font-family:'黑体';">：</span><span style="font-size:12pt;">AT+SKCLS</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">关闭指定的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">）：</span></span></p>

<table class="MsoNormalTable"><tr><td><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+SKCLS=&lt;socket&gt;&lt;CR&gt;</span></p><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p></td></tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span></span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">号</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">示例：</span></span></p>

<table class="MsoNormalTable"><tr><td><p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p></td><td><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+SKCLS=1</span></p></td></tr><tr><td><p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p></td><td><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p></td></tr></table>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h4><b><span style="font-size:12pt;">2.2.3.15<span style="font-size:7pt;font-family:'Times New Roman';">          </span></span><span style="font-size:12pt;font-family:'黑体';">设置系统默认发送的</span><span style="font-size:12pt;">socket </span><span style="font-size:12pt;font-family:'黑体';">：</span><span style="font-size:12pt;">AT+SKSDF</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">设置系统默认发送的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">。当用户需要在命令模式下进入透明传输模式时，使用本命令可以指定将串口的透明数据发送的目的地。</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">）：</span></span></p>

<table class="MsoNormalTable"><tr><td><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+SKSDF=&lt;socket&gt;&lt;CR&gt;</span></p><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p></td></tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span></span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">号</span></p>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-family:'宋体';">示例：</span></p>

<p><span style="font-family:'宋体';">请参考<a>串口进入透传模式：AT+ENTM</a>示例</span></p>

<p> </p>

<h4><b><span style="font-size:12pt;">2.2.3.16<span style="font-size:7pt;font-family:'Times New Roman';">          </span></span><span style="font-size:12pt;font-family:'黑体';">获取当前</span><span style="font-size:12pt;">socket</span><span style="font-size:12pt;font-family:'黑体';">收到数据的源</span><span style="font-size:12pt;">IP</span><span style="font-size:12pt;font-family:'黑体';">地址：</span><span style="font-size:12pt;">AT+SKSRCIP</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">获取当前</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">收到数据的源</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址。</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">）：</span></span></p>

<table class="MsoNormalTable"><tr><td><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+SKSRCIP=?&lt;CR&gt;</span></p><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK=[host]&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p></td></tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span></span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Host</span><span style="font-size:10.5pt;font-family:'宋体';">：数据的源</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">示例：</span></span></p>

<table class="MsoNormalTable"><tr><td><p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p></td><td><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+SKSRCIP=?</span></p></td></tr><tr><td><p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p></td><td><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK=36.7.87.10</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">6</span></p></td></tr></table>

<p> </p>

<h4><b><span style="font-size:12pt;">2.2.3.17<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:12pt;">socket</span><span style="font-size:12pt;font-family:'黑体';">主动上报接收数据</span><span style="font-size:10.5pt;font-family:'黑体';">：</span><span style="font-size:12pt;">AT+SKRPTM</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">打开和关闭</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">主动上报接收数据功能</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">）：</span></span></p>

<table class="MsoNormalTable"><tr><td><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+SKRPTM=&lt;mode&gt;&lt;CR&gt;</span></p><p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p></td></tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></span><span style="font-weight:700;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span></span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> Mode</span><span style="font-size:10.5pt;font-family:'宋体';">：</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-yDmHAa7n5b8f3a17e6fc8.jpg" class="img-responsive" style="width:526.5px;" alt="attachments-2018-09-yDmHAa7n5b8f3a17e6fc8.jpg" /></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">示例：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">→</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> SKRPTM=</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span></p>
  </td>
 </tr><tr><td>
  <p><span style="font-size:10.5pt;font-family:'宋体';">←</span></p>
  </td>
  <td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK</span></p>
  </td>
 </tr></table>

<p><b> </b></p>



<h4><b><span style="font-size:12pt;">2.2.3.18<span style="font-size:7pt;font-family:'Times New Roman';">         
</span></span><span style="font-size:12pt;font-family:'黑体';">一键配置功能：</span><span style="font-size:12pt;">AT+ONESHOT</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span><span style="font-size:10.5pt;font-family:'宋体';">打开和关闭一键配置功能</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><span style="font-size:10.5pt;font-family:'宋体';">格式（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span><span style="font-size:10.5pt;font-family:'宋体';">）：</span></p>

<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+ONESHOT=&lt;status&gt;&lt;CR&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">   </span></b></p>





<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> status</span><span style="font-size:10.5pt;font-family:'宋体';">：</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-khJNYAKG5b8f3ac7e0ab4.jpg" class="img-responsive" style="width:527px;" alt="attachments-2018-09-khJNYAKG5b8f3ac7e0ab4.jpg" /><span style="font-size:10.5pt;font-family:'宋体';"><span style="font-family:Wingdings;">l</span><span style="font-size:7pt;font-family:'Times New Roman';">  </span><b><span style="font-size:10.5pt;">示例：</span></b><br /></span><img src="http://oldask.openluat.com/image/show/attachments-2018-09-k9CmKck75b8f3baa644d8.jpg" class="img-responsive" style="width:623px;" alt="attachments-2018-09-k9CmKck75b8f3baa644d8.jpg" /></p>

<h4><b><span style="font-size:12pt;"><br /></span></b></h4>

<h4><b><span style="font-size:12pt;">2.2.3.19<span style="font-size:7pt;font-family:'Times New Roman';">         </span></span><span style="font-size:12pt;">HTTP</span><span style="font-size:12pt;font-family:'黑体';">客户端</span><span style="font-size:12pt;">post get</span><span style="font-size:12pt;font-family:'黑体';">功能：</span><span style="font-size:12pt;">AT+HTTPC</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">http</span><span style="font-size:10.5pt;font-family:'宋体';">客户端</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">post get</span><span style="font-size:10.5pt;font-family:'宋体';">功能</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">格式（</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+HTTPC=&lt;url&gt;,&lt;verb&gt;,&lt;postdata&gt;&lt;CR&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">   </span></b></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  url</span><span style="font-size:10.5pt;font-family:'宋体';">：远程</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">http</span><span style="font-size:10.5pt;font-family:'宋体';">服务器端地址；</span></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  verb</span><span style="font-size:10.5pt;font-family:'宋体';">：</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-zr8Wfk7T5b8f3d6b3a986.jpg" class="img-responsive" style="width:528px;" alt="attachments-2018-09-zr8Wfk7T5b8f3d6b3a986.jpg" /><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">       post data</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">verb</span><span style="font-size:10.5pt;font-family:'宋体';">为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="font-size:10.5pt;font-family:'宋体';">、</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="font-size:10.5pt;font-family:'宋体';">时使用，为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">http</span><span style="font-size:10.5pt;font-family:'宋体';">上传数据。</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">       </span><span style="font-size:10.5pt;font-family:'宋体';">备注：使用</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">httpc</span><span style="font-size:10.5pt;font-family:'宋体';">指令前需要打开</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">主动上报功能</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+SKRPTM=1</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h3><b><span style="font-size:12pt;font-family:Arial, sans-serif;">2.2.4<span style="font-size:7pt;font-family:'Times New Roman';">        </span></span><span style="font-size:12pt;font-family:Arial, sans-serif;">MQTT</span><span style="font-size:12pt;font-family:'宋体';">指令</span></b></h3>

<h4><b><span style="font-size:12pt;">2.2.4.1<span style="font-size:7pt;font-family:'Times New Roman';">    </span></span><span style="font-size:12pt;font-family:'黑体';">设置</span><span style="font-size:12pt;">MQTT</span><span style="font-size:12pt;font-family:'黑体';">服务器：</span><span style="font-size:12pt;">AT+MSERVER</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MQTT</span><span style="font-size:10.5pt;font-family:'宋体';">服务器</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址和端口。</span></p>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式（</span><span>ASCII</span></b><b><span style="font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable" width="605"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MSERVER=&lt;port&gt;,&lt;ipaddr&gt;</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;CR&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;port&gt;</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MQTT</span><span style="font-size:10.5pt;font-family:'宋体';">服务器端口号，不用加双引号</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;ipaddr&gt;</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MQTT</span><span style="font-size:10.5pt;font-family:'宋体';">服务器</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址（暂不支持域名地址），不用加双引号</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h4><b><span style="font-size:12pt;">2.2.4.2<span style="font-size:7pt;font-family:'Times New Roman';">         
</span></span><span style="font-size:12pt;font-family:'黑体';">设置登录账号和密码：</span><span style="font-size:12pt;">AT+MLOGIN</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MQTT</span><span style="font-size:10.5pt;font-family:'宋体';">用户名和密码。</span></p>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式（</span><span>ASCII</span></b><b><span style="font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable" width="605"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MLOGIN=&lt;user&gt;,&lt;password&gt;</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;CR&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;user&gt;</span><span style="font-size:10.5pt;font-family:'宋体';">：用户名，不用加双引号</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;password&gt;</span><span style="font-size:10.5pt;font-family:'宋体';">：密码，不用加双引号</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h4><b><span style="font-size:12pt;">2.2.4.3<span style="font-size:7pt;font-family:'Times New Roman';">         
</span></span><span style="font-size:12pt;font-family:'黑体';">设置</span><span style="font-size:12pt;">client
id</span><span style="font-size:12pt;font-family:'黑体';">：</span><span style="font-size:12pt;">AT+MID</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MQTT</span><span style="font-size:10.5pt;font-family:'宋体';">的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">client id</span><span style="font-size:10.5pt;font-family:'宋体';">。</span></p>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式（</span><span>ASCII</span></b><b><span style="font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable" width="605"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MID=&lt;client_id&gt;</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;CR&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;client_id&gt;</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">client id</span><span style="font-size:10.5pt;font-family:'宋体';">，不用加双引号</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h4><b><span style="font-size:12pt;">2.2.4.4<span style="font-size:7pt;font-family:'Times New Roman';">         
</span></span><span style="font-size:12pt;font-family:'黑体';">连接</span><span style="font-size:12pt;">MQTT</span><span style="font-size:12pt;font-family:'黑体';">服务器：</span><span style="font-size:12pt;">AT+MCONNECT</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">连接</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MQTT</span><span style="font-size:10.5pt;font-family:'宋体';">服务器。</span></p>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式（</span><span>ASCII</span></b><b><span style="font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable" width="605"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MCONNECT</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;CR&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p>
  <p><span style="background-color:transparent;font-size:10.5pt;font-family:'宋体';">成功：</span><span style="background-color:transparent;font-size:10.5pt;font-family:Arial, sans-serif;">+MQTT:CONNECTED </span><span style="background-color:transparent;font-size:10.5pt;font-family:Arial, sans-serif;">&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span><br /></p>
  <p><span style="font-size:10.5pt;font-family:'宋体';">失败：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+MQTT:FAIL</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">无</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h4><b><span style="font-size:12pt;">2.2.4.5<span style="font-size:7pt;font-family:'Times New Roman';">         
</span></span><span style="font-size:12pt;font-family:'黑体';">订阅一个主题：</span><span style="font-size:12pt;">AT+MSUB</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">订阅一个主题。</span></p>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式（</span><span>ASCII</span></b><b><span style="font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable" width="605"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MSUB=&lt;topics&gt;,&lt;qos&gt;</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;CR&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span><span style="background-color:transparent;font-size:10.5pt;font-family:'宋体';">成功：</span><span style="background-color:transparent;font-size:10.5pt;font-family:Arial, sans-serif;">+MSUB:OK</span></p>
  <p><span style="font-size:10.5pt;font-family:'宋体';">失败：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+MSUB:&lt;result&gt;</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;result&gt;</span><span style="font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:'宋体';">结果码</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h4><b><span style="font-size:12pt;">2.2.4.6<span style="font-size:7pt;font-family:'Times New Roman';">         
</span></span><span style="font-size:12pt;font-family:'黑体';">发布一条消息：</span><span style="font-size:12pt;">AT+MPUB</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">发布一条消息。</span></p>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式（</span><span>ASCII</span></b><b><span style="font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable" width="605"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MPUB=&lt;topics&gt;,&lt;qos&gt;,&lt; retatin&gt;,&lt;mssage&gt;&lt;CR&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span><span style="background-color:transparent;font-size:10.5pt;font-family:'宋体';">成功：</span><span style="background-color:transparent;font-size:10.5pt;font-family:Arial, sans-serif;">+MPUB:OK</span></p>
  <p><span style="font-size:10.5pt;font-family:'宋体';">失败：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+MPUB:&lt;result&gt;</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;result&gt;</span><span style="font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:'宋体';">结果码</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h4><b><span style="font-size:12pt;">2.2.4.7<span style="font-size:7pt;font-family:'Times New Roman';">         
</span></span><span style="font-size:12pt;font-family:'黑体';">收到一条消息：</span><span style="font-size:12pt;">AT+MTOPIC,AT+MQD</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">收到一条消息。</span></p>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式（</span><span>ASCII</span></b><b><span style="font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable" width="605"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+MTOPIC:&lt;topiclen&gt;,&lt;topic&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+MQD:&lt;len&gt;,&lt;data&gt;</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;topiclen&gt;</span><span style="font-size:10.5pt;font-family:'宋体';">：主题长度</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;topic&gt;</span><span style="font-size:10.5pt;font-family:'宋体';">：主题内容</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;len&gt;</span><span style="font-size:10.5pt;font-family:'宋体';">：消息内容的长度</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;data&gt;</span><span style="font-size:10.5pt;font-family:'宋体';">：消息内容</span></p>



<p><b> </b></p>



<h4><b><span style="font-size:12pt;">2.2.4.8<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:12pt;font-family:'黑体';">关闭</span><span style="font-size:12pt;">MQTT</span><span style="font-size:12pt;font-family:'黑体';">服务器：</span><span style="font-size:12pt;">AT+MCLOSE</span></b></h4>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">功能：</span></b><span style="font-size:10.5pt;font-family:'宋体';">关闭</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MQTT</span><span style="font-size:10.5pt;font-family:'宋体';">服务器。</span></p>

<p><span style="font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';"> 
</span></span><b><span style="font-family:'宋体';">格式（</span><span>ASCII</span></b><b><span style="font-family:'宋体';">）：</span></b></p>



<table class="MsoNormalTable" width="605"><tr><td>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MCLOSE</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">&lt;CR&gt;</span></p>
  <p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">+OK&lt;CR&gt;&lt;LF&gt;&lt;CR&gt;&lt;LF&gt;</span></p>
  </td>
 </tr></table>

<p><span style="font-size:10.5pt;font-family:Wingdings;">l<span style="font-size:7pt;font-family:'Times New Roman';">  </span></span><b><span style="font-size:10.5pt;font-family:'宋体';">参数：</span></b><span style="font-family:'宋体';font-size:10.5pt;">无</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<h4><b><span style="font-size:12pt;">2.2.4.9<span style="font-size:7pt;font-family:'Times New Roman';">    </span></span>MQTT<span style="font-size:12pt;font-family:'宋体';">结果码</span></b></h4>





<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-rKhbjMrn5b8f40121f371.jpg" class="img-responsive" style="width:651.5px;" alt="attachments-2018-09-rKhbjMrn5b8f40121f371.jpg" /><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<p><span> </span></p>

<h4><b><span style="font-size:12pt;">2.2.4.10<span style="font-size:7pt;font-family:'Times New Roman';">         
</span></span><span style="font-size:12pt;">MQTT</span><span style="font-size:12pt;font-family:'黑体';">使用方法示例</span></b></h4>

<p><span style="font-size:10.5pt;font-family:'宋体';">注意：目前</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MSERVER</span><span style="font-size:10.5pt;font-family:'宋体';">命令中</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MQTT </span><span style="font-size:10.5pt;font-family:'宋体';">服务器地址暂不支持域名，只支持</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-KXe1E71d5b8f41e120a96.jpg" class="img-responsive" style="width:653.5px;" alt="attachments-2018-09-KXe1E71d5b8f41e120a96.jpg" /><img src="http://oldask.openluat.com/image/show/attachments-2018-09-0JdBg0yD5b8f41e8b031a.jpg" class="img-responsive" style="width:653.5px;" alt="attachments-2018-09-0JdBg0yD5b8f41e8b031a.jpg" /></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h1><b><font><span style="font-size:21.3333px;">3</span></font><span style="font-family:'Times New Roman';font-size:7pt;">         </span><span style="font-size:16pt;font-family:'宋体';">常用操作</span></b></h1>

<h2><b><span style="font-size:14pt;">3.1<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-size:14pt;font-family:'黑体';">创建</span><span style="font-size:14pt;">SoftAP</span><span style="font-size:14pt;font-family:'黑体';">流程</span></b></h2>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">（1）<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WPRT</span><span style="font-size:10.5pt;font-family:'宋体';">设置无线网卡工作模式为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SoftAP</span></p>

<p>            <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WPRT=2</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">（2）<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">APSSID</span><span style="font-size:10.5pt;font-family:'宋体';">设置无线网卡对于</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">STA</span><span style="font-size:10.5pt;font-family:'宋体';">的网络名称</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MyAp</span></p>

<p>            <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AP</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SSID=MyAp</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">（3）<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">APENCRY</span><span style="font-size:10.5pt;font-family:'宋体';">设置无线网卡安全模式为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WEP64</span></p>

<p>            <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AP</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ENCRY=1</span></p>

<p>            <span style="font-size:10.5pt;font-family:'宋体';">参数：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">open</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WEP64</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WEP128</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">（4）<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">APKEY</span><span style="font-size:10.5pt;font-family:'宋体';">设置无线网卡密钥</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">12345</span></p>

<p>            <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AP</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">KEY=1,1,12345</span></p>

<p>            <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">：密钥格式，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0</span><span style="font-size:10.5pt;font-family:'宋体';">表示</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">HEX</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">表示</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></p>

<p>            <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">index: </span><span style="font-size:10.5pt;font-family:'宋体';">密钥索引号，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">～</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">4</span><span style="font-size:10.5pt;font-family:'宋体';">用于</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WEP</span><span style="font-size:10.5pt;font-family:'宋体';">加密密钥，其它加密方式固定为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0 </span></p>

<p>            <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="font-size:10.5pt;font-family:'宋体';">：无线密钥。例如：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">12345</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">（5）<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">APNIP</span><span style="font-size:10.5pt;font-family:'宋体';">设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ip</span><span style="font-size:10.5pt;font-family:'宋体';">地址和子网掩码</span></p>

<p>            <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+APNIP=1,192.168.1.1,255.255.255.0,192.168.1.1,192.168.1.1</span></p>

<p>           <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">：地址类型，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0</span><span style="font-size:10.5pt;font-family:'宋体';">表示使用</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">DHCP</span><span style="font-size:10.5pt;font-family:'宋体';">动态分配，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">表示静态地址</span></p>

<p>           <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ip:192.168.1.1</span></p>

<p>           <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">netmask</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">255.255.255.0</span></p>

<p>           <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">4</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">gateway</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">192.168.1.1</span></p>

<p>           <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">5</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">dns</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">192.168.1.1</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">6</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">PMTF</span><span style="font-size:10.5pt;font-family:'宋体';">保存</span><span style="font-size:10.5pt;font-family:'宋体';">上述</span><span style="font-size:10.5pt;font-family:'宋体';">参数到</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">spi flash</span><span style="font-size:10.5pt;font-family:'宋体';">，下次开机只需从第</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">7</span><span style="font-size:10.5pt;font-family:'宋体';">步开始</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+PMTF</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">7</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  <span>WJOIN</span></span><span style="font-size:10.5pt;font-family:'宋体';">创建无线网络</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">MyAp</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WJOIN</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">8</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  SLIST      </span><span style="font-size:10.5pt;font-family:'宋体';">查询</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SoftAP</span><span style="font-size:10.5pt;font-family:'宋体';">连接的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">STA</span><span style="font-size:10.5pt;font-family:'宋体';">信息</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+SLIST</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<p><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span><span style="font-family:inherit;font-size:14pt;background-color:rgb(255,255,255);">3.2<span style="font-size:7pt;font-family:'Times New Roman';">        </span></span><span style="font-family:'黑体';font-size:14pt;background-color:rgb(255,255,255);">扫描</span><span style="color:inherit;font-family:inherit;font-size:14pt;">AP</span><span style="color:inherit;font-size:14pt;font-family:'黑体';">流程</span></b></p>



<p><span style="font-family:'宋体';">无线网卡扫</span><span style="font-size:10.5pt;font-family:'宋体';">描</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AP</span><span style="font-size:10.5pt;font-family:'宋体';">的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT</span><span style="font-size:10.5pt;font-family:'宋体';">指令为：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WSCAN</span></p>



<p> </p>

<h2><b><span style="font-size:14pt;">3.3<span style="font-size:7pt;font-family:'Times New Roman';">        </span></span><span style="font-size:14pt;">STA</span><span style="font-size:14pt;font-family:'黑体';">加入</span><span style="font-size:14pt;">AP</span><span style="font-size:14pt;font-family:'黑体';">流程</span></b></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WPRT
</span><span style="font-size:10.5pt;font-family:'宋体';">设置工作模式为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">STA</span></p>

<p>            <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WPRT=0</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SSID  </span><span style="font-size:10.5pt;font-family:'宋体';">设置需要加入的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AP</span><span style="font-size:10.5pt;font-family:'宋体';">名称如</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TEST_AP</span></p>

<p>            <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+SSID=</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TEST_AP</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  <span>KEY   </span></span><span style="font-size:10.5pt;font-family:'宋体';">设置需要加入的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AP</span><span style="font-size:10.5pt;font-family:'宋体';">的无线密钥</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">12345</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+KEY=1,0,12345678</span></p>

<p>           <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">：密钥格式，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0</span><span style="font-size:10.5pt;font-family:'宋体';">表示</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">HEX</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">表示</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></p>

<p>           <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">index:
</span><span style="font-size:10.5pt;font-family:'宋体';">密钥索引号，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">～</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">4</span><span style="font-size:10.5pt;font-family:'宋体';">用于</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WEP</span><span style="font-size:10.5pt;font-family:'宋体';">加密密钥，其它加密方式固定为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0
</span></p>

<p>           <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="font-size:10.5pt;font-family:'宋体';">：无线密钥。例如：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">12345678</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">4</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">NIP   </span><span style="font-size:10.5pt;font-family:'宋体';">启用</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">DHCP</span></p>

<p>            <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+NIP=0</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">5</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">PMTF
</span><span style="font-size:10.5pt;font-family:'宋体';">保存</span><span style="font-size:10.5pt;font-family:'宋体';">上述</span><span style="font-size:10.5pt;font-family:'宋体';">参数到</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">spi flash</span><span style="font-size:10.5pt;font-family:'宋体';">，下次开机只需从第</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">6</span><span style="font-size:10.5pt;font-family:'宋体';">步开始</span></p>

<p>            <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+PMTF</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">6</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  <span>WJOIN</span></span><span style="font-size:10.5pt;font-family:'宋体';">加入无线网络</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TEST_AP</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WJOIN</span></p>



<p> </p>

<h2><b><span style="font-size:14pt;">3.4<span style="font-size:7pt;font-family:'Times New Roman';">         </span></span><span style="font-size:14pt;font-family:'黑体';">创建</span><span style="font-size:14pt;">APSTA</span><span style="font-size:14pt;font-family:'黑体';">流程</span></b></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WPRT
</span><span style="font-size:10.5pt;font-family:'宋体';">设置工作模式为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">APSTA</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WPRT=3</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SSID   </span><span style="font-size:10.5pt;font-family:'宋体';">设置需要加入的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AP</span><span style="font-size:10.5pt;font-family:'宋体';">名称如</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TEST_AP</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+SSID=</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TEST_AP</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  <span>KEY    </span></span><span style="font-size:10.5pt;font-family:'宋体';">设置需要加入的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AP</span><span style="font-size:10.5pt;font-family:'宋体';">的无线密钥</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">12345</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+KEY=1,0,12345678</span></p>

<p>           <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">：密钥格式，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0</span><span style="font-size:10.5pt;font-family:'宋体';">表示</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">HEX</span><span style="font-size:10.5pt;font-family:'宋体';">，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">表示</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span></p>

<p>           <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">index:
</span><span style="font-size:10.5pt;font-family:'宋体';">密钥索引号，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;font-family:'宋体';">～</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">4</span><span style="font-size:10.5pt;font-family:'宋体';">用于</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WEP</span><span style="font-size:10.5pt;font-family:'宋体';">加密密钥，其它加密方式固定为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">0
</span></p>

<p>           <span style="font-size:10.5pt;font-family:'宋体';">参数</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="font-size:10.5pt;font-family:'宋体';">：无线密钥。例如：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">12345678</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">4</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  <span>APSSID </span></span><span style="font-size:10.5pt;font-family:'宋体';">设置创建的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SOFTAP</span><span style="font-size:10.5pt;font-family:'宋体';">的网络名称</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AP</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SSID=”MYSoftAP”</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">5</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  APENCRY      </span><span style="font-size:10.5pt;font-family:'宋体';">设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SoftAP</span><span style="font-size:10.5pt;font-family:'宋体';">的加密类型</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">(</span><span style="font-size:10.5pt;font-family:'宋体';">如</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WPA2-TKIP)</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+APENCRY=5</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">6</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  APKEY    </span><span style="font-size:10.5pt;font-family:'宋体';">设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SoftAP</span><span style="font-size:10.5pt;font-family:'宋体';">的密码</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">(</span><span style="font-size:10.5pt;font-family:'宋体';">如</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ASCII</span><span style="font-size:10.5pt;font-family:'宋体';">码</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">87654321)</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+APKEY=1,0,87654321</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">7</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  APNIP     </span><span style="font-size:10.5pt;font-family:'宋体';">设置</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">IP</span><span style="font-size:10.5pt;font-family:'宋体';">地址和子网掩码</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+APNIP=1,192.168.1.1,255.255.255.0,192.168.1.1,192.168.1.1</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">8</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">PMTF </span><span style="font-size:10.5pt;font-family:'宋体';">保存</span><span style="font-size:10.5pt;font-family:'宋体';">上述</span><span style="font-size:10.5pt;font-family:'宋体';">参数到</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">spi flash</span><span style="font-size:10.5pt;font-family:'宋体';">，下次开机只需从第</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">9</span><span style="font-size:10.5pt;font-family:'宋体';">步开始</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+PMTF</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">9</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WJOIN </span><span style="font-size:10.5pt;font-family:'宋体';">加入无线网络</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TEST_AP</span></p>

<p>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WJOIN</span></p>



<p> </p>

<h2><b><span style="font-size:14pt;">3.5<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-size:14pt;">STA</span><span style="font-size:14pt;font-family:'黑体';">如何断开连接的</span><span style="font-size:14pt;">AP</span></b></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">无线网卡断开</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AP</span><span style="font-size:10.5pt;font-family:'宋体';">的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT</span><span style="font-size:10.5pt;font-family:'宋体';">指令为：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WLEAV</span></p>

<h2><b><span style="font-size:14pt;">3.6<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;">SoftAP</span><span style="font-size:14pt;font-family:'黑体';">断网</span></b></h2>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SoftAP</span><span style="font-size:10.5pt;font-family:'宋体';">断网的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT</span><span style="font-size:10.5pt;font-family:'宋体';">指令为：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+WLEAV=2</span></p>



<p> </p>

<h2><b><span style="font-size:14pt;">3.7<span style="font-size:7pt;font-family:'Times New Roman';">      </span></span><span style="font-size:14pt;">STA</span><span style="font-size:14pt;font-family:'黑体';">如何查看当前状态</span></b></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">无线网卡查看当前网卡的状态的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT</span><span style="font-size:10.5pt;font-family:'宋体';">指令为：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+LKSTT</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h2><b><span style="font-size:14pt;">3.8<span style="font-size:7pt;font-family:'Times New Roman';">      </span></span><span style="font-size:14pt;font-family:'黑体';">查看当前</span><span style="font-size:14pt;">SoftAP</span><span style="font-size:14pt;font-family:'黑体';">状态</span></b></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">查看当前</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SoftAP</span><span style="font-size:10.5pt;font-family:'宋体';">状态的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT</span><span style="font-size:10.5pt;font-family:'宋体';">指令为：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+APLKSTT</span></p>

<p><span> </span></p>

<h2><b><span style="font-size:14pt;">3.9<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:14pt;font-family:'黑体';">如何使用</span><span style="font-size:14pt;">socket</span><span style="font-size:14pt;font-family:'黑体';">功能</span></b></h2>

<p><span style="font-size:10.5pt;font-family:'宋体';">









































































































































































<p><span style="font-size:10.5pt;">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1</span><span style="font-size:10.5pt;">）</span><span style="font-size:10.5pt;">建立一个</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">PC</span><span style="font-size:10.5pt;">端的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TCP server</span><span style="font-size:10.5pt;">，如使用</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TCP</span><span style="font-size:10.5pt;">调试助手，</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TCP server</span><span style="font-size:10.5pt;">地址为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">192.168.1.100</span><span style="font-size:10.5pt;">，监听端口为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">1000</span><span style="font-size:10.5pt;">。</span></span></p></p>
<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-ncE91qEw5b8f44c3efd9a.png" class="img-responsive" alt="attachments-2018-09-ncE91qEw5b8f44c3efd9a.png" /><span style="font-size:10.5pt;font-family:'宋体';"><span style="font-size:10.5pt;"><br /></span></span></p>

<p style="text-align:center;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">2</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:'宋体';">建立</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Socket</span><span style="font-size:10.5pt;font-family:'宋体';">：</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TX:      AT+SKCT=0,0,192.168.1.100,1000,1000</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">RX:      +OK=1     ---&gt; 1</span><span style="font-size:10.5pt;font-family:'宋体';">为</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">号</span></p>

<p><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Note</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">：在发送</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">SKCT</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">之前，请先保证模块已经连接了有</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">INTERNET</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">连接的</span></b><b><span style="font-size:10.5pt;font-family:Arial, sans-serif;">WIFI</span></b><b><span style="font-size:10.5pt;font-family:'宋体';">热点。</span></b></p>

<p><b><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></b></p>





<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-cw9tOzhW5b8f44fa21e4c.png" class="img-responsive" alt="attachments-2018-09-cw9tOzhW5b8f44fa21e4c.png" /><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p style="text-align:center;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">3</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span><span style="font-size:10.5pt;font-family:'宋体';">发送数据：</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TX:       AT+SKSND=1,5</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">kevin</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">RX</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">    +OK=5</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-95MirnFS5b8f46137aadd.png" class="img-responsive" alt="attachments-2018-09-95MirnFS5b8f46137aadd.png" /></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TCP server</span><span style="font-size:10.5pt;font-family:'宋体';">接收到数据界面为：</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-zOIKAU2l5b8f463a5a267.png" class="img-responsive" alt="attachments-2018-09-zOIKAU2l5b8f463a5a267.png" /></p>

<p style="text-align:center;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">4</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:'宋体';">接收数据：</span></p>



<p><span style="font-size:10.5pt;font-family:'宋体';">在</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TCP</span><span style="font-size:10.5pt;font-family:'宋体';">调试助手界面输入发送数据</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">hello</span><span style="font-size:10.5pt;font-family:'宋体';">，点击发送。</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-iOP3df7m5b8f4713b5153.png" class="img-responsive" alt="attachments-2018-09-iOP3df7m5b8f4713b5153.png" /><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TX</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">      AT+SKRCV=1,5</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">RX</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">      +OK=5</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">hello</span></p>





<p><br /></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-I1Cr6r275b8f4746cdfca.png" class="img-responsive" alt="attachments-2018-09-I1Cr6r275b8f4746cdfca.png" /><br /></p>



<p style="text-align:center;"><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">5</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:'宋体';">查询</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Socket</span><span style="font-size:10.5pt;font-family:'宋体';">状态：</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TX</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">   AT+SKSTT=1</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">RX</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  +OK=1,2,"192.168.1.100",1000,1024,0</span></p>





<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-p9bvkgdX5b8f47d08ab6d.png" class="img-responsive" alt="attachments-2018-09-p9bvkgdX5b8f47d08ab6d.png" /></p>

<p><span style="font-size:10.5pt;font-family:'宋体';">（</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">6</span><span style="font-size:10.5pt;font-family:'宋体';">）</span><span style="font-size:10.5pt;font-family:'宋体';">关闭</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Socket</span><span style="font-size:10.5pt;font-family:'宋体';">连接</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">TX</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">   AT+SKCLS=1</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">RX</span><span style="font-size:10.5pt;font-family:'宋体';">：</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  +OK</span></p>

<p><img src="http://oldask.openluat.com/image/show/attachments-2018-09-dSzTkDrh5b8f47f386302.png" class="img-responsive" alt="attachments-2018-09-dSzTkDrh5b8f47f386302.png" /></p>

<p><br /></p>



<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;"> </span></p>

<h3><b><span>3.10<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-family:'黑体';">自动工作模式下的透传应用</span></b></h3>

<p><span style="font-family:Arial, sans-serif;">（1）<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-family:Arial, sans-serif;">WPRT </span><span style="font-family:'宋体';">设置无线网卡工作模式为</span><span style="font-family:Arial, sans-serif;">STA</span></p>

<p>            <span style="font-family:Arial, sans-serif;">AT+WPRT=0</span></p>

<p><span style="font-family:Arial, sans-serif;">（2）<span style="font-size:7pt;font-family:'Times New Roman';">     </span></span><span style="font-family:Arial, sans-serif;">SSID </span><span style="font-family:'宋体';">设置需要加入的</span><span style="font-family:Arial, sans-serif;">AP</span><span style="font-family:'宋体';">名称如</span><span style="font-family:Arial, sans-serif;">airm2m_wifi</span></p>

<p>            <span style="font-family:Arial, sans-serif;">AT+SSID=</span><span style="font-family:Arial, sans-serif;">airm2m_wifi</span></p>

<p><span style="font-family:Arial, sans-serif;">（3）<span style="font-size:7pt;font-family:'Times New Roman';">      </span></span><span style="font-family:Arial, sans-serif;">KEY  </span><span style="font-family:'宋体';">设置需要加入的</span><span style="font-family:Arial, sans-serif;">AP</span><span style="font-family:'宋体';">的无线密钥</span><span style="font-family:Arial, sans-serif;">12345678</span></p>

<p>            <span style="font-family:Arial, sans-serif;">AT+KEY=1,0,12345678</span></p>

<p><span style="font-family:Arial, sans-serif;">（4）<span style="font-size:7pt;font-family:'Times New Roman';">      </span></span><span style="font-family:Arial, sans-serif;">NIP   </span><span style="font-family:'宋体';">启用</span><span style="font-family:Arial, sans-serif;">DHCP</span></p>

<p><span style="font-family:Arial, sans-serif;"> </span>            <span style="font-family:Arial, sans-serif;">AT+NIP=0</span></p>

<p><span style="font-family:Arial, sans-serif;">（5）<span style="font-size:7pt;font-family:'Times New Roman';">      </span></span><span style="font-family:Arial, sans-serif;">ATM  </span><span style="font-family:'宋体';">设置为自动工作模式</span></p>

<p><span style="font-family:Arial, sans-serif;"> </span>            <span style="font-family:Arial, sans-serif;">AT+ATM=0</span></p>

<p><span style="font-family:Arial, sans-serif;">（6）<span style="font-size:7pt;font-family:'Times New Roman';">      </span></span><span style="font-family:Arial, sans-serif;">ATRM </span><span style="font-family:'宋体';">设置自动工作模式下的</span><span style="font-family:Arial, sans-serif;">socket</span><span style="font-family:'宋体';">连接</span></p>

<p><span style="font-family:Arial, sans-serif;"> </span>            <span style="font-family:Arial, sans-serif;">AT+</span><span style="font-family:Arial, sans-serif;">ATRM</span><span style="font-family:Arial, sans-serif;">=0,0,192.168.1.100,1000</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">（7）<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-family:Arial, sans-serif;">PMTF</span><span style="font-size:10.5pt;font-family:'宋体';">保存参数到</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">spi
flash</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span>            <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+PMTF</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">（8）<span style="font-size:7pt;font-family:'Times New Roman';">       </span></span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">Z  </span><span style="font-size:10.5pt;font-family:'宋体';">复位无线网卡使配置生效</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">  </span>           <span style="font-size:10.5pt;font-family:Arial, sans-serif;">AT+Z</span></p>

<p><span style="font-size:10.5pt;font-family:Arial, sans-serif;">             </span><span style="font-size:10.5pt;font-family:'宋体';">复位后，模块自动建立</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">ATRM</span><span style="font-size:10.5pt;font-family:'宋体';">设置的</span><span style="font-size:10.5pt;font-family:Arial, sans-serif;">socket</span><span style="font-size:10.5pt;font-family:'宋体';">连接。如果使用过程中断链，会自动重连。</span></p>

<p><span style="font-size:10.5pt;font-family:'宋体';"><br /></span></p>

<h4><span style="font-weight:bold;">相关文章：</span></h4>

<p style="color:rgb(51,51,51);"><a href="http://oldask.openluat.com/article/42" target="_blank" rel="noreferrer noopener">合宙Luat WiFi模块AT指令手册及示例（二）</a></p>

<p style="color:rgb(51,51,51);"><a href="http://oldask.openluat.com/article/40" target="_blank" rel="noreferrer noopener">合宙Luat WiFi模块AT指令手册及示例（一）</a></p>

<p style="color:rgb(51,51,51);"><br /></p>

<p style="color:rgb(51,51,51);"><br /><br /></p>




      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2018/09/05/425/" data-id="ckkfmdgfm00esvkcg3uusb1eg" data-title="合宙Luat WiFi模块AT指令手册及示例（三）" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/54/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/53/">53</a><a class="page-number" href="/page/54/">54</a><span class="page-number current">55</span><a class="page-number" href="/page/56/">56</a><a class="page-number" href="/page/57/">57</a><span class="space">&hellip;</span><a class="page-number" href="/page/59/">59</a><a class="extend next" rel="next" href="/page/56/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2032/01/">一月 2032</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2032/01/01/608/">【置顶】合宙模块资料汇总</a>
          </li>
        
          <li>
            <a href="/2022/12/31/638/">Air系列模块常见问题列表</a>
          </li>
        
          <li>
            <a href="/2021/01/27/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2021/01/27/2420/">ECMAScript(ES6)基本语法介绍（一）</a>
          </li>
        
          <li>
            <a href="/2021/01/26/2417/">Air720S系列_luat二次开发固件（ 底层软件+上层脚本）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 chenxuuu<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>