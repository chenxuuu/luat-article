<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Luat doc 社区文章静态页面镜像</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Luat doc 社区文章静态页面镜像">
<meta property="og:type" content="website">
<meta property="og:title" content="Luat doc 社区文章静态页面镜像">
<meta property="og:url" content="https://doc.luatos.wiki/page/38/index.html">
<meta property="og:site_name" content="Luat doc 社区文章静态页面镜像">
<meta property="og:description" content="Luat doc 社区文章静态页面镜像">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="chenxuuu">
<meta property="article:tag" content="lua">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Luat doc 社区文章静态页面镜像" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Luat doc 社区文章静态页面镜像</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://doc.luatos.wiki"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-606" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/12/606/" class="article-date">
  <time class="dt-published" datetime="2019-08-12T14:42:38.000Z" itemprop="datePublished">2019-08-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/12/606/">玩转天猫精灵（一）云端开发</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;p&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;最近在和群友玩天猫精灵，记录一下如何将我们自己的硬件接入天猫精灵并通过它控制设备，可以用在智能家居开发。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2019-08-AQOUjXbI5d517b50eb3d9.png&quot; style=&quot;width: 50%;&quot; class=&quot;img-responsive&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;span style=&quot;color: rgb(77, 77, 77); font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px;&quot;&gt;整体业务流程如图，当我们发出一条语音指令，天猫精灵会在本地进行识别并将结果上传到天猫精灵后台，天猫精灵后台会根据语音数据库对消息内容进行匹配，如果是匹配好的控制设备的指令，天猫精灵后台会推送消息到阿里云物联平台，平台推送指令到设备。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-bottom: 16px; outline: 0px; padding: 0px; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;找到阿里云物联网，行业服务，智能生活开放平台。&lt;/p&gt;&lt;p style=&quot;margin-bottom: 16px; outline: 0px; padding: 0px; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2019-08-dueJgRPA5d517ba6dd7df.png&quot; style=&quot;width: 277px;&quot; class=&quot;img-responsive&quot;&gt;智能生活开发平台，新建项目&lt;/p&gt;&lt;p style=&quot;margin-bottom: 16px; outline: 0px; padding: 0px; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img src=&quot;http://oldask.openluat.com/image/show/attachments-2019-08-q1KyBFco5d517bbbb37b6.png&quot; style=&quot;width: 252px;&quot; class=&quot;img-responsive&quot;&gt;&lt;span style=&quot;font-size:10.5pt;mso-bidi-font-size:11.0pt;
</code></pre>
<p>font-family:等线;mso-ascii-theme-font:minor-latin;mso-fareast-theme-font:minor-fareast;<br>mso-hansi-theme-font:minor-latin;mso-bidi-font-family:&quot;Times New Roman&quot;;<br>mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN-US;mso-fareast-language:<br>ZH-CN;mso-bidi-language:AR-SA”&gt;创建产品</span></p><p style="margin-bottom: 16px; outline: 0px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-mm4NYzfP5d517be340048.png" style="width: 277px;" class="img-responsive">选择分类为灯</p><p style="margin-bottom: 16px; outline: 0px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-oz1UXPQY5d517c04b88bc.png" style="width: 277px;" class="img-responsive"></p><p class="MsoNormal">创建完成，点击创建的产品<span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p style="margin-bottom: 16px; outline: 0px; padding: 0px; font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-AT4us1pc5d517c3d93b68.png" style="width: 277px;" class="img-responsive"></p><p class="MsoNormal">默认功能即可</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-GgZ8l0XR5d517c50cbab3.png" style="width: 277px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;<br></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">选合宙模组<span lang="EN-US">202</span></p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-juYmOJpY5d517c662ecb0.png" style="width: 277px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">添加设备</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-1qJA6dGC5d517c7b075dd.png" style="width: 277px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;<br></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal"><span lang="EN-US">Imei</span>做设备名</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-VOM0H10u5d517c8d75ea1.png" style="width: 277px;" class="img-responsive"></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">记录三元组</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-wqtuttZK5d517cd84593f.png" style="width: 277px;" class="img-responsive"></p><p class="MsoNormal">激活公版<span lang="EN-US">app</span>按钮</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-KxqiACA65d517ced74cb7.png" style="width: 277px;" class="img-responsive"></p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-OTBvOfP25d517cf5af0de.png" style="width: 277px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">配置面板</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-HPZu1S4V5d517d0e76340.png" style="width: 167px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">选最简单的就可以</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-PmxwMMeA5d517d25df826.png" style="width: 277px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">分享方式默认</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-1C93AIEd5d517dd56ea2f.png" style="width: 277px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;<br></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">点进语言管理</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-lh6dJs7k5d517de85f606.png" style="width: 277px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">设置中文即可，其他不用管</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-eauh626G5d517dfdcad95.png" style="width: 277px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;<br></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">可以看到天猫精灵已经支持这么多类设备</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-8JQ3C8n05d517e14268dc.png" style="width: 277px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;<br></o:p></span></p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-GqKlMqKh5d517e1cde18c.png" style="width: 277px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">选配网二维码（<span lang="EN-US">2G</span>不需要配网，但是需要设备在线然后扫码绑定）</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-jkIuVCQE5d517e2f457bd.png" style="width: 144px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;<br></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">复制链接</p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-rnOWc3hX5d517e4d9ee71.png" style="width: 207px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;<br></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">末尾根据提示替换成设备名，我用了<span lang="EN-US">imei</span></p><p class="MsoNormal"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-1jodnCas5d517e8ab203c.png" style="width: 277px;" class="img-responsive"><span lang="EN-US">&lt;o:p&gt;<br></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">云平台操作结束<span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;<br></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;<br></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal"><span lang="EN-US">&lt;o:p&gt;<br></o:p></span></p><p><span style="color: rgb(51, 51, 51);"><br></span></p><p><span style="color: rgb(51, 51, 51);"><br></span></p><p><span style="color: rgb(51, 51, 51);"><br></span></p><p><span style="color: rgb(51, 51, 51);"><br></span></p><p><span style="color: rgb(51, 51, 51);"><br></span></p><p><span style="color: rgb(51, 51, 51);"><br></span><br></p></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/12/606/" data-id="ckkfmdgch008lvkcgbvj87lwr" data-title="玩转天猫精灵（一）云端开发" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-605" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/12/605/" class="article-date">
  <time class="dt-published" datetime="2019-08-12T08:31:37.000Z" itemprop="datePublished">2019-08-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/12/605/">Air系列AT控制命令，针对STM32F103C8T6的示例代码</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>代码下载：<a target="_blank" rel="noopener" href="https://oldask.openluat.com/file/attachments-2019-12-onjKMnkL5de74bdab814f_stm32f103c8t6%EF%BC%8CAT%E6%8E%A7%E5%88%B6air%E6%A8%A1%E5%9D%97.7z">stm32f103c8t6，AT控制air模块v1.0.2.7z</a></p>
<h1 id="代码使用说明"><a href="#代码使用说明" class="headerlink" title="代码使用说明"></a>代码使用说明</h1><p>需要使用keil编译，推荐新版本（比如keil5）</p>
<p>使用前需要更改<code>drivers/air/air.h</code>文件中的宏定义</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按需求更改型号</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AIR2XX_SUPPORT</span></span><br><span class="line"><span class="comment">//#define AIR720_SUPPORT</span></span><br></pre></td></tr></table></figure>
<h1 id="代码功能"><a href="#代码功能" class="headerlink" title="代码功能"></a>代码功能</h1><p>根据需求在<code>main.c</code>中更改执行的函数即可测试</p>
<p>实验1 GSM接电话<br>实验2 GSM打电话<br>实验3 GSM录音<br>实验4 发短信(TEXT模式)<br>实验5 发短信(PDU模式)<br>实验6 TCP透传<br>实验7 UDP透传<br>实验8 LBS基站定位</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/12/605/" data-id="ckkfmdgch008kvkcgbcgjdxib" data-title="Air系列AT控制命令，针对STM32F103C8T6的示例代码" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-604" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/08/604/" class="article-date">
  <time class="dt-published" datetime="2019-08-08T10:29:41.000Z" itemprop="datePublished">2019-08-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/08/604/">玩转天猫精灵（一）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;p&gt;诈尸更新，最近在玩天猫精灵，记录一下如何将我们自己的硬件接入天猫精灵并通过它控制设备，可以用在智能家居开发。&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/20190804190959515.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; style=&quot;width: 25%;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(77, 77, 77); font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px;&quot;&gt;整体业务流程如图，当我们发出一条语音指令，天猫精灵会在本地进行识别并将结果上传到天猫精灵后台，天猫精灵后台会根据语音数据库对消息内容进行匹配，如果是匹配好的控制设备的指令，天猫精灵后台会推送消息到阿里云物联平台，平台推送指令到设备。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;找到阿里云物联网，行业服务，智能生活开放平台&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;240&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141237558.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;554&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in; width: 50%;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;智能生活开发平台，新建项目&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;228&quot; src=&quot;https://img-blog.csdnimg.cn/2019080514141534.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;390&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;创建产品&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;436&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415144.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;707&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;选择分类为灯&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;355&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415126.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;346&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;创建完成，点击创建的产品&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;194&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415131.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;435&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;默认功能即可&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;377&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415181.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;547&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;选合宙模组202&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;288&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415246.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;596&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;添加设备&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;255&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415214.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;634&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;Imei做设备名&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;261&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415212.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;481&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;记录三元组&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;399&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415233.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;587&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;激活公版app按钮&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;91&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415234.png&quot; width=&quot;694&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;337&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415319.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;647&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;配置面板&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;238&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415253.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;220&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;选最简单的就可以&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;296&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415258.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;373&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;分享方式默认&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;271&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415276.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;625&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;点进语言管理&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;111&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415272.png&quot; width=&quot;855&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;设置中文即可，其他不用管&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;359&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415293.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;646&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;可以看到天猫精灵已经支持这么多类设备&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;75&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415292.png&quot; width=&quot;673&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;273&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415369.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;521&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;选配网二维码（2G不需要配网，但是需要设备在线然后扫码绑定）&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;118&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415324.png&quot; width=&quot;206&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;复制链接&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;268&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;322&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;末尾根据提示替换成设备名，我用了imei&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;&lt;img alt=&quot;&quot; class=&quot;has&quot; height=&quot;342&quot; src=&quot;https://img-blog.csdnimg.cn/20190805141415370.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Jvb3R1c2VyZXM=,size_16,color_FFFFFF,t_70&quot; width=&quot;626&quot; style=&quot;outline: 0px; max-width: 100%; overflow-wrap: break-word; cursor: zoom-in;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;outline: 0px; padding: 0px; margin-bottom: 16px; margin-left: 0cm; font-family: &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;SF Pro Display&amp;quot;, Roboto, Noto, Arial, &amp;quot;PingFang SC&amp;quot;, sans-serif; font-size: 16px; color: rgb(77, 77, 77); line-height: 26px; overflow-x: auto; overflow-wrap: break-word;&quot;&gt;云平台操作结束&lt;/p&gt;
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/08/604/" data-id="ckkfmdgej00ddvkcgd2ljhavs" data-title="玩转天猫精灵（一）" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-603" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/08/603/" class="article-date">
  <time class="dt-published" datetime="2019-08-08T08:41:31.000Z" itemprop="datePublished">2019-08-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/08/603/">Air系列模块远程升级功能汇总</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;div style=&quot;border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;&quot;&gt;
</code></pre>
<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><a name="下载安装"></a><b><span style="font-size:14.5pt;font-family:" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:18.0pt"="">一、远程升级功能概述</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"=""><o:p></o:p></span></b></p>

</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">Air</span><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">系列模块（本文指<span lang="EN-US">2G</span>和<span lang="EN-US">4G</span>模块）支持三种开发模式：<span lang="EN-US">AT</span>开发、<span lang="EN-US">Lua</span>开发、<span lang="EN-US">CSDK</span>开发，本文仅介绍<span lang="EN-US">AT</span>和<span lang="EN-US">Lua</span>两种开发模式的远程升级功能。不同开发模式的固件组成部分也不相同：<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT</span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">开发模式：<span lang="EN-US">core</span>固件<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lua</span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">开发模式：<span lang="EN-US">core</span>固件<span lang="EN-US">+</span>脚本<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">不同模块，不同开发模式，支持的远程升级功能也不尽相同，对比如下图所示<span lang="EN-US"><o:p></o:p></span></span></p><div align="center">

<table class="MsoTableGrid" style="border: none;" border="1" cellspacing="0" cellpadding="0">
 <tbody><tr style="mso-yfti-irow:0;mso-yfti-firstrow:yes;height:1.0pt">
  <td width="73" style="width:43.8pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:
  " 0pt"="" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:=""><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width="236" style="width:5.0cm;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-left:none;mso-border-left-alt:solid black .5pt;mso-border-left-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">是否支持远程升级功能<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="269" style="width:161.3pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-left:none;mso-border-left-alt:solid black .5pt;mso-border-left-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt;mso-ansi-language:
EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">远程升级成功后，新版本脚本运行异常，是否自动回退到最后一次烧录版本</span><br></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:1;height:1.0pt">
  <td width="73" style="width:43.8pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">4G</span><span style="font-size:7.5pt;
  font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">模块<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">AT</span><span style="font-size:7.5pt;
  font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">模式<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="236" style="width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;mso-border-bottom-themecolor:text1;border-right:solid black 1.0pt;
  mso-border-right-themecolor:text1;mso-border-top-alt:solid black .5pt;
  mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">支持<span lang="EN-US">core</span>固件远程升级<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="269" style="width:161.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">远程升级成功后，永远不回退<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:2;height:1.0pt">
  <td width="73" style="width:43.8pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">4G</span><span style="font-size:7.5pt;
  font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">模块<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">Lua</span><span style="font-size:7.5pt;
  font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">模式<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="236" style="width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;mso-border-bottom-themecolor:text1;border-right:solid black 1.0pt;
  mso-border-right-themecolor:text1;mso-border-top-alt:solid black .5pt;
  mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">支持<span lang="EN-US">2</span>种方式远程升级：<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">1</span><span style="font-size:7.5pt;
  font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、<span lang="EN-US">core</span>固件<span lang="EN-US">+</span>脚本全量升级<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">2</span><span style="font-size:7.5pt;
  font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、脚本单独升级<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="269" style="width:161.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">远程升级成功后，永远不回退<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:3;height:1.0pt">
  <td width="73" style="width:43.8pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">2G</span><span style="font-size:7.5pt;
  font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">模块<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:
  " 0pt"="" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">Lua</span><span style="font-size:7.5pt;font-family:" 微软雅黑","sans-serif";="" mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">模式<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="236" style="width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;mso-border-bottom-themecolor:text1;border-right:solid black 1.0pt;
  mso-border-right-themecolor:text1;mso-border-top-alt:solid black .5pt;
  mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">支持脚本单独远程升级<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">不支持<span lang="EN-US">core</span>固件远程升级<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="269" style="width:161.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">支持自动回退，可以通过<span lang="EN-US">sys.setRollBack</span>接口来设置“是否回退”，以及“开机运行多长时间后出现的异常，才允许回退”<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:4;mso-yfti-lastrow:yes;height:1.0pt">
  <td width="73" style="width:43.8pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">2G</span><span style="font-size:7.5pt;
  font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">模块<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">AT</span><span style="font-size:7.5pt;
  font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">模式<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="236" style="width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;mso-border-bottom-themecolor:text1;border-right:solid black 1.0pt;
  mso-border-right-themecolor:text1;mso-border-top-alt:solid black .5pt;
  mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">不支持任何方式的远程升级<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="269" style="width:161.3pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</tbody></table>

</div><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;
font-family:" inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;mso-hansi-font-family:="">二、远程升级功能原理</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"=""><o:p></o:p></span></b></p>

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">2.1</span></b><b><span style="font-size:11.5pt;font-family:" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="">4G</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">模块（</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;="">AT/Lua</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">版本）</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;=""><o:p></o:p></span></b></p>

</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span lang="EN-US" style="font-size: 9pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">4G</span><span style="font-size: 9pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">模块的<span lang="EN-US">flash</span>总容量为<span lang="EN-US">16MB</span>，其中有一个<span lang="EN-US">FBF</span>分区（<span lang="EN-US">0022</span>之前的<span lang="EN-US">core</span>中，<span lang="EN-US">FBF</span>分区总空间为<span lang="EN-US">5.375MB</span>；<span lang="EN-US">0022</span>以及之后的<span lang="EN-US">core</span>中，<span lang="EN-US">FBF</span>分区总空间为<span lang="EN-US">5.875MB</span>），用于存放远程升级包。模块从网络端将远程升级包成功下载保存到<span lang="EN-US">FBF</span>分区后，下次重启时，<span lang="EN-US">BOOTLOADER</span>程序会从<span lang="EN-US">FBF</span>分区将远程升级包解析、搬运到<span lang="EN-US">CODE</span>区，而后再清除<span lang="EN-US">FBF</span>分区的使用标志，就完成了一次远程升级过程。</span></p>

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lua</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">版本中，下载远程升级包，保存到<span lang="EN-US">FBF</span>分区的过程如下（可参考<span lang="EN-US">lib/update.lua</span>辅助理解）：<span lang="EN-US"><o:p></o:p></span></span></p>

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、执行<span lang="EN-US">rtos.fota_start()</span>打开写<span lang="EN-US">FBF</span>分区功能，返回<span lang="EN-US">0</span>表示打开成功，其余表示失败<span lang="EN-US"><o:p></o:p></span></span></p>

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、下载升级包，如果升级包较小，可以先保存到一个文件中，下载结束之后，循环执行<span lang="EN-US">rtos.fota_process(curData</span>，<span lang="EN-US"> totalLen)</span>将升级包内容分段写到<span lang="EN-US">FBF</span>分区，<span lang="EN-US">curData</span>为当前要写入的分段数据内容，<span lang="EN-US">totalLen</span>为升级包的总大小（单位为字节），返回<span lang="EN-US">0</span>表示写成功，其余表示失败；如果升级包较大，可以边下载边写<span lang="EN-US">FBF</span>分区<span lang="EN-US"><o:p></o:p></span></span></p>

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、执行<span lang="EN-US">rtos.fota_end()</span>关闭写<span lang="EN-US">FBF</span>分区功能，返回<span lang="EN-US">0</span>表示关闭成功，其余表示失败<span lang="EN-US"><o:p></o:p></span></span></p>

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">注意：无论第<span lang="EN-US">2</span>步是否成功，第<span lang="EN-US">1</span>步只要成功，必须执行第<span lang="EN-US">3</span>步，第<span lang="EN-US">1</span>步和第<span lang="EN-US">3</span>步成对出现，并且在一次升级过程中，仅执行一次即可<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">2.2</span></b><b><span style="font-size:11.5pt;font-family:" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="">2G</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">模块（</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;="">Lua</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">版本）</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;=""><o:p></o:p></span></b></p>

</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">2G</span><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">模块的<span lang="EN-US">flash</span>总容量有<span lang="EN-US">4MB</span>和<span lang="EN-US">8MB</span>两种，其中有一个文件系统分区（不同固件的文件系统空间也不相同，可以在脚本中通过<span lang="EN-US">rtos.get_fs_free_size()</span>来打印当前剩余的文件系统空间），此分区可以存放程序运行过程中实时创建的文件，也可以存放远程升级包。模块从网络端将远程升级包成功下载保存为文件系统分区的<span lang="EN-US">/luazip/update.bin</span>文件后，下次重启时，内核<span lang="EN-US">core</span>程序会解压缩<span lang="EN-US">/luazip/update.bin</span>文件，将解压缩出来的新版本脚本和资源文件存放在文件系统分区，然后删除<span lang="EN-US">/luazip/update.bin</span>文件，就完成了一次远程升级过程，自动重启以后运行的脚本代码为文件系统分区中的新版本脚本文件。<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">整个过程如下图所示</span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img class="img-responsive" style="width: 535.5px;" src="http://oldask.openluat.com/image/show/attachments-2019-08-ST9tIkvv5d4bdfaea40a7.png"><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"=""><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"></v:stroke>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"></v:f>
  <v:f eqn="sum @0 1 0"></v:f>
  <v:f eqn="sum 0 0 @1"></v:f>
  <v:f eqn="prod @2 1 2"></v:f>
  <v:f eqn="prod @3 21600 pixelWidth"></v:f>
  <v:f eqn="prod @3 21600 pixelHeight"></v:f>
  <v:f eqn="sum @0 0 1"></v:f>
  <v:f eqn="prod @6 1 2"></v:f>
  <v:f eqn="prod @7 21600 pixelWidth"></v:f>
  <v:f eqn="sum @8 21600 0"></v:f>
  <v:f eqn="prod @7 21600 pixelHeight"></v:f>
  <v:f eqn="sum @10 21600 0"></v:f>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"></v:path>
 <o:lock v:ext="edit" aspectratio="t"></o:lock>
</v:shapetype><v:shape id="图片_x0020_0" o:spid="_x0000_i1027" type="#_x0000_t75"
 alt="2G模块远程升级原理.png" style='width:414.6pt;height:279.6pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image001.png"
  o:title="2G模块远程升级原理"></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><b><span lang="EN-US" style="font-size:14.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"=""><o:p></o:p></span></b></p>

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;
font-family:" inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;mso-hansi-font-family:="">三、远程升级功能使用方法</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"=""><o:p></o:p></span></b></p>

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">3.1</span></b><b><span style="font-size:11.5pt;font-family:" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="">4G</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">模块（</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;="">AT</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">版本）</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;=""><o:p></o:p></span></b></p>

</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">支持合宙服务器和自建服务器远程升级<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">使用方法参考：</span><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/984">http://oldask.openluat.com/article/984</a></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">3.2</span></b><b><span style="font-size:11.5pt;font-family:" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="">4G</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">模块（</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;="">Lua</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">版本）</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;=""><o:p></o:p></span></b></p>

</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></b><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">支持合宙服务器、阿里云服务器和自建服务器远程升级<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">合宙服务器使用方法参考：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/915">http://oldask.openluat.com/article/915</a></span><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">阿里云服务器使用方法参考：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/877">http://oldask.openluat.com/article/877</a></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">自建服务器使用方法参考：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/107">http://oldask.openluat.com/article/107</a></span><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">3.3</span></b><b><span style="font-size:11.5pt;font-family:" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="">2G</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">模块（</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;="">Lua</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">版本）</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:
" color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;=""><o:p></o:p></span></b></p>

</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></b><span style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">支持合宙服务器、阿里云服务器和自建服务器远程升级<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">合宙服务器使用方法参考：<a href="http://oldask.openluat.com/article/984" target="_blank">http://oldask.openluat.com/article/984</a></span><span lang="EN-US"></span><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">阿里云服务器使用方法参考：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/877">http://oldask.openluat.com/article/877</a></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">自建服务器使用方法参考：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/107">http://oldask.openluat.com/article/107</a></span><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;
font-family:" inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;mso-hansi-font-family:="">四、常见问题</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"=""><o:p></o:p></span></b></p>

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">4.1</span></b><b><span style="font-size:11.5pt;font-family:" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、请求下载升级包，服务器返回失败</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></b></p>

</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">登录<span lang="EN-US">IOT</span>网站，进入项目，打开“固件升级<span lang="EN-US">-&gt;</span>升级日志”，根据<span lang="EN-US">IMEI</span>查询升级记录错误描述<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">如果<span lang="EN-US">IOT</span>网站查询不到，搜索设备日志，获取服务器返回的错误码<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">然后对照下表分析：</span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><span lang="EN-US"><o:p></o:p></span></span></p><div align="center">

<table width="753" class="MsoTableGrid" style="width: 451.65pt; border: none;" border="1" cellspacing="0" cellpadding="0">
 <tbody><tr style="mso-yfti-irow:0;mso-yfti-firstrow:yes;height:1.0pt">
  <td width="56" style="width:33.5pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">错误码<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="106" style="width:63.75pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-left:none;mso-border-left-alt:solid black .5pt;mso-border-left-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">错误码含义<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="591" style="width:354.4pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-left:none;mso-border-left-alt:solid black .5pt;mso-border-left-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">导致错误的可能原因<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:1;height:1.0pt">
  <td width="56" style="width:33.5pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">17<o:p></o:p></span></p>
  </td>
  <td width="106" style="width:63.75pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">无权限<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="591" style="width:354.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">设备<span lang="EN-US">IMEI</span>不在你的账户下<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:2;height:1.0pt">
  <td width="56" style="width:33.5pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">25<o:p></o:p></span></p>
  </td>
  <td width="106" style="width:63.75pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">无效的项目<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="591" style="width:354.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">脚本中<span lang="EN-US">main.lua</span>的<span lang="EN-US">PRODUCT_KEY</span>和<span lang="EN-US">IOT</span>网站上产品的<span lang="EN-US">productKey</span>不一致<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:3;height:1.0pt">
  <td width="56" style="width:33.5pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:
  &quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
  0pt">26<o:p></o:p></span></p>
  </td>
  <td width="106" style="width:63.75pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">无效的固件<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="591" style="width:354.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
  mso-char-indent-count:0;mso-pagination:widow-orphan;mso-list:l0 level1 lfo1;
  word-break:break-all"><!--[if !supportLists]--><span lang="EN-US" style="font-size:
  7.5pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
  Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">确认一下<span lang="EN-US">main.lua</span>中的<span lang="EN-US">PROJECT</span>和<span lang="EN-US">IOT</span>网站上的升级配置项中的<span lang="EN-US">PROJECT</span>字段是否一致<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
  mso-char-indent-count:0;mso-pagination:widow-orphan;mso-list:l0 level1 lfo1;
  word-break:break-all"><!--[if !supportLists]--><span lang="EN-US" style="font-size:
  7.5pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
  Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">如果是<span lang="EN-US">4G</span>模块，要确保模块型号和<span lang="EN-US">IOT</span>网站上的升级配置项模块型号是否一致；例如模块型号是<span lang="EN-US">Air720D</span>，则<span lang="EN-US">IOT</span>网站上也必须是<span lang="EN-US">Air720D<o:p></o:p></span></span></p>
  <p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
  mso-char-indent-count:0;mso-pagination:widow-orphan;mso-list:l0 level1 lfo1;
  word-break:break-all"><!--[if !supportLists]--><span lang="EN-US" style="font-size:
  7.5pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
  Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">如果是<span lang="EN-US">4G</span>模块，要确保模块中使用的<span lang="EN-US">CORE</span>版本号小于等于<span lang="EN-US">IOT</span>网站上升级配置项中的<span lang="EN-US">CORE</span>版本号；例如模块中使用的是<span lang="EN-US">V0017</span>，则<span lang="EN-US">IOT</span>网站上只允许大于等于<span lang="EN-US">V0017<o:p></o:p></span></span></p>
  <p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
  mso-char-indent-count:0;mso-pagination:widow-orphan;mso-list:l0 level1 lfo1;
  word-break:break-all"><!--[if !supportLists]--><span lang="EN-US" style="font-size:
  7.5pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
  Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">如果是<span lang="EN-US">2G</span>模块，要确保模块中使用的<span lang="EN-US">CORE</span>版本号和<span lang="EN-US">IOT</span>网站上升级配置项中的<span lang="EN-US">CORE</span>版本号一致；例如模块中使用的是<span lang="EN-US">Luat_V0035_8955</span>，则<span lang="EN-US">IOT</span>网站上也必须是<span lang="EN-US">Luat_V0035_8955<o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:4;height:1.0pt">
  <td width="56" style="width:33.5pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">27<o:p></o:p></span></p>
  </td>
  <td width="106" style="width:63.75pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">已是最新版本<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="591" style="width:354.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">如果确认不是最新版本，可能原因为：<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
  mso-char-indent-count:0;mso-pagination:widow-orphan;mso-list:l1 level1 lfo2;
  word-break:break-all"><!--[if !supportLists]--><span lang="EN-US" style="font-size:
  7.5pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
  Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">设备<span lang="EN-US">IMEI</span>不属于<span lang="EN-US">IOT</span>网站上的产品；可将<span lang="EN-US">IMEI</span>发给合宙技术支持人员确认<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
  mso-char-indent-count:0;mso-pagination:widow-orphan;mso-list:l1 level1 lfo2;
  word-break:break-all"><!--[if !supportLists]--><span lang="EN-US" style="font-size:
  7.5pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
  Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp; </span></span><!--[endif]--><span lang="EN-US" style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">IOT</span><span style="font-size:7.5pt;
  font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
  mso-font-kerning:0pt">网站的升级配置项，没有配置“允许该设备升级”<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
  mso-char-indent-count:0;mso-pagination:widow-orphan;mso-list:l1 level1 lfo2;
  word-break:break-all"><!--[if !supportLists]--><span lang="EN-US" style="font-size:
  7.5pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
  Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">如果是<span lang="EN-US">4G</span>模块，配置的是全固件升级（<span lang="EN-US">core</span>和脚本都升级），但是上传的升级包，却只有脚本；例如模块中是<span lang="EN-US">core</span>（<span lang="EN-US">V0017</span>）、脚本（<span lang="EN-US">1.0.0</span>），<span lang="EN-US">IOT</span>网站上配置的是<span lang="EN-US">core</span>（<span lang="EN-US">V0021</span>）、脚本（<span lang="EN-US">1.0.1</span>），但是上传升级包时，升级包是一个小于<span lang="EN-US">1M</span>字节的文件，此时就会认为升级包中仅包含脚本，不包含<span lang="EN-US">core</span>；所以设备请求升级时，返回错误<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:5;height:1.0pt">
  <td width="56" style="width:33.5pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">40<o:p></o:p></span></p>
  </td>
  <td width="106" style="width:63.75pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">循环升级<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="591" style="width:354.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">当同一的<span lang="EN-US">IMEI</span>，频繁的请求从<span lang="EN-US">A</span>版本升级到<span lang="EN-US">B</span>版本，并且从服务器下载<span lang="EN-US">B</span>版本成功。超过一定频率，服务器就会返回此错误，一般有如下几种情况会导致此现象的发生<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
  mso-char-indent-count:0;mso-pagination:widow-orphan;mso-list:l2 level1 lfo3;
  word-break:break-all"><!--[if !supportLists]--><span lang="EN-US" style="font-size:
  7.5pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
  Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">下载<span lang="EN-US">B</span>版本之后，重启应用<span lang="EN-US">B</span>版本过程中，发生错误，导致失败；此时仍然运行<span lang="EN-US">A</span>版本，会再次请求<span lang="EN-US">B</span>版本。一直这样循环<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
  mso-char-indent-count:0;mso-pagination:widow-orphan;mso-list:l2 level1 lfo3;
  word-break:break-all"><!--[if !supportLists]--><span lang="EN-US" style="font-size:
  7.5pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
  Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">下载<span lang="EN-US">B</span>版本之后，重启应用<span lang="EN-US">B</span>版本成功，但是运行<span lang="EN-US">B</span>版本时，很快发生了异常，导致版本回退到<span lang="EN-US">A</span>版本；此时仍然运行<span lang="EN-US">A</span>版本，会再次请求<span lang="EN-US">B</span>版本。一直这样循环<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
  mso-char-indent-count:0;mso-pagination:widow-orphan;mso-list:l2 level1 lfo3;
  word-break:break-all"><!--[if !supportLists]--><span lang="EN-US" style="font-size:
  7.5pt;font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:
  Wingdings;color:#333333;mso-font-kerning:0pt">Ø<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp; </span></span><!--[endif]--><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">用户在压力挂测远程升级功能，会循环请求测试<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">第<span lang="EN-US">1</span>种和第<span lang="EN-US">2</span>种情况，是程序运行异常所致，所以必须解决异常后，再考虑升级，否则一直频繁下载，会导致<span lang="EN-US">sim</span>卡流量超出，造成经济损失<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">如果是第<span lang="EN-US">3</span>种情况，可以手动解除限制，允许再次升级，解除限制的方法为：<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">登录<span lang="EN-US">IOT</span>网站，进入项目，打开“设备列表<span lang="EN-US">-&gt;</span>解除禁止升级”<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style="mso-yfti-irow:6;mso-yfti-lastrow:yes;height:1.0pt">
  <td width="56" style="width:33.5pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">5<o:p></o:p></span></p>
  </td>
  <td width="106" style="width:63.75pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">升级包文件中没有包含<span lang="EN-US">core<o:p></o:p></span></span></p>
  </td>
  <td width="591" style="width:354.4pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt;height:1.0pt">
  <p class="MsoNormal" style="mso-pagination:widow-orphan;word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt">如果设备中的<span lang="EN-US">core</span>版本和升级包文件名中包含的<span lang="EN-US">core</span>版本不一致，则升级包文件中应该要包含<span lang="EN-US">core</span>，但是升级包文件小于<span lang="EN-US">1M</span>，所以判断升级包中并没有包含<span lang="EN-US">core</span>，不允许升级<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
</tbody></table></div><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">4.2</span></b><b><span style="font-size:11.5pt;font-family:" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、升级配置项固件名称重复</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></b></p>

</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">同一产品下，允许配置多个升级配置项，但是固件名称不能重复，如下图所示<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"=""><!--[if gte vml 1]><v:shape
 id="图片_x0020_1" o:spid="_x0000_i1026" type="#_x0000_t75" style='width:385.8pt;
 height:245.4pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image003.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"=""><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><img class="img-responsive" style="width: 480.5px;" src="http://oldask.openluat.com/image/show/attachments-2019-08-fFhxLoHp5d4be00aa0567.png"></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span><span lang="EN-US" style="font-size: 9pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-size: 9pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">如果配置了多个相同固件名称的升级配置项，则只保留一个，删除其余的升级配置项</span></p><p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;">

<p><b>&lt;span lang=”EN-US” style=”font-size:11.5pt;font-family:” 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt”=””&gt;4.3</span></b><b>&lt;span style=”font-size:11.5pt;font-family:” inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;=”” mso-font-kerning:0pt”=””&gt;、</span></b><b>&lt;span lang=”EN-US” style=”font-size:11.5pt;<br>font-family:” 宋体;color:#333333;mso-font-kerning:0pt”=”” inherit”,”serif”;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:=””&gt;2G</span></b><b>&lt;span style=”font-size:<br>11.5pt;font-family:” 0pt”=”” 微软雅黑”,”sans-serif”;mso-ascii-font-family:inherit;=”” mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:=””&gt;模块下载升级包之后，重启应用新版本失败</span></b><b>&lt;span lang=”EN-US” style=”font-size:11.5pt;<br>font-family:” 宋体;color:#333333;mso-font-kerning:0pt”=”” inherit”,”serif”;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:=””&gt;&lt;o:p&gt;</o:p></span></b></p></p>
</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">下面以“本地烧录的脚本为<span lang="EN-US">1.0.0</span>，要远程升级到<span lang="EN-US">1.0.1</span>”为例说明此问题<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">当<span lang="EN-US">1.0.0</span>版本成功下载<span lang="EN-US">1.0.1</span>升级包文件之后，会自动重启，然后从升级中解压缩出来<span lang="EN-US">1.0.1</span>版本的所有脚本和资源文件，保存到文件系统中，如果文件系统空间不足，就会出现应用新版本失败的问题<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">目前仅出现过文件系统空间不足导致的失败问题，此问题的典型日志如下图所示：</span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img class="img-responsive" style="width: 516.5px;" src="http://oldask.openluat.com/image/show/attachments-2019-08-codIQPCC5d4be0256af5f.png"><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"=""><!--[if gte vml 1]><v:shape
 id="图片_x0020_4" o:spid="_x0000_i1025" type="#_x0000_t75" style='width:415.2pt;
 height:71.4pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image005.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:9.0pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"=""><o:p></o:p></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: rgb(255, 0, 0);"><span lang="EN-US" style="font-size: 9pt; font-family: 微软雅黑, sans-serif;">TTS</span><span style="font-size: 9pt; font-family: 微软雅黑, sans-serif;">的<span lang="EN-US">lod</span>，文件系统空间比较紧张，尤其要注意控制项目的脚本大小</span></span></p>

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size: 9pt; font-family: 微软雅黑, sans-serif; color: rgb(255, 0, 0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 9pt; font-family: 微软雅黑, sans-serif;"><span style="color: rgb(255, 0, 0);">比较可靠的一种文件系统剩余空间是否能够保证成功升级的计算方法为：“升级包<span lang="EN-US" style="">bin</span>文件”<span lang="EN-US" style="">+</span>“生成升级包时，在<span lang="EN-US" style="">luatools</span>的目录<span lang="EN-US" style="">ClearScr</span>下的所有文件”<span lang="EN-US" style="">&lt; </span>模块剩余文件系统空间（通过<span lang="EN-US" style="">rtos.get_fs_free_size()</span>计算出来）的</span><span lang="EN-US" style=""><span style="color: rgb(255, 0, 0);">85%</span><span style="color: rgb(51, 51, 51);"><o:p></o:p></span></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">可参考：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/110">http://oldask.openluat.com/article/110</a>
</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;mso-ascii-theme-font:
minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">辅助理解</span><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">4.4</span></b><b><span style="font-size:11.5pt;font-family:" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="">2G</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">模块远程升级后的版本回退功能</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:=""><o:p></o:p></span></b></p>

</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2G</span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">模块仅支持远程升级脚本，下面以“本地烧录的脚本为<span lang="EN-US">1.0.0</span>，要远程升级到<span lang="EN-US">1.0.1</span>”为例说明回退功能<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">当成功升级到</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.1</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">版本后，</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.1</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">运行过程中，如果出现异常（例如对</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">nil</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">值进行算数运算：</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">a = nil+3</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">；这些异常可以通过</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">errDump</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">功能模块上报调试服务器），并且</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.1</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">配置了允许回退功能，则会删除</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.1</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">的脚本，自动重启后，运行本地烧录的</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.0</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">版本，可参考</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">2.2</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">章节的示意图。如果</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.0</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">版本使用了</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">errDump</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">功能模块，则会自动上报这个异常到</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">errDump</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">服务器；即使</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.0</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">版本没有</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">errDump</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">功能模块，如果没有新的错误异常产生，这个错误异常也会保存到设备中，可以再升级一个带有</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">errDump</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">功能的新版本，新版本升级后，仍然会上报这个错误异常到</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">errDump</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">服务器；如果使用的是合宙官方的</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">errDump</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">服务器，可以通过如下方式查询这个错误：</span></p>

<p class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">登录<span lang="EN-US">iot.openluat.com</span>，随便选择一个产品，点进去，点击左侧的<span lang="EN-US">&nbsp;“</span>查询<span lang="EN-US">debug”&nbsp;</span>菜单，<span lang="EN-US">&nbsp;</span>输入设备<span lang="EN-US">imei</span>号、开始结束日期，点击搜索即可（友情提醒：开始和结束日期的跨度越大，搜索速度越慢）<span lang="EN-US"><o:p></o:p></span></span></p>

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>为什么要设计回退功能呢，功过是非暂且不评；那么有没有什么办法不允许回退版本呢，以<span lang="EN-US">task</span>版本为例，有一个<span lang="EN-US">sys.setRollBack(flag,secs)</span>可以灵活配置，可在本示例中的<span lang="EN-US">1.0.1</span>脚本中调用这个接口配置，详情参考<span lang="EN-US">API</span>说明<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">注意：一旦发生回退，是回退到最后一次本地烧录的版本，假设本地烧录的是</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.0</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">，后来远程升级到</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.1</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">，</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.1</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">又远程升级到</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.2</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">，</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">.......</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">，一直远程升级到</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.9</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">，只要</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.1</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">到</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.9</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">中的任何一个版本发生回退，都是回退到</span><span lang="EN-US" style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">1.0.0</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 9pt;">版本</span></p>

<p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">另外：<span lang="EN-US">V0035</span>以及之前的<span lang="EN-US">core</span>有个<span lang="EN-US">bug</span>，如果远程升级下载升级包的过程中，重启设备，会自动回退到最后一次本地烧录的版本。如果无法更新<span lang="EN-US">core</span>至<span lang="EN-US">V0036</span>以及之后的版本，要尽可能的在脚本程序中，最大限度的处理这种异常：例如远程升级下载升级包过程中不要主动重启；自建的升级服务器，升级包下载后，如果校验失败，通过调用<span lang="EN-US">os.remove("/luazip/update.bin")</span>删除升级包；原则就是，不要让错误或者不完整的升级包存在<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">4.5</span></b><b><span style="font-size:11.5pt;font-family:" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、远程升级对</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="">NVM</span></b><b><span style="font-size:
11.5pt;font-family:" 0pt"="" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;="" mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:="">、文件系统中文件的影响</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:=""><o:p></o:p></span></b></p>

</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">远程升级功能本身对<span lang="EN-US">NVM</span>中的原来保存的参数、运行过程中创建的文件没有任何影响<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">有关<span lang="EN-US">NVM</span>的详细说明参考：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/76">http://oldask.openluat.com/article/76</a></span><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">4.6</span></b><b><span style="font-size:11.5pt;font-family:" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、远程升级包的正确性检查</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></b></p>

</div><p>































































































</p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:" 宋体;color:#333333;mso-font-kerning:0pt"="">远程升级包下载之后，下次重启会首先对升级包的准确性进行检查（</span><span style="font-size: 12px;">算法不便透漏</span><span style="font-size: 9pt;">），检查通过之后才会应用升级</span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p align="left" class="MsoNormal" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">4.7</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、下载升级包过程中，如果发生异常重启，有什么影响</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">下载过程中，异常重启，导致升级包没有下载完整；此时异常重启，不会导致模块死机或者变砖，只是校验升级包不对，直接将升级包删除，然后<span lang="EN-US">2G</span>和<span lang="EN-US">4G</span>模块运行的软件代码不太相同：<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoListParagraph" style="margin: 0cm 0cm 7.4pt 42pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
微软雅黑;color:#333333;mso-font-kerning:0pt">1.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">2G</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">模块：如果设备中<span lang="EN-US">core</span>固件的版本号是<span lang="EN-US">0035</span>或者之前的版本，<span lang="EN-US">core</span>中存在一个<span lang="EN-US">bug</span>，会导致重启后运行的是设备最后一次本地烧录的脚本；<span lang="EN-US">0036</span>以及之后的<span lang="EN-US">core</span>版本不存在此<span lang="EN-US">bug</span>，重启后仍然运行远程升级之前的脚本<span lang="EN-US"><o:p></o:p></span></span></p><p align="left" class="MsoNormal" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;">





</p><p align="left" class="MsoListParagraph" style="margin: 0cm 0cm 7.4pt 42pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><!--[if !supportLists]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
微软雅黑;color:#333333;mso-font-kerning:0pt">2.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">4G</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">模块：重启后运行的是升级前的固件</span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">4.8</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、下载升级包之后自动重启，重启后发现一直在不断重启</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p align="left" class="MsoListParagraph" style="margin: 0cm 0cm 7.4pt 42pt; text-indent: -21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;">

</p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">升级包中打包的文件如果含有中文名，例如：测试说明<span lang="EN-US">.txt</span>，会导致模块下载升级包之后，一直不断重启的问题</span></p>














      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/08/603/" data-id="ckkfmdgfy00f2vkcggc1a5lsg" data-title="Air系列模块远程升级功能汇总" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-602" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/08/602/" class="article-date">
  <time class="dt-published" datetime="2019-08-08T06:01:15.000Z" itemprop="datePublished">2019-08-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/08/602/">4G模块Lua版本如何使用合宙服务器远程升级</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><a name="下载安装"></a><b><span style="font-size:14.5pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:18.0pt">一、服务器端创建产品</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:"inherit","serif";mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">            </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">平台地址<span lang="EN-US">: </span><a target="_blank" rel="noopener" href="https://iot.openluat.com/" style="outline: 0px; outline-offset: -2px; background-position: 0px 0px;"><span style="color: rgb(51, 51, 51);">https://iot.openluat.com/</span></a><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">如果没有账户，注册一个新账户<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><b><span lang="EN-US" style="font-size:11.5pt;font-family:"inherit","serif";mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">1</span></b><b><span style="font-size:11.5pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、新建产品</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:"inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">           </span><img src="http://oldask.openluat.com/image/show/attachments-2019-08-3WILhBaw5d4bb907829e0.png" class="img-responsive" style="width: 795.5px;"><span lang="EN-US" style="font-size:6.5pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"> </span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><br></span>        <b><span lang="EN-US" style="font-size:11.5pt;font-family:"inherit","serif";mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">2</span></b><b><span style="font-size:
11.5pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">、进入产品</span></b></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-SfqAphcQ5d4bb92cf0408.png" class="img-responsive" style="width: 341px;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-9qv5QX6f5d4bb945a516e.png" class="img-responsive" style="width: 681.5px;"><b><span style="font-size:
11.5pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt"><br></span></b></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">            </span><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"><!--[if gte vml 1]><v:shape
 id="图片_x0020_22" o:spid="_x0000_i1035" type="#_x0000_t75" style='width:270pt;
 height:250.2pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image003.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:6.5pt;
font-family:"微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"><!--[if gte vml 1]><v:shape
 id="图片_x0020_25" o:spid="_x0000_i1034" type="#_x0000_t75" style='width:415.2pt;
 height:105pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image005.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:6.5pt;
font-family:"微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:18.0pt">二、设备端代码修改，生成升级包</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:"inherit","serif";mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">            </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">例如：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">设备端本地烧录的旧固件版本信息为：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         core</span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">：<span lang="EN-US">Luat_V0019_ASR1802<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         main.lua</span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">中<span lang="EN-US">PROJECT</span>：<span lang="EN-US">LUAT_IOT_SERVER_UPDATE<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         main.lua</span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">中<span lang="EN-US">VERSION</span>：<span lang="EN-US">1.0.0<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">模块型号：<span lang="EN-US">Air720D<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p> </o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">远程升级的新固件版本信息为：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         core</span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">：<span lang="EN-US">Luat_V0021_ASR1802<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         main.lua</span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">中<span lang="EN-US">PROJECT</span>：<span lang="EN-US">LUAT_IOT_SERVER_UPDATE<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         main.lua</span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">中<span lang="EN-US">VERSION</span>：<span lang="EN-US">1.0.1<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">模块型号：<span lang="EN-US">Air720D<o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><b><span lang="EN-US" style="font-size:11.5pt;font-family:"inherit","serif";mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">1</span></b><b><span style="font-size:11.5pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、修改</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:"inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">main.lua</span></b><b><span style="font-size:11.5pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">，配置新固件版本信息</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:"inherit","serif";mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">打开<span lang="EN-US">main.lua</span>，<span lang="EN-US">VERSION</span>修改为<span lang="EN-US">1.0.1</span>，按照如下截图配置</span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-BDE7P6mu5d4bb962eb49f.png" class="img-responsive" style="width: 653.5px;"><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"><!--[if gte vml 1]><v:shape
 id="图片_x0020_28" o:spid="_x0000_i1033" type="#_x0000_t75" style='width:415.2pt;
 height:51.6pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image007.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:9.0pt;
font-family:"微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><b><span lang="EN-US" style="font-size:11.5pt;font-family:"inherit","serif";mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">2</span></b><b><span style="font-size:11.5pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:"inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">Luatools</span></b><b><span style="font-size:11.5pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">生成升级包</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:"inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">        </span><img src="http://oldask.openluat.com/image/show/attachments-2019-08-GSEVUCoa5d4bb99454ccf.png" class="img-responsive" style="width: 575px;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"> <!--[if gte vml 1]><v:shape id="图片_x0020_34" o:spid="_x0000_i1032"
 type="#_x0000_t75" style='width:415.2pt;height:253.8pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image009.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">生成的升级包文件默认存放在：<span lang="EN-US">Luatools</span>工具目录下的
“量产文件生成默认文件夹<span lang="EN-US">\4G</span>远程升级文件”<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">例如本示例合并后的升级文件目录截图为</span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-A00kHx1q5d4bb9aecf94d.png" class="img-responsive" style="width: 527px;"><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"><!--[if gte vml 1]><v:shape
 id="图片_x0020_37" o:spid="_x0000_i1031" type="#_x0000_t75" style='width:415.8pt;
 height:151.8pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image011.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:9.0pt;
font-family:"微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:18.0pt">三、服务器端新增升级配置项</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:"inherit","serif";mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">            </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">平台地址<span lang="EN-US">: </span><a target="_blank" rel="noopener" href="https://iot.openluat.com/" style="outline: 0px; outline-offset: -2px; background-position: 0px 0px;"><span style="color: rgb(51, 51, 51);">https://iot.openluat.com/</span></a><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">进入之前创建的产品下，打开固件升级<span lang="EN-US">-></span>升级配置<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"><!--[if gte vml 1]><v:shape
 id="图片_x0020_40" o:spid="_x0000_i1030" type="#_x0000_t75" style='width:415.2pt;
 height:249.6pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image013.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:9.0pt;
font-family:"微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"><!--[if gte vml 1]><v:shape
 id="图片_x0020_43" o:spid="_x0000_i1029" type="#_x0000_t75" style='width:415.2pt;
 height:47.4pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image015.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:9.0pt;
font-family:"微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"><!--[if gte vml 1]><v:shape
 id="图片_x0020_46" o:spid="_x0000_i1028" type="#_x0000_t75" style='width:396pt;
 height:322.2pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image017.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:9.0pt;
font-family:"微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"><!--[if gte vml 1]><v:shape
 id="图片_x0020_49" o:spid="_x0000_i1027" type="#_x0000_t75" style='width:415.2pt;
 height:115.2pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image019.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:9.0pt;
font-family:"微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-AcHW7UPo5d4bb9d5ca1db.png" class="img-responsive" style="width: 575.5px;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-A76g2clM5d4bba0c37a0d.png" class="img-responsive" style="width: 682px;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-1VqYxLWu5d4bba3374300.png" class="img-responsive" style="width: 444px;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-QgT5Z8jV5d4bba4757f77.png" class="img-responsive" style="width: 620px;"><b><span style="font-size:14.5pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:18.0pt">四、设备端烧录旧固件版本，开机请求升级</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:"inherit","serif";mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">            </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">例如：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">设备端本地烧录的旧固件版本信息为：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         core</span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">：<span lang="EN-US">Luat_V0019_ASR1802<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         main.lua</span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">中<span lang="EN-US">PROJECT</span>：<span lang="EN-US">LUAT_IOT_SERVER_UPDATE<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         main.lua</span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">中<span lang="EN-US">VERSION</span>：<span lang="EN-US">1.0.0<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">模块型号：<span lang="EN-US">Air720D<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         <o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         main.lua</span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">部分代码截图如下：</span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-323WGOhU5d4bba751f7fe.png" class="img-responsive" style="width: 627px;"><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"><!--[if gte vml 1]><v:shape
 id="图片_x0020_52" o:spid="_x0000_i1026" type="#_x0000_t75" style='width:415.2pt;
 height:58.2pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image021.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:9.0pt;
font-family:"微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt;mso-no-proof:yes"><!--[if gte vml 1]><v:shape
 id="图片_x0020_55" o:spid="_x0000_i1025" type="#_x0000_t75" style='width:192.6pt;
 height:55.8pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image023.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:9.0pt;
font-family:"微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p></o:p></span></p><p>





























































































</p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">         </span><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">烧录后，开机运行，就会自动连接合宙服务器请求升级</span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span style="font-size:9.0pt;font-family:"微软雅黑","sans-serif";mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><span lang="EN-US"><o:p></o:p></span></span></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/08/602/" data-id="ckkfmdgf100e6vkcgffvub4hq" data-title="4G模块Lua版本如何使用合宙服务器远程升级" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-601" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/08/601/" class="article-date">
  <time class="dt-published" datetime="2019-08-08T02:08:04.000Z" itemprop="datePublished">2019-08-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/08/601/">Air208在西安某地区连接服务器失败问题分析过程</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;h2 style=&quot;text-align: center; font-family: &quot; helvetica=&quot;&quot; neue&quot;,=&quot;&quot; helvetica,=&quot;&quot; arial,=&quot;&quot; &quot;pingfang=&quot;&quot; sc&quot;,=&quot;&quot; &quot;hiragino=&quot;&quot; sans=&quot;&quot; gb&quot;,=&quot;&quot; &quot;wenquanyi=&quot;&quot; micro=&quot;&quot; hei&quot;,=&quot;&quot; &quot;microsoft=&quot;&quot; yahei&quot;,=&quot;&quot; sans-serif;=&quot;&quot; color:=&quot;&quot; rgb(0,=&quot;&quot; 0,=&quot;&quot; 0);&quot;=&quot;&quot;&gt;Air208在西安某地区连接服务器失败问题分析过程&lt;/h2&gt;&lt;p class=&quot;MsoListParagraph&quot; style=&quot;margin-left:21.0pt;text-indent:-21.0pt;
</code></pre>
<p>mso-char-indent-count:0;mso-list:l0 level1 lfo1”&gt;<!--[if !supportLists]--><span lang="EN-US" style="font-size:12.0pt;mso-bidi-font-family:等线;mso-bidi-theme-font:
minor-fareast">一、&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]--><span style="font-size:12.0pt">问题描述<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo2"><!--[if !supportLists]--><span lang="EN-US" style="font-size:12.0pt;mso-fareast-font-family:等线;mso-fareast-theme-font:
minor-latin;mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin">1.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp; &nbsp; &nbsp;</span></span><span style="font-size:12.0pt">西安某地区连接<span lang="EN-US" style="background-color: rgb(255, 255, 0);">TCP</span>服务器失败，重连两次均失败。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo2"><!--[if !supportLists]--><span lang="EN-US" style="font-size:12.0pt;mso-fareast-font-family:等线;mso-fareast-theme-font:
minor-latin;mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin">2.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]--><span style="font-size:12.0pt">当地<span lang="EN-US">CSQ</span>在<span lang="EN-US">15</span>左右<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo2"><!--[if !supportLists]--><span lang="EN-US" style="font-size:12.0pt;mso-fareast-font-family:等线;mso-fareast-theme-font:
minor-latin;mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin">3.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]--><span lang="EN-US" style="font-size:12.0pt">TCP</span><span style="font-size:12.0pt">服务器正常、<span lang="EN-US">SIM</span>卡无欠费。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo2"><!--[if !supportLists]--><span lang="EN-US" style="font-size:12.0pt;mso-fareast-font-family:等线;mso-fareast-theme-font:
minor-latin;mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin">4.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]--><span style="font-size:12.0pt">发送<span lang="EN-US">CIPSHUT</span>（去激活<span lang="EN-US">PDP</span>命令）后恢复正常<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo1"><!--[if !supportLists]--><span lang="EN-US" style="font-size:12.0pt;mso-bidi-font-family:等线;mso-bidi-theme-font:
minor-fareast">二、&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]--><span style="font-size:12.0pt">协议分析<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo3"><!--[if !supportLists]--><span lang="EN-US" style="font-size:12.0pt;mso-fareast-font-family:等线;mso-fareast-theme-font:
minor-latin;mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin">1.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]--><span lang="EN-US" style="font-size:12.0pt">TCP</span><span style="font-size:12.0pt">层分析<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-size:12.0pt">连接<span lang="EN-US">TCP</span>服务器需要经过三次握手。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-size:12.0pt">从<span lang="EN-US">log</span>中看，当模块发出第一次握手信息后，未收到服务器发出的第二次握手信息，因此开始重发第一次握手信息。重发了<span lang="EN-US">6</span>次之后，始终未收到服务器的第二次握手信息，因此连接失败。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo3"><!--[if !supportLists]--><span lang="EN-US" style="font-size:12.0pt;mso-fareast-font-family:等线;mso-fareast-theme-font:
minor-latin;mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin">2.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]--><span lang="EN-US" style="font-size:12.0pt">RLC</span><span style="font-size:12.0pt">（无线链接路层）分析<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:12.0pt">TCP</span><span style="font-size:
12.0pt">层的数据到达协议栈后，需要经过<span lang="EN-US">RLC(</span>无线链接路层<span lang="EN-US">)</span>发送给基站。<span lang="EN-US">RLC</span>与<span lang="EN-US">TCP</span>层类似，同样有滑窗机制、确认机制。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-size:12.0pt">经过<span lang="EN-US">LOG</span>分析，<span lang="EN-US">RLC</span>上行数据成功发送给了基站，并且收到了基站的<span lang="EN-US">ACK</span>。也就是说<span style="color:red">基站成功的收到了<span lang="EN-US">RLC</span>完整、准确的数据包，而且模块也收到了基站</span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-size:12.0pt"><span style="color:red">的确认数据。表明：模块与基站之间的信道通信是正常的。</span><span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:12.0pt">&lt;o:p&gt;&nbsp;</o:p></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo3"><!--[if !supportLists]--><span lang="EN-US" style="font-size:12.0pt;mso-fareast-font-family:等线;mso-fareast-theme-font:
minor-latin;mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin">3.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]--><span lang="EN-US" style="font-size:12.0pt">TBF</span><span style="font-size:12.0pt">分配情况分析<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:12.0pt">TBF</span><span style="font-size:
12.0pt">的意思是</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif; color: rgb(51, 51, 51); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">Temporary Block Flow </span><span style="font-size: 12pt; color: rgb(51, 51, 51); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">临时块流。</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif; color: rgb(51, 51, 51); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">TBF</span><span style="font-size: 12pt; color: rgb(51, 51, 51); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">是</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif; color: rgb(51, 51, 51); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">GPRS</span><span style="font-size: 12pt; color: rgb(51, 51, 51); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">通信中基站分配的信道资源的基本单位，所有</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif; color: rgb(51, 51, 51); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">GPRS</span><span style="font-size: 12pt; color: rgb(51, 51, 51); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">通信都建立上</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif; color: rgb(51, 51, 51); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">TBF</span><span style="font-size: 12pt; color: rgb(51, 51, 51); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">的基础之上。</span><span lang="EN-US" style="font-size: 12pt; font-family: Arial, sans-serif; color: rgb(51, 51, 51); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">&lt;o:p&gt;</o:p></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:12.0pt">&lt;o:p&gt;&nbsp;</o:p></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-size:12.0pt">由<span lang="EN-US">RLC</span>层分析的结果来看，<span lang="EN-US">RLC</span>上行数据成功发送给了基站，表明上行<span lang="EN-US">TBF</span>没有任何问题，我们重点要关注下行<span lang="EN-US">TBF</span>的情况。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:12.0pt">&lt;o:p&gt;&nbsp;</o:p></span></p><p class="MsoListParagraph" style="margin-left:57.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l1 level1 lfo4"><!--[if !supportLists]--><span lang="EN-US" style="font-size:12.0pt;mso-fareast-font-family:等线;mso-fareast-theme-font:
minor-latin;mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin">1）&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;<br></span></span><!--[endif]--><span style="font-size:12.0pt">下行<span lang="EN-US">TBF</span>的分配触发机制<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:57.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-size:12.0pt">当核心网有下行<span lang="EN-US">GPRS</span>数据要发送给模块时，触发基站分配下行<span lang="EN-US">TBF</span>资源给模块。模块在这个过程中完全是被动的，无法参与其中的分配过程，因为无需和模块进行协商。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:57.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:12.0pt">&lt;o:p&gt;&nbsp;</o:p></span></p><p class="MsoListParagraph" style="margin-left:57.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l1 level1 lfo4"><!--[if !supportLists]--><span lang="EN-US" style="font-size:12.0pt;mso-fareast-font-family:等线;mso-fareast-theme-font:
minor-latin;mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin">2）&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;<br></span></span><!--[endif]--><span style="font-size:12.0pt">下行<span lang="EN-US">TBF</span>的两种分配方式</span></p><p class="MsoNormal"><br></p><p class="MsoNormal" style="text-indent:32.0pt;mso-char-indent-count:2.0;
line-height:150%"><span lang="EN-US" style="font-size:12.0pt;mso-bidi-font-size:
11.0pt;line-height:150%;letter-spacing:2.0pt">&nbsp; &nbsp; &nbsp; &nbsp;a.</span><span style="font-size:
12.0pt;mso-bidi-font-size:11.0pt;line-height:150%;letter-spacing:2.0pt">在<span lang="EN-US">CCCH</span>上建立下行<span lang="EN-US">TBF</span></span></p><p class="MsoNormal" style="text-indent:32.0pt;mso-char-indent-count:2.0;
line-height:150%"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-GZL5hPy05d4b826dd99c0.png" class="img-responsive" style="width: 100%;"><span style="font-size:
12.0pt;mso-bidi-font-size:11.0pt;line-height:150%;letter-spacing:2.0pt"><span lang="EN-US"><br></span></span></p><p class="MsoNormal" style="text-indent:32.0pt;mso-char-indent-count:2.0;
line-height:150%"><span style="font-size:
12.0pt;mso-bidi-font-size:11.0pt;line-height:150%;letter-spacing:2.0pt"><span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoNormal" style="margin-left:42.0pt;line-height:150%"><span lang="EN-US" style="font-size:12.0pt;mso-bidi-font-size:11.0pt;line-height:150%;
letter-spacing:2.0pt;mso-no-proof:yes">&lt;v:shapetype id=”_x0000_t75” coordsize=”21600,21600” o:spt=”75” o:preferrelative=”t” path=”m@4@5l@4@11@9@11@9@5xe” filled=”f” stroked=”f”&gt;<br> &lt;v:stroke joinstyle=”miter”&gt;<br> &lt;v:formulas&gt;<br>  &lt;v:f eqn=”if lineDrawn pixelLineWidth 0”&gt;<br>  &lt;v:f eqn=”sum @0 1 0”&gt;<br>  &lt;v:f eqn=”sum 0 0 @1”&gt;<br>  &lt;v:f eqn=”prod @2 1 2”&gt;<br>  &lt;v:f eqn=”prod @3 21600 pixelWidth”&gt;<br>  &lt;v:f eqn=”prod @3 21600 pixelHeight”&gt;<br>  &lt;v:f eqn=”sum @0 0 1”&gt;<br>  &lt;v:f eqn=”prod @6 1 2”&gt;<br>  &lt;v:f eqn=”prod @7 21600 pixelWidth”&gt;<br>  &lt;v:f eqn=”sum @8 21600 0”&gt;<br>  &lt;v:f eqn=”prod @7 21600 pixelHeight”&gt;<br>  &lt;v:f eqn=”sum @10 21600 0”&gt;<br> </v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:formulas><br> &lt;v:path o:extrusionok=”f” gradientshapeok=”t” o:connecttype=”rect”&gt;<br> &lt;o:lock v:ext=”edit” aspectratio=”t”&gt;<br></o:lock></v:path></v:stroke></v:shapetype>&lt;v:shape id=”图片_x0020_163” o:spid=”_x0000_i1028” type=”#_x0000_t75” style=”width:391.9pt;height:194.65pt;visibility:visible;mso-wrap-style:square”&gt;<br> &lt;v:imagedata src=”file:///C:/Users/ADMINI<del>1/AppData/Local/Temp/msohtmlclip1/01/clip_image001.png” o:title=””&gt;<br></v:imagedata></v:shape></span><span lang="EN-US" style="font-size:12.0pt;mso-bidi-font-size:
11.0pt;line-height:150%;letter-spacing:2.0pt">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal">&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 在没有上行<span lang="EN-US">TBF</span>存活的情况下，基站通过立即分配的的方式通知模块建立下行<span lang="EN-US">TBF</span>。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoNormal">&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 在正常情况下，我们的模块能收到立即分配的指令，并正常建立下行<span lang="EN-US">TBF. </span>如下图所示。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoNormal" align="left"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体;
mso-font-kerning:0pt;mso-no-proof:yes">&lt;v:shape id=”图片_x0020_195” o:spid=”_x0000_i1027” type=”#_x0000_t75” style=”width:415.5pt;height:96pt;visibility:visible;<br> mso-wrap-style:square”&gt;<br> &lt;v:imagedata src=”file:///C:/Users/ADMINI</del>1/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png” o:title=””&gt;<br></v:imagedata></v:shape></span><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;
mso-bidi-font-family:宋体;mso-font-kerning:0pt">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal" style="margin-left:42.0pt;line-height:150%"><span lang="EN-US" style="font-size:12.0pt;mso-bidi-font-size:11.0pt;line-height:150%;
letter-spacing:2.0pt">&lt;o:p&gt;&nbsp;</o:p></span><span style="font-size: 12pt; letter-spacing: 2pt;">&nbsp;</span></p><p class="MsoNormal" style="margin-left:42.0pt;line-height:150%"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-jtihFFeM5d4b825a6a979.png" class="img-responsive" style="width: 100%;"></p><p class="MsoNormal" style="margin-left:42.0pt;line-height:150%"><span lang="EN-US" style="font-size:12.0pt;mso-bidi-font-size:11.0pt;line-height:150%;
letter-spacing:2.0pt">&lt;o:p&gt;&nbsp;</o:p></span></p><p class="MsoNormal" style="margin-left:42.0pt;line-height:150%"><span lang="EN-US" style="font-size:12.0pt;mso-bidi-font-size:11.0pt;line-height:150%;
letter-spacing:2.0pt">b. </span><span style="font-size:12.0pt;mso-bidi-font-size:
11.0pt;line-height:150%;letter-spacing:2.0pt">在上行<span lang="EN-US">TBF</span>上进行下行<span lang="EN-US">TBF</span>的分配<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoNormal" style="margin-left:42.0pt;line-height:150%"><span lang="EN-US" style="font-size:12.0pt;mso-bidi-font-size:11.0pt;line-height:150%;
letter-spacing:2.0pt;mso-no-proof:yes">&lt;v:shape id=”图片_x0020_193” o:spid=”_x0000_i1026” type=”#_x0000_t75” style=”width:390.4pt;height:202.9pt;visibility:visible;<br> mso-wrap-style:square”&gt;<br> &lt;v:imagedata src=”file:///C:/Users/ADMINI<del>1/AppData/Local/Temp/msohtmlclip1/01/clip_image003.png” o:title=””&gt;<br></v:imagedata></v:shape></span><span lang="EN-US" style="font-size:12.0pt;mso-bidi-font-size:
11.0pt;line-height:150%;letter-spacing:2.0pt">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal" style="margin-left:42.0pt;line-height:150%"><span lang="EN-US" style="font-size:12.0pt;line-height:150%;letter-spacing:2.0pt">&lt;o:p&gt;&nbsp;</o:p></span><img src="http://oldask.openluat.com/image/show/attachments-2019-08-Xnwro9XT5d4b8284908ea.png" class="img-responsive" style="width: 100%;"></p><p class="MsoNormal">&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;在正常情况下，我们的模块能收到<span lang="EN-US">Downlink</span>分配的指令，并正常建立下行<span lang="EN-US">TBF. </span>如下图所示。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoNormal" align="left"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体;
mso-font-kerning:0pt;mso-no-proof:yes">&lt;v:shape id=”图片_x0020_196” o:spid=”_x0000_i1025” type=”#_x0000_t75” style=”width:415.5pt;height:169.5pt;visibility:visible;<br> mso-wrap-style:square”&gt;<br> &lt;v:imagedata src=”file:///C:/Users/ADMINI</del>1/AppData/Local/Temp/msohtmlclip1/01/clip_image004.png” o:title=””&gt;<br></v:imagedata></v:shape></span><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;
mso-bidi-font-family:宋体;mso-font-kerning:0pt">&lt;o:p&gt;</o:p></span></p><p class="MsoNormal" style="line-height:150%"><span lang="EN-US" style="font-size:
12.0pt;mso-bidi-font-size:11.0pt;line-height:150%;letter-spacing:2.0pt">&lt;o:p&gt;&nbsp;</o:p></span><img src="http://oldask.openluat.com/image/show/attachments-2019-08-ukHQtF0j5d4b828ad9ca9.png" class="img-responsive" style="width: 100%;"></p><p class="MsoNormal" style="line-height:150%"><br></p><p class="MsoNoSpacing">&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;&nbsp; &nbsp; &nbsp; &nbsp;而在<span lang="EN-US">TCP</span>服务器连接失败的情况下，我们并没有在<span lang="EN-US">LOG</span>中看到上述任意一种下行<span lang="EN-US">TBF</span>的分配。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoNoSpacing">&lt;span lang=”EN-US” style=”font-size:12.0pt;font-family:<br>“ microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;&lt;o:p&gt;&nbsp;</o:p></span></p><p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo1"><!--[if !supportLists]-->&lt;span lang=”EN-US” style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif;=”” mso-bidi-font-family:”microsoft=”” light””=””&gt;三、&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]-->&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;综合分析<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0">&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;由此，我们可以确认，<span lang="EN-US">TCP</span>服务器连接失败的原因是没有收到任何下行<span lang="EN-US">TBF</span>的分配。可能性有以下几种：<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l5 level1 lfo5"><!--[if !supportLists]-->&lt;span lang=”EN-US” style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif;=”” mso-bidi-font-family:”microsoft=”” light””=””&gt;1.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]-->&lt;span lang=”EN-US” style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;TCP</span>&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;服务器没有响应。</span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l5 level1 lfo5"><!--[if !supportLists]-->&lt;span lang=”EN-US” style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif;=”” mso-bidi-font-family:”microsoft=”” light””=””&gt;2.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]-->&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;网关侧没有把<span lang="EN-US">TCP</span>服务器的下行数据发过来。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l5 level1 lfo5"><!--[if !supportLists]-->&lt;span lang=”EN-US” style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif;=”” mso-bidi-font-family:”microsoft=”” light””=””&gt;3.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]-->&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;基站侧没有足够的下行<span lang="EN-US">TBF</span>可以分配。<span lang="EN-US"><br><br></span><span style="color:red">结合发送<span lang="EN-US">CIPSHUT</span>（去激活<span lang="EN-US">PDP</span>命令）后恢复正常的情况来看，第<span lang="EN-US">2</span>点的可能性最大</span>。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoNormal" style="margin-left:21.0pt"><span lang="EN-US">&nbsp;</span></p><p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo1"><!--[if !supportLists]-->&lt;span lang=”EN-US” style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif;=”” mso-bidi-font-family:”microsoft=”” light””=””&gt;四、&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]-->&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;结论<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0">&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;西安某地区连接服务器失败问题，我们分析结论如下：<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo6"><!--[if !supportLists]--><span lang="EN-US">1.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]-->&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;模块侧与基站的通信一切正常。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:39.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo6"><!--[if !supportLists]--><span lang="EN-US">2.&lt;span style=”font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: “ times=”” new=”” roman”;”=””&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></span></span><!--[endif]-->&lt;span style=”font-size:12.0pt;font-family:” microsoft=”” yahei=”” ui=”” light”,sans-serif”=””&gt;问题可能是因为网关侧的临时性故障。<span lang="EN-US">&lt;o:p&gt;</o:p></span></span></p><p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo1"><!--[if !supportLists]--><span lang="EN-US" style=""><font face="Microsoft YaHei UI Light, sans-serif"><span style="font-size: 12pt;">五、</span></font>&lt;span style=”font-family: “ times=”” new=”” roman”;=”” font-size:=”” 7pt;=”” font-variant-numeric:=”” normal;=”” font-variant-east-asian:=”” font-stretch:=”” line-height:=”” normal;”=””&gt;&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; line-height: normal; font-size: 16px;"><font face="Microsoft YaHei UI Light, sans-serif">解决办法</font></span></span></p><p></p>
</p><p class="MsoListParagraph" style="margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-size:12.0pt;font-family:" microsoft="" yahei="" ui="" light",sans-serif"="">在<span lang="EN-US">TCP</span>服务器连接失败后，发送<span lang="EN-US">AT+CIPSHUT</span>指令再重试。<span lang="EN-US"><o:p></o:p></span></span></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/08/601/" data-id="ckkfmdgei00dcvkcg9pxufd0c" data-title="Air208在西安某地区连接服务器失败问题分析过程" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-600" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/06/600/" class="article-date">
  <time class="dt-published" datetime="2019-08-06T09:42:16.000Z" itemprop="datePublished">2019-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/06/600/">Air系列模块同步时间功能汇总</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;div style=&quot;border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;&quot;&gt;
</code></pre>
<div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><a name="下载安装"></a><b><span style="font-size:14.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:18.0pt">一、时间同步方案概述</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">在使用<span lang="EN-US">Air</span>系列模块开发项目时，有时会要求模块提供准确的时间，目前主要有三种同步时间的主流方案可供选择，分别是：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、基站同步时间<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、<span lang="EN-US">NTP</span>同步时间<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">、自建服务器同步时间<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">三种方案在可靠性和易用性上各有优势，您可以根据设备所需的安全等级和实际的产品逻辑灵活选择，方案对比如下图所示<span lang="EN-US"><o:p></o:p></span></span></p><div align="center">

<table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="border: none;">
 <tbody><tr style="mso-yfti-irow:0;mso-yfti-firstrow:yes;height:13.8pt">
  <td width="56" style="width:33.7pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:13.8pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:
  &quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
  0pt"><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width="204" style="width:122.2pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-left:none;mso-border-left-alt:solid black .5pt;mso-border-left-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:13.8pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">基站同步<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="189" style="width:4.0cm;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-left:none;mso-border-left-alt:solid black .5pt;mso-border-left-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:13.8pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:
  &quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
  0pt">NTP</span><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">同步<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="196" style="width:117.55pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-left:none;mso-border-left-alt:solid black .5pt;mso-border-left-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt;
  height:13.8pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">自建服务器同步<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr>
  <td width="56" style="width:33.7pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">可靠性<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="204" style="width:122.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">一般<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">部分基站不支持时间同步功能<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="189" style="width:4.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;mso-border-bottom-themecolor:text1;border-right:solid black 1.0pt;
  mso-border-right-themecolor:text1;mso-border-top-alt:solid black .5pt;
  mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">一般<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">取决于免费的公共<span lang="EN-US">NTP</span>服务器稳定性，<span lang="EN-US">NTP</span>服务器出问题之后，无法及时修复<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="196" style="width:117.55pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">可靠<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">自建服务器，命运掌握在自己手中，即使服务器出问题，也可以及时修复<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr>
  <td width="56" style="width:33.7pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">易用性<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="204" style="width:122.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">容易<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="189" style="width:4.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;mso-border-bottom-themecolor:text1;border-right:solid black 1.0pt;
  mso-border-right-themecolor:text1;mso-border-top-alt:solid black .5pt;
  mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:
  &quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
  0pt">4G AT</span><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">版本：困难<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:
  &quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
  0pt">2G AT</span><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">版本：困难<span lang="EN-US"><o:p></o:p></span></span></p>
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:
  &quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
  0pt">Lua</span><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">版本：容易<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="196" style="width:117.55pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">一般<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr>
  <td width="56" style="width:33.7pt;border:solid black 1.0pt;mso-border-themecolor:
  text1;border-top:none;mso-border-top-alt:solid black .5pt;mso-border-top-themecolor:
  text1;mso-border-alt:solid black .5pt;mso-border-themecolor:text1;background:
  #EEECE1;mso-background-themecolor:background2;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">其他注意事项<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="204" style="width:122.2pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:
  &quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
  0pt">4G</span><span style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
  mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">版本的基站同步时间无法关闭，默认一直处于开启状态；只要掉网后或者重启后，再次注册上网络，如果基站支持时间同步功能，都会自动下发同步指令，模块更新本地时间<span lang="EN-US"><o:p></o:p></span></span></p>
  </td>
  <td width="189" style="width:4.0cm;border-top:none;border-left:none;border-bottom:
  solid black 1.0pt;mso-border-bottom-themecolor:text1;border-right:solid black 1.0pt;
  mso-border-right-themecolor:text1;mso-border-top-alt:solid black .5pt;
  mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:
  &quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
  0pt"><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width="196" style="width:117.55pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;mso-border-bottom-themecolor:text1;
  border-right:solid black 1.0pt;mso-border-right-themecolor:text1;mso-border-top-alt:
  solid black .5pt;mso-border-top-themecolor:text1;mso-border-left-alt:solid black .5pt;
  mso-border-left-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" style="margin-bottom:7.4pt;mso-pagination:widow-orphan;
  word-break:break-all"><span lang="EN-US" style="font-size:7.5pt;font-family:
  &quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
  0pt"><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</tbody></table>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;mso-hansi-font-family:
inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt">二、时间同步方案选择以及编码逻辑</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">本章节根据两个典型的应用场景来阐述方案选择和编码逻辑，如果不能满足实际产品需求，可根据不同方案的特点自行修改<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">1</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、应用场景一：时间必须同步</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">因为此场景要求时间必须同步，所以我们的同步逻辑直接使用“自建服务器同步”方案，下面从模块和版本两方面来详述<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><span lang="EN-US" style="font-size:6.5pt;mso-bidi-font-size:11.0pt;font-family:Consolas;
mso-fareast-font-family:宋体;color:#C7254E;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">1.1</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">4G AT</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">版本</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">/2G AT</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">版本</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">MCU</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">端伪代码逻辑如下<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">uint8 bTimeSyned = 0 //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">时间同步标志初始化为“未同步”</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">if (</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">收到了自建服务器的时间同步报文</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"> &amp;&amp; bTimeSyned==0)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">{<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp; </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">发送</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CCLK=...</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">命令来设置模块的系统时间</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp; if
  (AT+CCLK=...</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">命令返回设置成功</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  bTimeSyned = 1 //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">时间同步标志初始化为“已同步”</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  else<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp; {<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">自定义重试逻辑，建议请求服务器再次下发时间同步报文</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">如果一直设置失败，可以尝试软重启</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp; }<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">}</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MCU</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">端可以通过<span lang="EN-US">AT+CCLK?</span>命令来查询模块系统时间<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4G</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">模块<span lang="EN-US">AT</span>命令手册：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://www.openluat.com/Product/4g/Air720D.html">http://www.openluat.com/Product/4g/Air720D.html</a></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">资料下载</span><span lang="EN-US">-&gt;</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">相关文档</span><span lang="EN-US">-&gt;[AT </span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">手册</span><span lang="EN-US">] Luat 4G</span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">模块</span><span lang="EN-US">AT</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">命令手册</span><span lang="EN-US">VX.X.X.pdf</span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US">&nbsp;</span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span lang="EN-US" style="font-size:9.0pt;font-family:
&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">2G</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">模块<span lang="EN-US">AT</span>命令手册：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://www.openluat.com/Product/gprs/Air202.html">http://www.openluat.com/Product/gprs/Air202.html</a></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">资料下载</span><span lang="EN-US">-&gt;</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">相关文档</span><span lang="EN-US">-&gt; [</span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">使用手册</span><span lang="EN-US">] AirM2M </span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">无线模块</span><span lang="EN-US">AT</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">命令手册</span><span lang="EN-US">VX.XX</span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.2</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;
mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">4G Lua</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-ascii-font-family:inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">版本</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">/2G Lua</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">版本</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">脚本伪代码逻辑如下<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">local bTimeSyned = false --</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">时间同步标志初始化为“未同步”</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">if </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">收到了自建服务器的时间同步报文</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"> and not bTimeSyned then<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  misc.setClock(</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">要设置的时间</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">,<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  function(tm,result)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;&nbsp;bTimeSyned = result <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  if not result then<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">自定义重试逻辑，建议请求服务器再次下发时间同步报文</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">如果一直设置失败，可以尝试软重启</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  end<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  end<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  )&nbsp;&nbsp;&nbsp; <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">end</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">脚本可以通过<span lang="EN-US">os.time()</span>或者<span lang="EN-US">os.date</span></span><span lang="EN-US">(</span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">"*t")</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">来查询模块系统时间<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">2</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:
inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">、应用场景二：时间可选同步</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">因为此场景要求时间可选同步，所以我们的同步逻辑中可采用“基站同步<span lang="EN-US">+NTP</span>同步”或者“基站同步<span lang="EN-US">+NTP</span>同步<span lang="EN-US">+</span>自建服务器同步”方案组合，下面从模块和版本两方面来详述<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.1</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;
mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">4G AT</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-ascii-font-family:inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">版本</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">MCU</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">端伪代码逻辑如下<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">uint8 bTimeSyned = 0 //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">时间同步标志初始化为“未同步”</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">//</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">检查基站同步是否成功</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">if (</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">收到了类似于</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">+NITZ: 19/08/02,09:19:33+32,0</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">URC</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">提示</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">{<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  bTimeSyned = 1 //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">时间同步标志初始化为“已同步”</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">}<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">// </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">如果基站时间同步失败，则参考</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">命令手册，发送如下</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">命令序列，尝试</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">NTP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">同步</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"Contype","GPRS"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"APN","CMNET"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=1,1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CNTPCID=1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CNTP<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=0,1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">//</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">如果</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">NTP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">时间同步失败，并且存在用户自建服务器同步时间的方案，则参考</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">1.1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">章节的代码逻辑来同步</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MCU</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">端可以通过<span lang="EN-US">AT+CCLK?</span>命令来查询模块系统时间<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4G</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">模块<span lang="EN-US">AT</span>命令手册：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://www.openluat.com/Product/4g/Air720D.html">http://www.openluat.com/Product/4g/Air720D.html</a></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">资料下载</span><span lang="EN-US">-&gt;</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">相关文档</span><span lang="EN-US">-&gt;[AT </span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">手册</span><span lang="EN-US">] Luat 4G</span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">模块</span><span lang="EN-US">AT</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">命令手册</span><span lang="EN-US">VX.X.X.pdf</span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.2</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;
mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">2G AT</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-ascii-font-family:inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">版本</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">MCU</span><span style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">端伪代码逻辑如下<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">uint8 bTimeSyned = 0 //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">时间同步标志初始化为“未同步”</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">//</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">模块开机后，</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">命令通道准备就绪之后（一定要在网络注册成功之前）</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">//</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">向模块发送</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CLTS=1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">命令，打开基站同步时间功能</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">//</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">检查基站同步是否成功</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">if (</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">收到了类似于</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">*PSUTTZ: 2019,8,2,23,59,52,"+32",0</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">URC</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">提示</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">{<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  bTimeSyned = 1 //</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">时间同步标志初始化为“已同步”</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">}<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">// </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">如果基站时间同步失败，则参考</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">命令手册，发送如下</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">命令序列，尝试</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">NTP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">同步</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"Contype","GPRS"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=3,1,"APN","CMNET"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=1,1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CNTPCID=1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CNTP<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+SAPBR=0,1<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">//</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">如果</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">NTP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">时间同步失败，并且存在用户自建服务器同步时间的方案，则参考</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">1.1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">章节的代码逻辑来同步</span></span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
  宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MCU</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">端可以通过<span lang="EN-US">AT+CCLK?</span>命令来查询模块系统时间<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2G</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">模块<span lang="EN-US">AT</span>命令手册：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://www.openluat.com/Product/gprs/Air202.html">http://www.openluat.com/Product/gprs/Air202.html</a></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">资料下载</span><span lang="EN-US">-&gt;</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">相关文档</span><span lang="EN-US">-&gt; [</span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">使用手册</span><span lang="EN-US">] AirM2M </span><span style="font-family:宋体;mso-ascii-font-family:
Calibri;mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">无线模块</span><span lang="EN-US">AT</span><span style="font-family:宋体;mso-ascii-font-family:Calibri;
mso-ascii-theme-font:minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:
minor-fareast;mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">命令手册</span><span lang="EN-US">VX.XX</span><span lang="EN-US" style="font-size:9.0pt;font-family:
&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt"><o:p></o:p></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.3</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;
mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">4G Lua</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-ascii-font-family:inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">版本</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">脚本代码如下（<span lang="EN-US">timeSync.lua</span>）<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--- </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">模块功能：时间同步</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">.<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">-- </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">注意：本文件仅仅演示了基站同步和</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">NTP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">同步两种方案，此两种方案都不是百分百可靠</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">-- </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">如果产品需要百分百时间同步，则建议使用自建服务器方案来实现</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">-- @author openLuat<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">module(...,package.seeall)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">require"ril"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">require"ntp"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">local function printTime()<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  local tClock = os.date("*t")<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  log.info("printTime", <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  string.format("%04d-%02d-%02d %02d:%02d:%02d",tClock.year,tClock.month,tClock.day,tClock.hour,tClock.min,tClock.sec))<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">end<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">每隔</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">秒输出</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">次当前模块系统时间</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">sys.timerLoopStart(printTime,1000)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--bTimeSyned </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">：时间是否已经成功同步过</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">local bTimeSyned<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">注册基站时间同步的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">URC</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">消息处理函数</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">ril.regUrc("+NITZ",
  function()&nbsp;&nbsp;&nbsp; <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  log.info("cell.timeSync")<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  printTime()&nbsp;&nbsp;&nbsp; <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  bTimeSyned = true<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">end)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--IP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">网络准备就绪后，如果基站尚未成功同步时间，则尝试使用</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">NTP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">同步时间</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"> <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">sys.subscribe("IP_READY_IND",
  function()<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp; if
  not bTimeSyned then&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  ntp.timeSync(nil,function(tClock,success)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  log.info("ntp.timeSync",success)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  printTime()<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  bTimeSyned = success<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  end)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  end <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">end)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">如果</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">NTP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">时间同步失败，并且存在用户自建服务器同步时间的方案，则自行实现自建服务器同步时间代码</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:
  &quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
  0pt"><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">脚本可以通过<span lang="EN-US">os.time()</span>或者<span lang="EN-US">os.date</span></span><span lang="EN-US">(</span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">"*t")</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">来查询模块系统时间<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.4</span></b><b><span style="font-size:
11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;
mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">、</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;
mso-fareast-font-family:微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
0pt">2G Lua</span></b><b><span style="font-size:11.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;
mso-ascii-font-family:inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">版本</span></b><b><span lang="EN-US" style="font-size:11.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">脚本代码如下（<span lang="EN-US">timeSync.lua</span>）<span lang="EN-US"><o:p></o:p></span></span></p><table class="MsoTableGrid" border="1" cellspacing="0" cellpadding="0" style="margin-left: 26.7pt; background: rgb(242, 242, 242); border: none;">
 <tbody><tr>
  <td width="666" valign="top" style="width:399.4pt;border:solid black 1.0pt;
  mso-border-themecolor:text1;mso-border-alt:solid black .5pt;mso-border-themecolor:
  text1;padding:0cm 5.4pt 0cm 5.4pt">
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--- </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">模块功能：时间同步</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">.<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">-- </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">注意：本文件仅仅演示了基站同步和</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">NTP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">同步两种方案，此两种方案都不是百分百可靠</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">-- </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">如果产品需要百分百时间同步，则建议使用自建服务器方案来实现</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">-- @author openLuat<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">module(...,package.seeall)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">require"ril"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">require"ntp"<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">local function printTime()<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  local tClock = os.date("*t")<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  log.info("printTime", <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  string.format("%04d-%02d-%02d
  %02d:%02d:%02d",tClock.year,tClock.month,tClock.day,tClock.hour,tClock.min,tClock.sec))<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">end<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">每隔</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">秒输出</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">次当前模块系统时间</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">sys.timerLoopStart(printTime,1000)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--bTimeSyned </span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">：时间是否已经成功同步过</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">local bTimeSyned<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">发送</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">AT+CLTS=1</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">，打开基站同步时间功能</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">ril.request("AT+CLTS=1")<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">注册基站时间同步的</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">URC</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">消息处理函数</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">ril.regUrc("*PSUTTZ",
  function()&nbsp;&nbsp;&nbsp; <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  log.info("cell.timeSync")<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  printTime()&nbsp;&nbsp;&nbsp; <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  bTimeSyned = true<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">end)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--IP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">网络准备就绪后，如果基站尚未成功同步时间，则尝试使用</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">NTP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">同步时间</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"> <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">sys.subscribe("IP_READY_IND",
  function()<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp; if
  not bTimeSyned then&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  ntp.timeSync(nil,function(tClock,success)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  log.info("ntp.timeSync",success)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  printTime()<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  bTimeSyned = success<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  end)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp;&nbsp;
  end <o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">end)<o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p>&nbsp;</o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">--</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">如果</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">NTP</span></span><span class="pln"><span style="font-size: 7.5pt; font-family: 宋体; border: 1pt none windowtext; padding: 0cm;">时间同步失败，并且存在用户自建服务器同步时间的方案，则自行实现自建服务器同步时间代码</span></span><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;"><o:p></o:p></span></span></p>
  <p class="MsoNormal" align="left" style="word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;font-family:
  &quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:
  0pt"><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</tbody></table><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:9.0pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:宋体;color:#333333;
mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">脚本可以通过<span lang="EN-US">os.time()</span>或者<span lang="EN-US">os.date</span></span><span lang="EN-US">(</span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">"*t")</span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">来查询模块系统时间<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-ascii-font-family:inherit;mso-hansi-font-family:
inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt">三、其他补充</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:&quot;inherit&quot;,&quot;serif&quot;;mso-fareast-font-family:
微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt">其他还有很多方案可以同步时间，参考：</span><span lang="EN-US"><a target="_blank" rel="noopener" href="http://oldask.openluat.com/article/30">http://oldask.openluat.com/article/30</a></span><span lang="EN-US" style="font-size:9.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p></o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><a name="下载安装"></a>











































































































</p><p class="MsoNormal" align="center" style="margin-bottom: 7.4pt; text-align: center; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;;mso-bidi-font-family:
宋体;color:#333333;mso-font-kerning:0pt"><o:p>&nbsp;</o:p></span></p></div>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/06/600/" data-id="ckkfmdgg400f8vkcg6iku58cx" data-title="Air系列模块同步时间功能汇总" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-599" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/06/599/" class="article-date">
  <time class="dt-published" datetime="2019-08-06T06:18:34.000Z" itemprop="datePublished">2019-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/06/599/">如何在linux 上添加合宙4G 驱动</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;p style=&quot;color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp;Air720正常启动后，通过USB连接到linux设备上，驱动正常加载后会产生如下设备：&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp;1.Air720 系列 （1802/1802S）&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;img style=&quot;width: 728px;&quot; src=&quot;http://oldask.openluat.com/image/show/attachments-2019-10-BqkECMQm5daebf60a1907.jpg&quot; class=&quot;img-responsive&quot;&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51);&quot;&gt;2.Air720U系列（8910）&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;div&gt;&lt;h2 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&lt;span style=&quot;font-weight: 700;&quot;&gt;一、修改驱动&lt;/span&gt;&lt;/h2&gt;&lt;h5 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h5&gt;&lt;h5 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;首先需要对Linux内核驱动做一定的修改，使操作系统能够支持Air720&lt;span style=&quot;font-weight: 700;&quot;&gt;。&lt;/span&gt;&lt;/h5&gt;&lt;h5 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&lt;span style=&quot;font-weight: 700;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/h5&gt;&lt;h4 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-weight: 700;&quot;&gt;1.Add VID add PID&lt;/span&gt;&lt;/h4&gt;&lt;h4 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;span style=&quot;font-weight: 700;&quot;&gt;File: [KERNEL]/drivers/usb/serial/option.c&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/h4&gt;&lt;pre style=&quot;line-height: 1.42857;&quot;&gt;static const struct usb_device_id option_ids[] = &#123;&lt;br&gt;&lt;pre&gt;&amp;nbsp; &amp;nbsp; //+add by airm2m for Air72x&lt;br&gt;&amp;nbsp;   &#123; USB_DEVICE(0x1782, 0x4e00) &#125;,    /* 720U 系列*/&lt;br&gt;&amp;nbsp; &amp;nbsp; &#123; USB_DEVICE(0x1286, 0x4e3d) &#125;,     /* 720 系列*/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;//-add by airm2m for Air72x&lt;/pre&gt;&lt;h5 style=&quot;line-height: 1.42857;&quot;&gt;&amp;nbsp;&#123; USB_DEVICE(OPTION_VENDOR_ID, OPTION_PRODUCT_COLT) &#125;,&lt;/h5&gt;&amp;nbsp; &amp;nbsp; &#123; USB_DEVICE(OPTION_VENDOR_ID, OPTION_PRODUCT_RICOLA) &#125;,&lt;br&gt;&amp;nbsp; &amp;nbsp; &#123; USB_DEVICE(OPTION_VENDOR_ID, OPTION_PRODUCT_RICOLA_LIGHT) &#125;,&lt;br&gt;&amp;nbsp; &amp;nbsp; &#123; USB_DEVICE(OPTION_VENDOR_ID, OPTION_PRODUCT_RICOLA_QUAD) &#125;,&lt;br&gt;&amp;nbsp; &amp;nbsp; &#123; USB_DEVICE(OPTION_VENDOR_ID, OPTION_PRODUCT_RICOLA_QUAD_LIGHT) &#125;,&amp;nbsp; &amp;nbsp;&lt;/pre&gt;&lt;h4 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/h4&gt;&lt;h4 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-weight: 700;&quot;&gt;2. Add the Zero Packet Mechanism&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/h4&gt;&lt;h5 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-weight: 700;&quot;&gt;⦁For linux Kernel Version newer than 2.6.34：&lt;/span&gt;&lt;/h5&gt;&lt;h5 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-weight: 700;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;File: [KERNEL]/drivers/usb/serial/usb_wwan.c&lt;/font&gt;&lt;/span&gt;&lt;/h5&gt;&lt;pre style=&quot;line-height: 1.42857;&quot;&gt;static struct urb *usb_wwan_setup_urb(struct usb_serial_port *port,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; int endpoint,&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; int dir, void *ctx, char *buf, int len,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void (*callback) (struct urb *))&lt;br&gt;&#123;&lt;br&gt;&amp;nbsp; &amp;nbsp; struct usb_serial *serial = port-&amp;gt;serial;&lt;br&gt;&amp;nbsp; &amp;nbsp; struct urb *urb;&lt;br&gt;&amp;nbsp; &amp;nbsp; urb = usb_alloc_urb(0, GFP_KERNEL); /* No ISO */&lt;br&gt;&amp;nbsp; &amp;nbsp; if (!urb)&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return NULL;&lt;br&gt;&amp;nbsp; &amp;nbsp; usb_fill_bulk_urb(urb, serial-&amp;gt;dev,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; usb_sndbulkpipe(serial-&amp;gt;dev, endpoint) | dir,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; buf, len, callback, ctx);&lt;br&gt;&lt;pre&gt;&amp;nbsp; &amp;nbsp; //+add by airm2m for Air72x&lt;br&gt;&amp;nbsp; &amp;nbsp; if(dir == USB_DIR_OUT)&#123;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; struct usb_device_descriptor *desc = &amp;amp;serial-&amp;gt;dev-&amp;gt;descriptor;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if((desc-&amp;gt;idVendor == cpu_to_le16(0x1286) &amp;amp;&amp;amp; desc-&amp;gt;idProduct == cpu_to_le16(0x4e3d))   )  /* 720 系列*/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &#123;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; urb-&amp;gt;transfer_flags |= URB_ZERO_PACKET;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &#125;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if((desc-&amp;gt;idVendor == cpu_to_le16(0x1782) &amp;amp;&amp;amp; desc-&amp;gt;idProduct == cpu_to_le16(0x4e00))  )   /* 720U 系列*/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; urb-&amp;gt;transfer_flags |= URB_ZERO_PACKET;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &#125;&lt;br&gt;&amp;nbsp; &amp;nbsp; &#125;&lt;br&gt;&amp;nbsp; &amp;nbsp; //-add by airm2m for Air72x&lt;/pre&gt;&lt;h5 style=&quot;line-height: 1.42857;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &#123;&lt;/h5&gt;&amp;nbsp; &amp;nbsp; return urb;&lt;br&gt;&#125;&lt;/pre&gt;&lt;div style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;span style=&quot;font-weight: 700;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-weight: 700;&quot;&gt;⦁For linux Kernel Version older than 2.6.35：&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;h4 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;font color=&quot;#ff0000&quot;&gt;&amp;nbsp;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-weight: 700;&quot;&gt;File: [KERNEL]/drivers/usb/serial/option.c&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;/h4&gt;&lt;pre style=&quot;line-height: 1.42857;&quot;&gt;static struct urb *option_setup_urb(struct usb_serial *serial, int endpoint,&lt;br&gt;int dir, void *ctx, char *buf, int len,&lt;br&gt;void (*callback)(struct urb *))&lt;br&gt;&#123;&lt;br&gt;......&lt;br&gt;/* Fill URB using supplied data. */&lt;br&gt;usb_fill_bulk_urb(urb, serial-&amp;gt;dev,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; usb_sndbulkpipe(serial-&amp;gt;dev, endpoint) | dir,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; buf, len, callback, ctx);&lt;br&gt;//+add by airm2m for Air72x&lt;br&gt;if(dir == USB_DIR_OUT)&lt;br&gt;&#123;&lt;br&gt;&lt;pre&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; struct usb_device_descriptor *desc = &amp;amp;serial-&amp;gt;dev-&amp;gt;descriptor;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if(desc-&amp;gt;idVendor == cpu_to_le16(0x1286) &amp;amp;&amp;amp; desc-&amp;gt;idProduct == cpu_to_le16(0x4e3d))     /* 720 系列*/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &#123;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; urb-&amp;gt;transfer_flags |= URB_ZERO_PACKET;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &#125;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if(desc-&amp;gt;idVendor == cpu_to_le16(0x1782) &amp;amp;&amp;amp; desc-&amp;gt;idProduct == cpu_to_le16(0x4e00))    /* 720U 系列*/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &#123;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; urb-&amp;gt;transfer_flags |= URB_ZERO_PACKET;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &#125;&lt;/pre&gt;&lt;h5 style=&quot;line-height: 1.42857;&quot;&gt;&lt;br&gt;&lt;/h5&gt;&#125;&lt;br&gt;//-add by airm2m for Air72x&lt;br&gt;return urb;&lt;br&gt;&#125;&lt;/pre&gt;&lt;div style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;h4 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-weight: 700;&quot;&gt;3. Add Reset Resume&lt;/span&gt;&lt;/h4&gt;&lt;h5 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-weight: 700;&quot;&gt;⦁For linux Kernel Version newer than 3.4：&lt;/span&gt;&lt;/h5&gt;&lt;h5 style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, &amp;quot;Microsoft Yahei&amp;quot;, sans-serif; color: rgb(51, 51, 51);&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-weight: 700;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;File: [KERNEL]/drivers/usb/serial/option.c&lt;/font&gt;&lt;/span&gt;&lt;/h5&gt;&lt;pre style=&quot;line-height: 1.42857;&quot;&gt;static struct usb_serial_driver option_1port_device = &#123;&lt;br&gt;&amp;nbsp; &amp;nbsp; .driver = &#123;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .owner =&amp;nbsp; &amp;nbsp; THIS_MODULE,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .name =&amp;nbsp; &amp;nbsp; &amp;nbsp;&quot;option1&quot;,&lt;br&gt;&amp;nbsp; &amp;nbsp; &#125;,&amp;nbsp; &amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; ....&lt;br&gt;#ifdef CONFIG_PM&lt;br&gt;&amp;nbsp; &amp;nbsp; .suspend&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;= usb_wwan_suspend,&lt;br&gt;&amp;nbsp; &amp;nbsp; .resume&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = usb_wwan_resume,
</code></pre>
<pre style="line-height: 1.42857;">&nbsp; &nbsp; //+add by airm2m for Air720<br>&nbsp; &nbsp; .reset_resume&nbsp; &nbsp; &nbsp; = usb_wwan_resume,<br>&nbsp; &nbsp; //-add by airm2m for Air720</pre>#endif<br><br>};</pre><h5 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);"><br></h5><div style="color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-weight: 700;">⦁For linux Kernel Version older than 3.5：</span><br></div><h5 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;<font color="#ff0000"><span style="font-weight: 700;">File: [kernel]/drivers/usb/serial/usb-serial.c</span></font></h5><pre style="line-height: 1.42857;">/* Driver structure we register with the USB core */<br>static struct usb_driver usb_serial_driver = {<br>.name ="usbserial",<br>.probe =usb_serial_probe,<br>.disconnect =usb_serial_disconnect,<br>.suspend =usb_serial_suspend,<br>.resume =usb_serial_resume,<br><pre> //+add by airm2m for Air72x<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .reset_resume&nbsp; &nbsp; &nbsp; = usb_serial_resume,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //-add by airm2m for Air72x</pre>.no_dynamic_id = 1,<br>};</pre><div style="color: rgb(51, 51, 51);"><br></div><h4 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-weight: 700;">4. Modify Kernel Configuration</span></h4><h5 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);">&nbsp;&nbsp;<span style="font-weight: 700;"><font color="#ff0000">&nbsp; Step 1：</font></span></h5><pre style="line-height: 1.42857;">&nbsp;&nbsp;&nbsp;&nbsp;cd &lt;your kernel directory&gt;</pre><div style="color: rgb(51, 51, 51);"><span style="font-weight: 700;"><font color="#ff0000">&nbsp; &nbsp; Step 2：</font></span><br></div><pre style="line-height: 1.42857;">&nbsp;&nbsp;&nbsp;&nbsp;make menuconfig</pre><div style="color: rgb(51, 51, 51);">&nbsp;&nbsp;<font color="#ff0000">&nbsp;&nbsp;<span style="font-weight: 700;">Step 3：</span><span style="font-weight: 700;">Enable CONFIG_USB_SERIAL_OPTION</span></font></div><pre style="line-height: 1.42857;">[*] Device Drivers →<br>　　[*] USB Support →<br>　　　　[*] USB Serial Converter support →<br>　　　　　　[*] USB driver for GSM and CDMA modems</pre><div style="color: rgb(51, 51, 51);"><br></div><h4 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);"><a data-fancybox="gallery" target="_blank" rel="noopener" href="http://oldask.openluat.com/image/show/attachments-2018-09-UvLI6qjo5b8b7c3fabe04.png" class="display-original-image"><img src="http://oldask.openluat.com/image/show/attachments-2018-09-UvLI6qjo5b8b7c3fabe04.png" class="img-responsive" alt="attachments-2018-09-UvLI6qjo5b8b7c3fabe04.png" style="height: 644px; width: 799.448px;"></a><font color="#ff0000"><span style="font-size: 14px;"><span style="font-weight: 700;"><br></span></span></font></h4><h5 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);">&nbsp; &nbsp;&nbsp;<font color="#ff0000"><span style="font-weight: 700;">Step 4：</span><span style="font-weight: 700;">Configure Kernel to Support PPP</span></font></h5><pre style="line-height: 1.42857;">[*] Device Drivers →<br>　　[*] Network device support →<br>　　　　[*] PPP (point-to-point protocol) support</pre><div style="color: rgb(51, 51, 51);"><br></div><div style="color: rgb(51, 51, 51);"><a data-fancybox="gallery" target="_blank" rel="noopener" href="http://oldask.openluat.com/image/show/attachments-2018-09-0MkDlKPS5b8b7cde500a3.png" class="display-original-image"><img src="http://oldask.openluat.com/image/show/attachments-2018-09-0MkDlKPS5b8b7cde500a3.png" class="img-responsive" alt="attachments-2018-09-0MkDlKPS5b8b7cde500a3.png" style="height: 614.815px; width: 800px;"></a></div><h4 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);"><font color="#ff0000"><span style="font-size: 14px;"><span style="font-weight: 700;"><br></span></span></font></h4><h4 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);">&nbsp; &nbsp;<span style="font-weight: 700;">5.编译内核</span></h4><pre style="line-height: 1.42857;">&nbsp; &nbsp; make&nbsp;&nbsp;&nbsp;&nbsp;</pre><h5 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;将编译好的内核下载到开发板。</h5><h4 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);">&nbsp; &nbsp;&nbsp;</h4><p style="color: rgb(51, 51, 51);"><span style="font-weight: 700;">&nbsp;二、模块测试</span><br></p><h5 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;将重新编译好的内核下载到开发板之后，待系统重新启动，如果是带RNDIS网卡的驱动，在/dev/目录下会出现如下设备节点：</h5><h4 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);"><a data-fancybox="gallery" target="_blank" rel="noopener" href="http://oldask.openluat.com/image/show/attachments-2018-11-lQNpAg605bf24e973ad6f.png" class="display-original-image"><img src="http://oldask.openluat.com/image/show/attachments-2018-11-lQNpAg605bf24e973ad6f.png" class="img-responsive" style="height: 113.519px; width: 792.207px;"></a><br><font color="#ff0000"><span style="font-size: 14px;"><span style="font-weight: 700;"><br></span></span></font></h4><h5 style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;WenQuanYi Micro Hei&quot;, &quot;Microsoft Yahei&quot;, sans-serif; color: rgb(51, 51, 51);">Air720的AT端口是/dev/ttyUSB2，现在你可以使用UART端口工具如“minicom”或“busybox microcom”测试AT功能，结果如下：</h5><div style="color: rgb(51, 51, 51);"><a data-fancybox="gallery" target="_blank" rel="noopener" href="http://oldask.openluat.com/image/show/attachments-2018-09-VciAwk855b8b81601e624.png" style="color: rgb(35, 82, 124); text-decoration-line: underline; outline: 0px;" class="display-original-image"><img src="http://oldask.openluat.com/image/show/attachments-2018-09-VciAwk855b8b81601e624.png" class="img-responsive" alt="attachments-2018-09-VciAwk855b8b81601e624.png" style="height: 691.831px; width: 800px;"></a></div></div>






      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/06/599/" data-id="ckkfmdgei00dbvkcg22vmaogb" data-title="如何在linux 上添加合宙4G 驱动" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-598" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/02/598/" class="article-date">
  <time class="dt-published" datetime="2019-08-02T04:13:00.000Z" itemprop="datePublished">2019-08-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/02/598/">Air720系列4G模块软件异常死机后，如何dump死机现场数据</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;div style=&quot;border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;&quot;&gt;
</code></pre>
<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><a name="下载安装"></a><b><span style="font-size:14.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:18.0pt"="">一、背景</span></b><b><span lang="EN-US" style="font-size:
14.5pt;font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:18.0pt"=""><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">客户在使用<span lang="EN-US">Air720</span>系列<span lang="EN-US">4G</span>模块开发调试过程中，有时会遇到<span lang="EN-US">blf</span>运行异常导致的重启问题，例如下图表示的一个例子<span lang="EN-US"><o:p></o:p></span></span></p><div style="mso-element:para-border-div;border:solid #DDDDDD 1.0pt;mso-border-alt:
solid #DDDDDD .5pt;padding:5.0pt 5.0pt 5.0pt 5.0pt;background:#F6F6F6;
margin-left:18.0pt;margin-right:0cm"><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">1.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp;&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 7.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp; </span></span><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">EE LOG: PC: 0x6767cc4<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">2.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp;&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: SP: 0x72adb80<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">3.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp;&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: MSA Disable Sleep<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">4.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp;&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: Wait for DSP L1 Memory dump...<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">5.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp;&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: first entry!<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">6.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp;&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: Software version: NZ_NZ_CP_2.178.000X<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">7.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp;&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: Compilation time: Jun 13 2019 09:17:56<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">8.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp;&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; Ep0: TX 0, RX 0<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">9.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp;&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; AT: TX 0, RX 0, CTRL 0<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">10.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; DIAG: TX 0, RX 0, CTRL 0<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">11.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; RNDIS: TX 0, RX 1, CTRL 0<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">12.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; MassStorage: TX 0, RX 0<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">13.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: Cancel RNDIS transfer<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">14.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: Prepare for Sd dump<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">15.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: eeSDDumpPrepare Enter<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">16.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: eeSDDumpPrepare Exit<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">17.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: Prepare for diag transmit<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">18.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: finalAction:5, eeFatalActionExt:602453d, eeMode:3f<o:p></o:p></span></span></pre><pre style="margin-left: 18pt; text-indent: -18pt; background: rgb(246, 246, 246); border-width: initial; border-style: none; border-color: initial; padding: 0cm;"><!--[if !supportLists]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">19.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: " times="" new="" roman";"="">&nbsp; </span></span></span><!--[endif]--><span class="pln"><span lang="EN-US" style="font-size: 6.5pt; font-family: Consolas; border: 1pt none windowtext; padding: 0cm;">&nbsp;&nbsp; EE LOG: IPCIIR 0x0, APBC_IPC_CLK 0x4, AIRQ_IPC_ENABLE 0x3d10<o:p></o:p></span></span></pre></div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">如果客户根据日志信息无法解决异常时，可能需要<span lang="EN-US">dump</span>异常现场数据给合宙技术支持人员分析，本文章介绍如何<span lang="EN-US">dump</span>现场数据<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;
font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;mso-hansi-font-family:="" inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"="">二、代码准备工作</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"=""><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">合宙官方对外正式发布的固件，无论是<span lang="EN-US">AT</span>版本还是<span lang="EN-US">Lua</span>版本， 默认配置为自动重启模式，意味着一旦出现异常，会自动重启<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">在自动重启模式下，用户无法<span lang="EN-US">dump</span>现场数据，所以首先要做的是：把固件配置为死机模式，配置为死机模式后，一旦再出现异常，不再自动重启，用户就有充足的时间来<span lang="EN-US">dump</span>现场信息。<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">那么如何配置为死机模式呢，有如下两种方法：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (1)</span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">、<span lang="EN-US">AT</span>版本和<span lang="EN-US">Lua</span>版本有稍许差别<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; AT</span><span style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">版本：<span lang="EN-US">MCU</span>通过<span lang="EN-US">4G</span>模块的<span lang="EN-US">AT</span>口发送<span lang="EN-US">AT*EXASSERT=1</span>命令<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; Lua</span><span style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">版本：在<span lang="EN-US">main.lua</span>的<span lang="EN-US">sys.init(...)</span>前增加一行代码<span lang="EN-US">ril.request("AT*EXASSERT=1")<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (2)</span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">、<span lang="EN-US">PC</span>上通过串口工具向<span lang="EN-US">4G</span>模块<span lang="EN-US">USB</span>口映射出的<span lang="EN-US">ASR
Modem Device AT</span>口发送<span lang="EN-US">AT*EXASSERT=1</span>命令<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:red;mso-font-kerning:0pt"="">注意：<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:red;mso-font-kerning:="" 0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A</span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:red;mso-font-kerning:0pt"="">、无论使用何种方法，每次开机（无论是正常开机还是异常开机）都要重新配置一次，鉴于此，推荐使用第<span lang="EN-US">(1)</span>中方法，可以在程序中自动处理<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:red;mso-font-kerning:="" 0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B</span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:red;mso-font-kerning:0pt"="">、为保证万无一失，配置后，<span lang="EN-US">PC</span>上通过串口工具向<span lang="EN-US">4G</span>模块<span lang="EN-US">USB</span>口映射出的<span lang="EN-US">ASR
Modem Device AT</span>口发送<span lang="EN-US">AT*EXASSERT?</span>命令查询是否配置成功，如果返回<span lang="EN-US">*EXASSERT: 1</span>表示配置成功<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:red;mso-font-kerning:="" 0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C</span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:red;mso-font-kerning:0pt"="">、<b style="color: rgb(255, 0, 0);">问题解决之后，所用测试模块，一定要再次配置为自动重启模式，配置方法是发送<span lang="EN-US">AT*EXASSERT=0</span>命令，配置后重启，发送<span lang="EN-US">AT*EXASSERT?</span>命令查询是否配置成功，如果返回<span lang="EN-US">*EXASSERT: 0</span>表示配置成功；为了防止遗忘，用户在正式发布的程序中，可以在开机初始化时发送<span lang="EN-US">AT*EXASSERT=0</span>命令</b><span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">代码配置为死机模式之后，接下来就可以用<span lang="EN-US">USB</span>口一直挂测抓日志，复现异常问题之后，会进入死机模式不再自动重启，此时电脑设备管理器中的端口如下图所示</span></p><p class="MsoNormal" align="left" style="text-align: justify; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="http://oldask.openluat.com/image/show/attachments-2019-08-yAUayjML5d43b65466f0c.png" class="img-responsive" style="width: 150px; float: none;"><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><br></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="center" style="text-align: center; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt;mso-no-proof:yes"=""><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
 coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
 filled="f" stroked="f">
 <v:stroke joinstyle="miter"></v:stroke>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"></v:f>
  <v:f eqn="sum @0 1 0"></v:f>
  <v:f eqn="sum 0 0 @1"></v:f>
  <v:f eqn="prod @2 1 2"></v:f>
  <v:f eqn="prod @3 21600 pixelWidth"></v:f>
  <v:f eqn="prod @3 21600 pixelHeight"></v:f>
  <v:f eqn="sum @0 0 1"></v:f>
  <v:f eqn="prod @6 1 2"></v:f>
  <v:f eqn="prod @7 21600 pixelWidth"></v:f>
  <v:f eqn="sum @8 21600 0"></v:f>
  <v:f eqn="prod @7 21600 pixelHeight"></v:f>
  <v:f eqn="sum @10 21600 0"></v:f>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"></v:path>
 <o:lock v:ext="edit" aspectratio="t"></o:lock>
</v:shapetype><v:shape id="图片_x0020_1" o:spid="_x0000_i1031" type="#_x0000_t75"
 style='width:222pt;height:31.2pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image001.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"=""><o:p></o:p></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">复现死机问题后，就可以参考第三章来<span lang="EN-US">dump</span>现场数据了<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span style="font-size:14.5pt;
font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:inherit;mso-hansi-font-family:="" inherit;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"="">三、利用</span></b><b><span lang="EN-US" style="font-size:14.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:18.0pt"="">Tera Term</span></b><b><span style="font-size:14.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:18.0pt"="">工具</span></b><b><span lang="EN-US" style="font-size:
14.5pt;font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:18.0pt"="">dump</span></b><b><span style="font-size:14.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:18.0pt"="">现场数据</span></b><span style="color: rgb(51, 51, 51); font-family: 微软雅黑, sans-serif; font-size: 6.5pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p></div><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">1</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、下载安装</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">Tera Term</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">工具</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
mso-bidi-font-size:11.0pt;font-family:Consolas;mso-fareast-font-family:宋体;
color:#C7254E;mso-font-kerning:0pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">链接<span lang="EN-US">: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1ij16KQnucnjgNE3Vk9OuIw">https://pan.baidu.com/s/1ij16KQnucnjgNE3Vk9OuIw</a><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">提取码<span lang="EN-US">: g77v<o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">默认安装即可<span lang="EN-US"><o:p></o:p></span></span></p><div style="border-top: none; border-right: none; border-left: none; border-image: initial; border-bottom: 1pt solid rgb(238, 238, 238); padding: 0cm 0cm 4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">

<p class="MsoNormal" align="left" style="margin: 12pt 0cm 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all; border: none; padding: 0cm;"><b><span lang="EN-US" style="font-size:11.5pt;font-family:" inherit","serif";mso-fareast-font-family:="" 微软雅黑;mso-bidi-font-family:宋体;color:#333333;mso-font-kerning:0pt"="">2</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">、运行配置</span></b><b><span lang="EN-US" style="font-size:
11.5pt;font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">Tera Term</span></b><b><span style="font-size:11.5pt;font-family:" 微软雅黑","sans-serif";mso-ascii-font-family:="" inherit;mso-hansi-font-family:inherit;mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">工具</span></b><b><span lang="EN-US" style="font-size:11.5pt;
font-family:" inherit","serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><o:p></o:p></span></b></p>

</div><p class="MsoNormal" align="left" style="margin-bottom: 7.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">运行安装目录下的<span lang="EN-US">ttermpro.exe</span>，会自动弹出<span lang="EN-US">new connection</span>界面，如下图配置（<span lang="EN-US">COM58</span>为模块死机时，映射出的<span lang="EN-US">ASR Modem Device</span>端口，根据实际情况修改）<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="center" style="margin-bottom: 7.4pt; text-align: center; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-YKrWCtg25d43b7279283b.png" class="img-responsive" style="width: 244.5px;"></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">点击<span lang="EN-US">OK</span>后，再点击菜单<span lang="EN-US">Setup---&gt;Serial port...</span>，如下图配置（<span lang="EN-US">COM58</span>为模块死机时，映射出的<span lang="EN-US">ASR Modem Device</span>端口，根据实际情况修改）</span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-DLy9AtJF5d43b77334baf.png" class="img-responsive" style="width: 194.5px;"></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size: 6.5pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="font-size: 6.5pt; font-family: 微软雅黑, sans-serif; color: rgb(51, 51, 51);">点击<span lang="EN-US">OK</span>后，如下图打开<span lang="EN-US">receive</span>传输窗口</span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-knLo2bUN5d43b7a38b91f.png" class="img-responsive" style="width: 279px;"></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">接下来，会自动传输数据，如下图所示，正常情况下，传输需要<span lang="EN-US">6</span>、<span lang="EN-US">7</span>分钟，请耐心等待</span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-D9INeQfV5d43b7c1290b2.png" class="img-responsive" style="width: 146.5px;"><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="center" style="text-align: center; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt;mso-no-proof:yes"=""><!--[if gte vml 1]><v:shape id="图片_x0020_13"
 o:spid="_x0000_i1027" type="#_x0000_t75" style='width:216.6pt;height:163.2pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image009.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"=""><o:p></o:p></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">传输结束后，会弹出如下窗口</span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-03Qkcpt25d43b7cedef2f.png" class="img-responsive" style="width: 169px;"><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="center" style="text-align: center; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt;mso-no-proof:yes"=""><!--[if gte vml 1]><v:shape id="图片_x0020_16"
 o:spid="_x0000_i1026" type="#_x0000_t75" style='width:250.2pt;height:75pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image011.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"=""><o:p></o:p></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">此时，<span lang="EN-US">dump</span>过程已经完成，所有<span lang="EN-US">dump</span>出来的数据文件，存储在<span lang="EN-US">teraterm</span>工具安装目录下，如下图所示，为所有<span lang="EN-US">dump</span>出来的数据文件</span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-NdHJH4gZ5d43b7e2dcb58.png" class="img-responsive" style="width: 79px;"><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"=""><span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="center" style="text-align: center; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt;mso-no-proof:yes"=""><!--[if gte vml 1]><v:shape id="图片_x0020_19"
 o:spid="_x0000_i1025" type="#_x0000_t75" style='width:115.8pt;height:399.6pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image013.png"
  o:title=""></v:imagedata>
</v:shape><![endif]--><!--[if !vml]--><!--[endif]--></span><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"=""><o:p></o:p></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:#333333;mso-font-kerning:0pt"="">将这些文件打包发给合宙技术支持人员即可<span lang="EN-US"><o:p></o:p></span></span></p><p class="MsoNormal" align="left" style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; word-break: break-all;"><span lang="EN-US" style="font-size:6.5pt;
font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:宋体;color:#333333;="" mso-font-kerning:0pt"="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-size:6.5pt;font-family:" 微软雅黑","sans-serif";mso-bidi-font-family:="" 宋体;color:red;mso-font-kerning:0pt"="">注意：打包发出去之后，将此目录下的这些文件删除，避免下次<span lang="EN-US">dump</span>时，文件重名导致不必要的麻烦<span lang="EN-US"><o:p></o:p></span></span></p><p>















































































</p><p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/02/598/" data-id="ckkfmdgfb00eivkcgbr2k305y" data-title="Air720系列4G模块软件异常死机后，如何dump死机现场数据" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-597" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/08/01/597/" class="article-date">
  <time class="dt-published" datetime="2019-08-01T08:58:18.000Z" itemprop="datePublished">2019-08-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2019/08/01/597/">Air720系列Lua版本异常分析说明（死机、重启、网络、socket）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <pre><code>                        &lt;div class=&quot;Section1&quot;&gt;
</code></pre>
<h1 align="center" style="text-align:center"><a name="_Toc482402375"></a><a name="_Toc108888799"><span style="font-family:楷体_GB2312;mso-ascii-font-family:&quot;Times New Roman&quot;">第一章</span>
</a><span style="font-family:楷体_GB2312;
mso-ascii-font-family:&quot;Times New Roman&quot;">死机以及重启异常</span></h1>

<h2><a name="_Toc482402376"><span lang="EN-US">1.1</span></a><span style="font-family:楷体_GB2312;
mso-ascii-font-family:Arial">如何从设备管理器中的端口判断死机或者重启</span></h2>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">如果彻底死机，设备管理器中的端口如下图所示，模块的</span><span lang="EN-US">USB</span><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">映射出的端口，有且仅有一个</span></p><p class="MsoNormal" style="text-indent:21.0pt"></p><div style="text-align: justify; margin-left: 25px;"><img src="http://oldask.openluat.com/image/show/attachments-2019-08-4KOZUFfh5d439333c2dcc.png" class="img-responsive" style="text-indent: 21pt; width: 438.261px; height: 67.2px;"></div><br><p></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">如果设备管理器中的端口一直如下图所示，则表示正常工作</span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US"><v:shape id="图片_x0020_4" o:spid="_x0000_i1025" type="#_x0000_t75" style="width:290.4pt;height:54.6pt;visibility:visible;
 mso-wrap-style:square">
 <v:imagedata src="file:///C:\Users\ZHUTIA~1\AppData\Local\Temp\msohtmlclip1\01\clip_image002.png" o:title="">
</v:imagedata></v:shape></span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US">&nbsp;</span>&nbsp;<img src="http://oldask.openluat.com/image/show/attachments-2019-08-b3sVOEXH5d439367793e1.png" class="img-responsive" style="width: 50%; float: none;"></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">如果端口在不断的闪烁，弹出来又消失，则表示模块在不断的重启</span></p>

<h2><span lang="EN-US">1.</span><span lang="EN-US">2</span><span style="font-family:楷体_GB2312;mso-ascii-font-family:
Arial">如何从日志判断“是否彻底死机”</span></h2>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">日志中如果出现类似于下面的死机信息，正常情况下，</span><span lang="EN-US">20</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">多秒后，会自动重启，如果一直不会自动重启，则可以认定程序确实死机了</span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG: LR:
0x6014bbd<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG: PC:
0x6767cc4<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG: SP:
0x72adb80<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG: MSA
Disable Sleep<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG: Wait
for DSP L1 Memory dump...<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG: first
entry!<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG:
Software version: NZ_NZ_CP_2.178.000X<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG: Compilation
time: Jun 13 2019 09:17:56<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; Ep0: TX 0, RX 0<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; AT: TX 0, RX 0,
CTRL 0<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; DIAG: TX 0, RX
0, CTRL 0<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; RNDIS: TX 0, RX
1, CTRL 0<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; MassStorage: TX
0, RX 0<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG: Cancel
RNDIS transfer<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG: Prepare
for Sd dump<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG:
eeSDDumpPrepare Enter<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG:
eeSDDumpPrepare Exit<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG: Prepare
for diag transmit<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG:
finalAction:5, eeFatalActionExt:602453d, eeMode:3f<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; EE LOG: IPCIIR
0x0, APBC_IPC_CLK 0x4, AIRQ_IPC_ENABLE 0x3d10<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">只要没有设置</span><span lang="EN-US">ASSERT</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">模式，出现任何异常，理论上都会自动重启</span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">如果遇到“异常后无法自动重启，一直处于死机状态”的问题，首先按照如下步骤确认一下是否设置了</span><span lang="EN-US">ASSERT</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">模式：</span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US">1</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">、脚本代码中是否执行了</span><span lang="EN-US">ril.request("AT*EXASSERT=1")</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">语句</span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US">2</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">、是否人为通过模块</span><span lang="EN-US">USB</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">口枚举出的</span><span lang="EN-US">ASR MODEM DEVICE AT</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">口发送过</span><span lang="EN-US">AT*EXASSERT=1</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">命令</span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US">3</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">、如果有条件重启模块，重启后，通过模块</span><span lang="EN-US">USB</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">口枚举出的</span><span lang="EN-US">ASR MODEM DEVICE AT</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">口发送</span><span lang="EN-US">AT*EXASSERT?</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">命令，查询一下</span><span lang="EN-US">ASSERT</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">状态</span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;
color:red">注意：模块一旦设置过</span><span lang="EN-US" style="color:red">ASSERT</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;;color:red">模式，是永远保存在</span><span lang="EN-US" style="color:
red">flash</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;;color:red">中的，只能通过</span><span lang="EN-US" style="color:red">AT*EXASSERT=0</span><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;
color:red">关闭</span><span lang="EN-US" style="color:red">ASSERT</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;;color:red">模式，所以</span><span lang="EN-US" style="color:red">AT*EXASSERT</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;;color:red">只能在调试问题时使用，而且使用之后，要及时通过</span><span lang="EN-US" style="color:red">AT*EXASSERT=0</span><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;color:red">关闭</span><span lang="EN-US" style="color:red"><o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;
color:red">如果没有设置</span><span lang="EN-US" style="color:red">ASSERT</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;;color:red">模式，出现了“异常后无法自动重启，一直处于死机状态”的问题，则肯定是不正常的，需要具体问题具体分析</span><span lang="EN-US" style="color:red"><o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US" style="color:red">PS</span><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;color:red">：</span><span lang="EN-US" style="color:red">Luat V0017</span><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;
color:red">以及之前的版本固件，存在一个</span><span lang="EN-US" style="color:red">bug</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;;color:red">，可能会导致异常死机而无法自动重启</span><span lang="EN-US" style="color:red"><o:p></o:p></span></p>

<h2><a name="_Toc482402377"><span lang="EN-US">1.</span></a><span lang="EN-US">3</span><span style="font-family:楷体_GB2312;mso-ascii-font-family:Arial">如何从日志中判断“是否重启，以及重启原因”</span></h2>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">日志中搜索</span><span style="font-size:11.0pt;mso-fareast-font-family:微软雅黑;mso-font-kerning:0pt;
mso-ansi-language:ZH-CN">poweron reason</span><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">，可以获取到开机原因值，例如：</span></p>

<p class="MsoNormal" align="left" style="margin: 0cm 0cm 0.0001pt; text-indent: 0cm;"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [poweron reason:]<b><span style="color:red"> 3 </span></b>SOCKET_LONG_CONNECTION
2.0.0 2.2.1 Luat_V0019_ASR1802_720D<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">中的</span><span lang="EN-US">3</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">就表示开机原因值</span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US">&nbsp;</span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">开机原因值的意义如下：</span></p>

<p class="MsoNormal" align="left" style="text-indent: 18pt;"><span lang="EN-US" style="font-size:9.0pt;mso-bidi-font-size:11.0pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;"> </span><span lang="EN-US" style="font-size:7.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;">0: </span><span style="font-size:7.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;">按键开机<span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1: </span>充电开机<span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2: </span>闹钟开机<span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3:
</span>软件重启开机<span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4:
</span>其他原因导致的开机<span lang="EN-US">&nbsp;&nbsp; <o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="text-indent: 15pt;"><span lang="EN-US" style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;">&nbsp;&nbsp; 6: </span><span style="font-size:7.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;">异常开机<span lang="EN-US">, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8: </span>看门狗开机<span lang="EN-US">,&nbsp;&nbsp;&nbsp;&nbsp; 10: </span>电池开机<span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 11:
</span>系统使能开机<span lang="EN-US">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 12:
USB</span>开机<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="text-indent: 15pt;"><span lang="EN-US" style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;">&nbsp;&nbsp; 13: JIG</span><span style="font-size:7.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;">开机<span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 14: </span>开关由<span lang="EN-US">OFF</span>拨到<span lang="EN-US">ON</span>检测到<span lang="EN-US">exton1n</span>时<span lang="EN-US">,</span>准许开机<span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 15: </span>外部原因开机<span lang="EN-US">,<o:p></o:p></span></span></p>

<p class="MsoNormal" align="left" style="text-indent: 15pt;"><span lang="EN-US" style="font-size:7.5pt;font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;">&nbsp;&nbsp; 255: </span><span style="font-size:7.5pt;
font-family:&quot;微软雅黑&quot;,&quot;sans-serif&quot;">未知<span lang="EN-US"><o:p></o:p></span></span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span lang="EN-US">&nbsp;</span></p>

<p class="MsoNormal" style="text-indent:21.0pt"><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">遇到重启问题时，按照如下步骤分析具体原因：</span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo1"><!--[if !supportLists]--><span lang="EN-US">1.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">是否存在脚本运行异常</span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">找到重启前上一次运行的最后日志，确认一下是否有脚本运行异常信息输出，例如</span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">lua /lua/socketTask.lua:75: attempt
to perform arithmetic on global 'djkasjdlas' (a nil value)<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">stack traceback:<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">/lua/socketTask.lua:75: in function
'cb<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">/lua/sys.lua:363: in function 'run'<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">/lua/<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">如果脚本中使用了</span><span lang="EN-US">errDump</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">功能模块（<span style="color:red">一定要使用</span></span><span lang="EN-US" style="color:red">errDump</span><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;
color:red">功能模块，此功能模块对“量产投放市场的设备，远程调试初步定位问题”至关重要</span><span style="font-family:
宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">），直接在日志中搜索</span><span lang="EN-US">errDump</span><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">，也可以定位出是否发生脚本异常，例如</span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">[E]-[errDump.luaErr]
/lua/socketTask.lua:75: attempt to perform arithmetic on global 'djkasjdlas' (a
nil value)<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">stack traceback:<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /lua/socketTask.lua:75:
in function 'cb'<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /lua/sys.lua:363:
in function 'run'<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /lua/main.lua:59:
in main chunk<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [C]:
?<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l0 level1 lfo1"><!--[if !supportLists]--><span lang="EN-US">2.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">是否存在固件运行异常</span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">如果在第</span><span lang="EN-US">1</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">步存在了脚本运行异常，则可以不用关心这一步的固件运行异常，因为任何脚本运行异常都会触发固件运行异常。</span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">找到重启前上一次运行的最后日志，确认一下是否有固件运行异常信息输出，例如</span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: LR: 0x6014bbd<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: PC: 0x6767cc4<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: SP: 0x72adb80<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: MSA Disable Sleep<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: Wait for DSP L1 Memory
dump...<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: first entry!<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: Software version:
NZ_NZ_CP_2.178.000X<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: Compilation time: Jun 13
2019 09:17:56<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ep0: TX 0, RX 0<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT: TX 0, RX 0, CTRL 0<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DIAG: TX 0, RX 0, CTRL 0<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RNDIS: TX 0, RX 1, CTRL 0<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MassStorage: TX 0, RX 0<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: Cancel RNDIS transfer<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: Prepare for Sd dump<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: eeSDDumpPrepare Enter<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: eeSDDumpPrepare Exit<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: Prepare for diag transmit<o:p></o:p></span></p>

<p class="MsoNormal" style="text-indent:15.0pt"><span lang="EN-US" style="font-size:7.5pt">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; EE LOG: finalAction:5,
eeFatalActionExt:602453d, eeMode:3f<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">EE LOG: IPCIIR 0x0, APBC_IPC_CLK
0x4, AIRQ_IPC_ENABLE 0x3d10<o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">如果脚本中使用了</span><span lang="EN-US">errDump</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">功能模块（</span><span lang="EN-US">core</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">为</span><span lang="EN-US">0019</span><span style="font-family:
宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">以及以后的版本，</span><span lang="EN-US">script</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">为</span><span lang="EN-US">2.2.0</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">以及以后的版本）（<span style="color:red">一定要使用</span></span><span lang="EN-US" style="color:red">errDump</span><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;
color:red">功能模块，此功能模块对“量产投放市场的设备，远程调试初步定位问题”至关重要</span><span style="font-family:
宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">），直接在日志中搜索</span><span lang="EN-US">errDump</span><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">，也可以定位出是否发生固件异常，例如</span></p>

<p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt">[E]-[errDump.firmwareAssertErr]
desc=FALSE,file=platform_main.cline=506,LR:0x6015025,PC:0x67688e4,SP:0x72adb80</span></p><p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0"><span lang="EN-US" style="font-size:7.5pt"><br></span></p><p class="MsoListParagraph" style="margin-left: 42pt; text-indent: -21pt;"><span lang="EN-US">3.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp; &nbsp; &nbsp; &nbsp;</span></span><span style="font-family: 宋体; text-indent: 0cm;">如果不存在前2种情况，确认一下是否为供电不稳引起的重启</span></p>

</div><p>

<p><span lang="EN-US" style="font-size:10.5pt;mso-bidi-font-size:12.0pt;font-family:
&quot;Times New Roman&quot;,&quot;serif&quot;;mso-fareast-font-family:宋体;mso-font-kerning:1.0pt;
mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA"><br clear="all" style="page-break-before:always;mso-break-type:section-break"><br></span></p>
</p><div class="Section2">

<h1 align="center" style="text-align:center"><a name="_Toc482402379"><span style="font-family:楷体_GB2312;mso-ascii-font-family:&quot;Times New Roman&quot;">第二章</span>
</a><span style="font-family:
楷体_GB2312;mso-ascii-font-family:&quot;Times New Roman&quot;">网络异常</span></h1>

<p class="MsoNormal" style="text-indent:0cm;mso-char-indent-count:0;tab-stops:
241.5pt"><span lang="EN-US">&nbsp; </span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">此章节介绍如何搜索日志，一步步排查是否出现网络异常</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo2;tab-stops:241.5pt"><!--[if !supportLists]--><span lang="EN-US">1.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">搜索</span><span lang="EN-US">CGSN</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">，确认一下日志中的</span><span lang="EN-US">IMEI</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">是否与标签上的</span><span lang="EN-US">IMEI</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">一致，如果不一致，则可能生产过程出错</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo2;tab-stops:241.5pt"><!--[if !supportLists]--><span lang="EN-US">2.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">搜索</span><span lang="EN-US">ATWMFT</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">，如果返回</span><span lang="EN-US">ERR</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">，表示模块没有校准，可能会导致各种网络问题，基本上可以确定是生产过程出错导致的，必须返厂维修；如果返回</span><span lang="EN-US">SUCCESS</span><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">，表示正常</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:0cm;mso-char-indent-count:
0;tab-stops:241.5pt"><span lang="EN-US">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:0cm;mso-char-indent-count:
0;tab-stops:241.5pt"><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;;color:red">注意：如果通过</span><span lang="EN-US" style="color:red">AT+CFUN=0</span><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;
color:red">进入飞行模式，以下几步的查询结果都是异常状态</span><span lang="EN-US" style="color:red"><o:p></o:p></span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:0cm;mso-char-indent-count:
0;tab-stops:241.5pt"><span lang="EN-US" style="color:red">&nbsp;</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo2;tab-stops:241.5pt"><!--[if !supportLists]--><span lang="EN-US">3.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">搜索</span><span lang="EN-US">CPIN</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">，如果返回的不是</span><span lang="EN-US">READY</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">，则</span><span lang="EN-US">SIM</span><span style="font-family:
宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">卡异常</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo2;tab-stops:241.5pt"><!--[if !supportLists]--><span lang="EN-US">4.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">搜索</span><span lang="EN-US">CSQ</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">，查询信号强度，信号强度最大值为</span><span lang="EN-US">31</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">，如果查询出来的信号值小于</span><span lang="EN-US">10</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">，可以认为信号较弱，如果环境本身的信号不差，则需要分析硬件射频是否存在问题</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo2;tab-stops:241.5pt"><!--[if !supportLists]--><span lang="EN-US">5.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">搜索</span><span lang="EN-US">CREG</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">、</span><span lang="EN-US">CGREG</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">、</span><span lang="EN-US">CEREG</span><span style="font-family:
宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">，查询网络状态，如果状态不是</span><span lang="EN-US">1</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">或者</span><span lang="EN-US">5</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">，则表示网络未成功注册</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo2;tab-stops:241.5pt"><!--[if !supportLists]--><span lang="EN-US">6.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">搜索</span><span lang="EN-US">^MODE</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">，查询当前使用的网络模式，</span><span lang="EN-US">2G</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">、</span><span lang="EN-US">3G</span><span style="font-family:
宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">还是</span><span lang="EN-US">4G</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">，此模式仅作为分析问题时补充信息使用</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l3 level1 lfo2;tab-stops:241.5pt"><!--[if !supportLists]--><span lang="EN-US">7.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">搜索</span><span lang="EN-US">CGDCONT</span><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">，查询</span><span lang="EN-US">PDP</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">是否已经激活，如果返回的查询结果中有</span><span lang="EN-US">APN</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">以及本地</span><span lang="EN-US">IP</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">，则表示正常</span></p>

</div><p>

<p><span lang="EN-US" style="font-size:10.5pt;mso-bidi-font-size:12.0pt;font-family:
&quot;Times New Roman&quot;,&quot;serif&quot;;mso-fareast-font-family:宋体;mso-font-kerning:1.0pt;
mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA"><br clear="all" style="page-break-before:always;mso-break-type:section-break"><br></span></p>
</p><div class="Section3">

<h1 align="center" style="text-align:center"><a name="_Toc482402387"><span style="font-family:楷体_GB2312;mso-ascii-font-family:&quot;Times New Roman&quot;">第三章</span>
</a><span lang="EN-US">socket</span><span style="font-family:楷体_GB2312;
mso-ascii-font-family:&quot;Times New Roman&quot;">应用异常</span></h1>

<p class="MsoNormal" style="text-indent:0cm;mso-char-indent-count:0;tab-stops:
241.5pt"><span lang="EN-US">&nbsp; </span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">此章节介绍如何搜索日志，一步步排查是否出现</span><span lang="EN-US">socket</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">应用异常</span></p>

<p class="MsoNormal" style="text-indent:0cm;mso-char-indent-count:0;tab-stops:
241.5pt"><span lang="EN-US">&nbsp; </span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;;color:red">注意：如果通过</span><span lang="EN-US" style="color:red">AT+CFUN=0</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;;color:red">进入飞行模式，以下几步的查询结果都是异常状态</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l1 level1 lfo3;tab-stops:241.5pt"><!--[if !supportLists]--><span lang="EN-US">1.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">搜索</span><span lang="EN-US">socket</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">，如果出现</span><span lang="EN-US">socket:connect:
core sock conn error</span><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">或者</span><span lang="EN-US">socket:connect: connect fail</span><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">，则表示</span><span lang="EN-US">socket</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">连接失败</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l1 level1 lfo3;tab-stops:241.5pt"><!--[if !supportLists]--><span lang="EN-US">2.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">搜索</span><span lang="EN-US">socket</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">，如果出现</span><span lang="EN-US">send fail</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">则表示发送失败</span></p>

<p class="MsoListParagraph" style="margin-left:31.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l1 level1 lfo3;tab-stops:241.5pt"><!--[if !supportLists]--><span lang="EN-US">3.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">搜索</span><span lang="EN-US">socket</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">，如果出现</span><span lang="EN-US">socket.rtos.MSG_SOCK_CLOSE_IND</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">则表示</span><span lang="EN-US">socket'</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">被动关闭</span></p>

</div><p>

<p><span lang="EN-US" style="font-size:10.5pt;mso-bidi-font-size:12.0pt;font-family:
&quot;Times New Roman&quot;,&quot;serif&quot;;mso-fareast-font-family:宋体;mso-font-kerning:1.0pt;
mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA"><br clear="all" style="page-break-before:always;mso-break-type:section-break"><br></span></p>
</p><h1 align="center" style="text-align:center"><a name="_Toc482402393"><span style="font-family:楷体_GB2312;mso-ascii-font-family:&quot;Times New Roman&quot;">第四章</span>
<span lang="EN-US">errDump</span></a><span style="font-family:楷体_GB2312;mso-ascii-font-family:&quot;Times New Roman&quot;">功能说明</span></h1><p class="MsoNormal" style="text-indent:21.0pt;mso-char-indent-count:0"><span lang="EN-US" style="color:red">errDump</span><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;
color:red">功能模块对“量产投放市场的设备，远程调试初步定位问题”至关重要</span><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">，</span><span style="color:red"> </span><span style="font-family:宋体;mso-ascii-font-family:
&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;;color:red">强烈建议客户一定要使用此功能，</span><span style="font-family: 宋体;">加载此功能模块后，具备如下功能：</span><span lang="EN-US" style="color:red"><o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo4"><!--[if !supportLists]--><span lang="EN-US">1.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family: 宋体;">可以上报死机以及重启异常到调试服务器</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoListParagraph" style="margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo4"><!--[if !supportLists]--><span lang="EN-US">2.<span style="font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 7pt; line-height: normal; font-family: &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><!--[endif]--><span style="font-family: 宋体;">如果打开了</span><span lang="EN-US">errDump.</span><span lang="EN-US"> setNetworkLog(true)</span><span style="font-family: 宋体;">开关，可以上报网络和</span><span lang="EN-US">socket</span><span style="font-family: 宋体;">应用异常到调试服务器</span><span lang="EN-US"><o:p></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p><p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p><h1 align="center" style="text-align:center"><span style="font-family:楷体_GB2312;
mso-ascii-font-family:&quot;Times New Roman&quot;">第五章</span> <span style="font-family:
楷体_GB2312;mso-ascii-font-family:&quot;Times New Roman&quot;">总结</span></h1><p class="MsoNormal" style="text-indent:21.0pt;mso-char-indent-count:0"><span style="font-family: 宋体; text-indent: 21pt;">如果无法输出日志，则根据设备管理器中的端口判断模块是否死机或者一直在反复重启</span><br></p><p class="MsoNormal" style="text-indent:21.0pt;mso-char-indent-count:0"><span style="font-family: 宋体;">如果有日志输出，正则搜索如下信息，判断是否存在网络和</span><span lang="EN-US">socket</span><span style="font-family: 宋体;">应用异常</span><span lang="EN-US" style="color:red"><o:p></o:p></span></p><p class="MsoNormal"><span lang="EN-US">&nbsp;&nbsp;&nbsp; </span><span lang="EN-US">EE
LOG|traceback|\[E\]|errDump|CGSN|ATWMFT|CFUN|CPIN|CREG|CGREG|CEREG|CSQ|\^MODE|CGDCONT|conn
error|send fail|MSG_SOCK_CLOSE_IND</span></p><p>























































</p><p class="MsoNormal"><span lang="EN-US">&nbsp;&nbsp;&nbsp; </span><span style="font-family:宋体;
mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:&quot;Times New Roman&quot;">注意：以上字符串中的</span><span lang="EN-US">\</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;
mso-hansi-font-family:&quot;Times New Roman&quot;">为</span><span lang="EN-US">notepad++</span><span style="font-family:宋体;mso-ascii-font-family:&quot;Times New Roman&quot;;mso-hansi-font-family:
&quot;Times New Roman&quot;">中使用的转义字符，不同编辑器可能不同，根据使用的编辑器自行修改</span></p>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://doc.luatos.wiki/2019/08/01/597/" data-id="ckkfmdgfa00ehvkcgh5dm63er" data-title="Air720系列Lua版本异常分析说明（死机、重启、网络、socket）" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/37/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/36/">36</a><a class="page-number" href="/page/37/">37</a><span class="page-number current">38</span><a class="page-number" href="/page/39/">39</a><a class="page-number" href="/page/40/">40</a><span class="space">&hellip;</span><a class="page-number" href="/page/59/">59</a><a class="extend next" rel="next" href="/page/39/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2032/01/">一月 2032</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2032/01/01/608/">【置顶】合宙模块资料汇总</a>
          </li>
        
          <li>
            <a href="/2022/12/31/638/">Air系列模块常见问题列表</a>
          </li>
        
          <li>
            <a href="/2021/01/27/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2021/01/27/2420/">ECMAScript(ES6)基本语法介绍（一）</a>
          </li>
        
          <li>
            <a href="/2021/01/26/2417/">Air720S系列_luat二次开发固件（ 底层软件+上层脚本）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 chenxuuu<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>