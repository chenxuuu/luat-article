数字语音接口
============

作者：许文婷

概述
----

数字音频接口DAI，即Digital Audio
Interfaces，表示在板级或板间传输数字音频信号的方式。相比于模拟接口，数字音频接口抗干扰能力更强，硬件设计简单，DAI在音频电路设计中得到越来越广泛的应用。

I2S接口
-------

I2S是比较简单的数字接口协议，没有地址或设备选择机制。在I2S总线上，只能同时存在一个主设备和发送设备。主设备可以是发送设备，也可以是接收设备，或是协调发送设备和接收设备的其它控制设备。详细管脚定义如下：

+-----+---+-------+---+---+------------------------------+---------------+
| 管  | 管 | 上电 | I | 管 | 电气特性                    | 备注          |
| 脚  | 脚 | 状态 | / | 脚 |                             |               |
| 名  | 号 |      | O | 描 |                             |               |
|     |   |       |   | 述 |                             |               |
+=====+===+=======+===+===+==============================+===============+
| I2S | 7 | INPUT | P |   | VILmin=-0.3V VILmax=0.6V     | 电压域是      |
| 2_L | 4 | PULL  |   |   | VIHmin=1.2V VIHmax=2.0V      | V_GLOBAL_1V8  |
| RCK |   | _DOWN |   |   | VOHmin= V_GLOBAL_1V8*0.7     | 不用则悬空    |
|     |   |       |   |   | VOLmax= V_GLOBAL_1V8*0.3     |               |
+-----+---+-------+---+---+------------------------------+---------------+
| I2  | 7 | INPUT | I |   | 同上                         | 同上          |
| S2_ | 5 | PULL  | / |   |                              |               |
| BCK |   | _DOWN | O |   |                              |               |
+-----+---+-------+---+---+------------------------------+---------------+
| I   | 7 | INPUT | O |   | 同上                         | 同上          |
| 2S2 | 6 | PULL  |   |   |                              |               |
| _SD |   | _DOWN |   |   |                              |               |
| AT_ |   |       |   |   |                              |               |
| OUT |   |       |   |   |                              |               |
+-----+---+-------+---+---+------------------------------+---------------+
| I2S | 8 | INPUT | O |   | 同上                         | 同上          |
| 2_S | 3 | PULL  |   |   |                              |               |
| DAT |   | _DOWN |   |   |                              |               |
| _IN |   |       |   |   |                              |               |
+-----+---+-------+---+---+------------------------------+---------------+

参考设计
--------

下图为I2S的常见连接示意图： |image1|

PCM接口
-------

PCM (Pulse Code Modulation)
是通过等时间隔（即采样率时钟周期）采样将模拟信号数字化的方法。
PCM是和I2S类似的4线接口，电路信号包括： - PCM_CLK 数据时钟信号 -
PCM_SYNC 帧同步时钟信号 - PCM_IN 接收数据信号 - PCM_OUT 发送数据信号
PCM与I2S的接口对应关系见下表：

============= =============
PCM Interface I2S Interface
============= =============
PCM_OUT       SD_OUT
PCM_IN        SD_IN
PCM_SYNC      WS
PCM_CLK       SCK
============= =============

I2S和PCM接口定义都一样，本质就是PCM，只不过是在硬件FPGA程序的作用下，支持对原始的PCM数据按照一定的格式进行整理排列。

AT指令控制
----------

不支持 ## LUAT开发相关接口 待开发 ## 相关资料以及购买链接
相关开发板购买链接
`Air724UG开发板 <http://m.openluat.com/product/1264>`__ `Air724
开发板使用说明 <https://luatdoc.papapoi.com/103/>`__
`相关软件资料下载 <https://luatdoc.papapoi.com/wiki/pages/227.html>`__

常见问题
--------

https://luatdoc.papapoi.com/638/

.. |image1| image:: http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20200811164431898_I2S.png
