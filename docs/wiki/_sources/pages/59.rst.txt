PWM接口
=======

作者：朱天华 楼康华 # 概述 Air724UG支持3路PWM输出：PWM_PWT_OUT,
PWM_LPG_OUT, PWM_PWL_OUT_1

管脚定义
========

**PWM接口定义:**

================== ====== =================================
管脚名             管脚号 作用
================== ====== =================================
PWM_PWT_OUT GPIO_5 49     可以输出频率和占空比可调的PWM波形
================== ====== =================================

=================== ====== ==============================
管脚名              管脚号 作用
=================== ====== ==============================
PWM_LPG_OUT GPIO_13 43     可以输出频率和占空比固定的波形
=================== ====== ==============================

PWM_LPG_OUT（Light Pulse Generation）用于低频率的应用如驱动LED闪烁。

下面是可以选择的范围：
周期范围：125ms,250ms,500ms,1000ms,1500ms,2000ms,2500ms, 3000ms
选择对应的时间，输出的波形周期也与之对应。

高电平时间： 15.6ms, 31.2ms, 46.8ms, 62ms, 78ms, 94ms, 110ms, 125ms,
140ms, 156ms, 172ms, 188ms, 200ms, 218ms, 243ms
选择对应高电平时间，输出在当前周期内的高电平。

+----------------------+--------+-----------------------------+
| 管脚名               | 管脚号 | 作用                        |
+======================+========+=============================+
| PWM_PWL_OUT_1 GPIO_7 | 82     | 输出频率                    |
|                      |        | 不固定（一直在变化）但是占  |
|                      |        | 空比固定（可以调节）的波形  |
+----------------------+--------+-----------------------------+

AT版本相关控制指令
==================

暂不支持

pwm.open()
~~~~~~~~~~

打开pwm功能

-  语法 ``pwm.open(pwm_id)``

-  参数

+------+--------------------------------------------------------------+
| 参数 | 释义                                                         |
+======+==============================================================+
| id   | 0: 代表PWM_PWT_OUT，输出管脚是GPIO5                          |
|      | 1:代表PWM_LPG_OUT，输出管脚是GPIO13                          |
+------+--------------------------------------------------------------+

-  返回值 无

pwm.set()
~~~~~~~~~

设置pwm功能

-  语法

``pwm.set(pwm_id,param0,param1)``

-  参数

::

   --[[
   当pwm_id为0时，为PWM_PWT_OUT输出：
   param0：基础时钟频率下，一个周期的个数
   param1：基础时钟频率下，高电平的个数
   当pwm_id为1时，为PWM_LPG_OUT输出;
   param0:代表一个周期的输出时间，对应关系为：
       0   -   LGP_PER_125MS
       1   -   LGP_PER_250MS
       2   -   LGP_PER_500MS
       3   -   LGP_PER_1000MS
       4   -   LGP_PER_1500MS
       5   -   LGP_PER_2000MS
       6   -   LGP_PER_2500MS
       7   -   LGP_PER_3000MS
   param1:代表一个周期高电平的输出时间，对应关系为：
       0   --   LGP_ONTIME_UNDEFINE
       1   --   LGP_ONTIME_15_6MS
       2   --   LGP_ONTIME_31_2MS
       3   --   LGP_ONTIME_46_8MS
       4   --   LGP_ONTIME_62MS
       5   --   LGP_ONTIME_78MS
       6   --   LGP_ONTIME_94MS
       7   --   LGP_ONTIME_110MS
       8   --   LGP_ONTIME_125MS
       9   --   LGP_ONTIME_140MS
       10  --   LGP_ONTIME_156MS
       11  --   LGP_ONTIME_172MS
       12  --   LGP_ONTIME_188MS
       13  --   LGP_ONTIME_200MS
       14  --   LGP_ONTIME_218MS
       15  --   LGP_ONTIME_234MS
   --]]
   pwm.set(pwm_id,param0,param1)

-  返回 无

pwm.close
^^^^^^^^^

-  语法

``pwm.close(pwm_id)``

-  参数

+------+--------------------------------------------------------------+
| 参数 | 释义                                                         |
+======+==============================================================+
| id   | 0: 代表PWM_PWT_OUT，输出管脚是GPIO5                          |
|      | 1:代表PWM_LPG_OUT，输出管脚是GPIO13                          |
+------+--------------------------------------------------------------+

-  返回 无

CSDK开发相关接口
================

暂不支持

--------------

相关资料以及购买链接
====================

相关开发板购买链接
`Air724UG开发板 <http://m.openluat.com/product/1264>`__ `Air724
开发板使用说明 <https://doc.luatos.wiki/103/>`__
`相关软件资料下载 <http://doc.openluat.com/wiki/6?wiki_page_id=227>`__

常见问题
========

https://doc.luatos.wiki/638/ 1. 724 GPIO_5 可以输出高速的PWM，GPIO_13
输出是低速PWM
