aLiYunOta
=========

.. _aliyunota-1:

aLiYunOta
---------

模块功能：阿里云物联网套件客户端OTA功能.

目前固件签名算法仅支持MD5

aLiYunOta.setVer(version)
~~~~~~~~~~~~~~~~~~~~~~~~~

设置当前的固件版本号

-  参数

========== =======================
传入值类型 释义
========== =======================
string     version，当前固件版本号
========== =======================

-  返回值

nil

-  例子

.. code:: lua

   aLiYunOta.setVer("MCU_VERSION_1.0.0")

--------------

aLiYunOta.setName(name)
~~~~~~~~~~~~~~~~~~~~~~~

设置新固件保存的文件名

-  参数

+------------+--------------------------------------------------------+
| 传入值类型 | 释义                                                   |
+============+========================================================+
| string     | name，新固件下载后保存的文件名；注意此文件名并不是     |
|            | 保存的完整路径，完整路径通过setCb设置的回调函数去获取  |
+------------+--------------------------------------------------------+

-  返回值

nil

-  例子

.. code:: lua

   aLiYunOta.setName("MCU_FIRMWARE.bin")

--------------

aLiYunOta.setCb(cbFnc)
~~~~~~~~~~~~~~~~~~~~~~

设置新固件下载后的回调函数

-  参数

+-----------------------------------+-----------------------------------+
| 传入值类型                        | 释义                              |
+===================================+===================================+
| function                          | cbFnc，新固件下载后的回调函数回   |
|                                   | 调函数的调用形式为：cbFnc(result, |
|                                   | filePath)，result为下载结果，true |
|                                   | 表示成功，false或者nil表示失败；f |
|                                   | ilePath为新固件文件保存的完整路径 |
+-----------------------------------+-----------------------------------+

-  返回值

nil

-  例子

.. code:: lua

   aLiYunOta.setCb(cbFnc)

--------------
