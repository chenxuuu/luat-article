---
title: "合宙dtu配置OEM工具"
date: 2019-04-07 21:52:24
---


                            <p>今天是放假最后一天</p><p>某些客户有OEM DTU配置工具的需要</p><p>根据合宙的接口做了这个</p><p>json解析和上传信息暂时还没做,后续会更新的.</p><p><br></p><p>登录</p><p><a href="http://dtu.openluat.com/api/site/login?name=用户名&amp;password=密码">http://dtu.openluat.com/api/site/login?name=用户名&amp;password=密码</a></p><p>登出</p><p><a href="http://dtu.openluat.com/api/site/logout">http://dtu.openluat.com/api/site/logout</a></p><p>用户信息</p><p><a href="http://dtu.openluat.com/api/site/user">http://dtu.openluat.com/api/site/user</a></p><p>查询模块参数(如果不填就是查询所有模块参数</p><p><a href="http://dtu.openluat.com/api/site/group?search_name=模块imei">http://dtu.openluat.com/api/site/group?search_name=模块imei</a><a href="http://dtu.openluat.com/api/site/group?search_name=模块imei"></a></p><p><br></p><p>下面是用c#+restsharp 写的几个重要函数</p><pre>&nbsp; &nbsp; &nbsp; &nbsp; private void button1_Click(object sender, EventArgs e)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //登录并保存cookie<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var client = new RestClient("http://dtu.openluat.com/api/site/login?name=" + textBox1.Text + "&amp;password=" + textBox2.Text + "");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.CookieContainer = new System.Net.CookieContainer();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var request = new RestRequest(Method.GET);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IRestResponse response = client.Execute(request);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (var cookie in response.Cookies)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cookie_name= cookie.Name.ToString();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cookie_value=cookie.Value.ToString();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }</pre><p><br></p><pre>&nbsp; &nbsp; &nbsp; &nbsp; private void button2_Click(object sender, EventArgs e)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //查询模块信息<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var client = new RestClient("http://dtu.openluat.com/api/site/group?search_name=" + textBox3.Text);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.CookieContainer = new System.Net.CookieContainer();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var request = new RestRequest(Method.GET);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; request.AddParameter(cookie_name, cookie_value, ParameterType.Cookie);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IRestResponse response = client.Execute(request);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; textBox4.Text=response.Content;<br>&nbsp; &nbsp; &nbsp; &nbsp; }</pre><p><br></p><pre>&nbsp; &nbsp; &nbsp; &nbsp; private void button3_Click(object sender, EventArgs e)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //查询用户信息<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var client = new RestClient("http://dtu.openluat.com/api/site/user");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.CookieContainer = new System.Net.CookieContainer();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var request = new RestRequest(Method.GET);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; request.AddParameter(cookie_name, cookie_value, ParameterType.Cookie);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IRestResponse response = client.Execute(request);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; textBox4.Text = response.Content;<br>&nbsp; &nbsp; &nbsp; &nbsp; }</pre>
                        