---
title: "Air530Z GPS/北斗定位模块_设计指导手册_V1.1"
date: 2020-10-12 15:59:41
---

@[TOC]

# 1. 模块整体说明
Air530Z模块是一款高性能BDS/GNSS多模卫星导航模块，支持多种卫星导航系统，包括中国的北斗卫星导航系统BDS，美国的GPS，俄罗斯的GLONASS，并实现多系统联合定位。

Air530Z 和 Air530 的封装完全兼容，区别在于Air530Z 采用的是中科微的AT6558R 方案，而Air530采用的是国科的GK9501方案。
从Air530切换到Air530Z 注意事项：https://doc.luatos.wiki/2296

Air530Z 内部集成了3.3V有源天线供电电路和检测电路；

Air530Z模块的尺寸极小，只有12.9X9.9X2.3mm，可以方便的嵌入到各种应用场景。

# 2. 资料下载

[Air530Z_原理图PCB封装.zip](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/attachment/20201224171924797_Air530Z_原理图PCB封装.zip)

[调试工具_GnssToolKit3.zip](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/attachment/20201024170220041_调试工具_GnssToolKit3.zip)

[协议规范 - CASIC多模卫星导航接收机](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/attachment/20210108201847389_CASIC多模卫星导航接收机协议规范-20210108.pdf)

[AGPS使用说明.zip](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/attachment/20201024170240169_AGPS使用说明.zip)

# 3. 模块性能

| 类别                  | 指标项                   | 典型值     | 单位 |
| --------------------- | ------------------------ | ---------- | ---- |
| 定位时间  [测试条件1] | 纯硬件冷启动             | ≤32       | s    |
| 定位时间  [测试条件1] | 纯硬件热启动             | &lt;1      | s    |
| 定位时间  [测试条件1] | 纯硬件重新捕获           | &lt;1      | s    |
| 定位时间  [测试条件1] | 软件辅助A-GNSS（秒定位） | &lt;5      | s    |
| 灵敏度  [测试条件2]   | 冷启动                   | -148       | dBm  |
| 灵敏度  [测试条件2]   | 热启动                   | -156       | dBm  |
| 灵敏度  [测试条件2]   | 重新捕获                 | -160       | dBm  |
| 灵敏度  [测试条件2]   | 跟踪                     | -162       | dBm  |
| 精度  [测试条件3]     | 水平定位精度             | 2          | m    |
| 精度  [测试条件3]     | 速度精度                 | 0.1        | m/s  |
| 精度  [测试条件3]     | 授时精度                 | 30         | ns   |
| 功耗  [测试条件4]     | 捕获电流值 VCC=3.3V          | 33.3       | mA   |
| 功耗  [测试条件4]     | 跟踪电流值 VCC=3.3V          | 29.2       | mA   |
| 功耗 （电池备份电流）| VCC=0  VBACKUP=3.3V | 9 | uA |
| 功耗 （休眠模式电流）| VCC=3.3V  ON_OFF=0 | 6.4 | mA |
| 工作温度              |                          | -35℃- 85℃  |      |
| 储存温度              |                          | -55℃- 100℃ |      |
| 湿度                  |                          | 5%  - 95%  |      |

注：以上结果为GPS/北斗双模工作模式
[测试条件1]： 接收卫星个数大于6，所有卫星信号强度为-130dBm，测试10次取平均值，定位误差小于10米。
[测试条件2]：外接LNA噪声系数0.8，接收卫星个数大于6，五分钟之内锁定或者不失锁条件下的接收信号强度值。
[测试条件3]：开阔没有遮挡环境，连续24小时开机测试，50%CEP。
[测试条件4]：接收卫星个数大于6，所有卫星信号强度为-130dBm。

# 4.模块管脚图

![](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201024154240934_Air530Z管脚图.png)

| **Pin脚编号** | **Pin脚定义** | **Pin脚描述**|
| --------------- | --------------- | -------------------------------------------- |
| 1               | GPS_ANT         | GPS天线输入                                                  |
| 2               | GND             | 地                                                           |
| 3               | ON_OFF         | 输入，内部上拉。拉低关闭模块，正常工作保持高电平或悬空； |
| 4               | VCC           | 主电源，供电输入范围2.7-3.6V，推荐采用3.3V供电|
| 5               | VBACKUP       | 备份电源的输入，推荐外接一个可充电的3V纽扣电池或法拉电容，以支持热启动定位；若不需要热启动功能，该管脚可悬空；注意钮扣电池或法拉电容的最大可充电电压应大于 VCC+0.3V |
| 6               | RESERVED| 保留管脚，悬空处理|
| 7               | RESERVED| 保留管脚，悬空处理|
| 8               | TXD             | 串口TX，输出GPS NMEA格式定位数据，默认波特率9600bps，最大支持256000bps |
| 9               | RXD             | 串口RX|
| 10              | RESERVED| 保留管脚，悬空处理|
| 11              | BDS_GLONASS |工作模式选择，高电平或悬空时为BDS+GPS;   低电平时为GPS+GLONASS。 |
| 12              | GND             | 地                                                           |
| 13              | 1PPS            | 授时管脚，One pulse per second        |
| 14              | GND             | 地                                                           |

# 5.参考设计电路
参考电路：最简模式
![](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201024162520645_无源天线.png )

设计注意事项

1.	VCC供电电压范围2.7-3.6V，典型3.3V供电，如果需要热启动快速定位，则VBACKUP外接一个可充电的钮扣电池或者法拉电容，注意钮扣电池或法拉电容的最大可充电电压应大于 VCC+0.3V。模块内部集成了涓流充电电路和防反向二极管。如果不需要热启动， VBACKUP可悬空。
2.	模块尽量靠近GPS天线放置，天线走线保持50欧姆阻抗匹配，走线尽量短，避免锐角。
3.	GPS 天线可以使用25X25X4mm 尺寸的无源陶瓷天线。
4.	串口TXD,RXD是 3.3V TTL 电平，用户可用此串口接收定位信息数据。
5.	本模块是温度敏感设备，温度剧烈变化会导致其性能降低，使用中尽量远离高温器件与大功率发热器件。

# 6.GPS天线
GPS天线可根据需要选择无源天线或有源天线，有源天线相比无源天线效果好，但是成本高。
## 6.1 无源天线
如果采用无源天线，建议天线与模块之间的走线尽可能的短，最理想的情况是GPS模块直接放置在天线的背面，使模块的天线焊盘和GPS天线馈点之间零距离，如下图所示：
![](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201010162022866_666666.png)

## 6.2 有源天线
Air530Z模块内部集成了3.3V有源天线供电电路和检测电路， 可以给外部有源天线馈电。并根据馈电电流的大小，指示有源天线的状态。有源天线检测电路还提供了短路保护，通过限制给有源天线馈电的电流，保护芯片和有源天线不被损坏。检测电路定义了三种状态，当电流小于设定值时，指示天线开路；当电流大于设定值时，指示天线正常；当电流过大或者发生短路时，指示天线过流。
天线接入的默认最小检测电流为 2.5mA，短路保护的限流电流默认为 50mA。

**采用有源天线时要注意有源天线的供电范围**，当使用的有源天线的供电是3.3V时，模块可以直接给有源天线进行馈电，参考电路如下所示：
**3.3V有源天线参考电路**
![](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201024161915561_有源天线3.3V.png )

当采用的有源天线供电为5V时，需使用外部供电，此时需串接一颗47nH电感，并联一颗1000pF的电容，同时还需要加一颗100pF 的隔直电容，参考电路如下所示：
**5V有源天线参考电路**
![](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201024162036115_有源天线5V.png )

# 7. 模块外形尺寸

![](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201010162803887_7777777.png)

模块尺寸为12.9mm&#42;9.9mm&#42;2.3mm；

# 8.模块推荐PCB封装尺寸图
![](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201010163028298_qqqqqq.png)

说明：
为方便邮票孔焊接，邮票孔焊盘需外延至少0.5mm，模块封装尺寸建议为12.9mm&#42;10.9mm;
Air530Z封装下载链接如下：
[Air530Z_原理图PCB封装.zip](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/attachment/20201224171924797_Air530Z_原理图PCB封装.zip)

# 9. NMEA0183协议
AIR530Z模块支持NMEA 0183 V4.1协议并兼容以前版本，关于NMEA 0183 V4.1的详细信息请参照NMEA 0183 V4.1官方文档。

## 9.1 NMEA 自定义消息
**CAS00**

| 信息 | CAS00                                                        |
| ---- | ------------------------------------------------------------ |
| 描述 | 将当前配置信息保存到 FLASH 中，即使接收机完全断电，FLASH中的信息不丢失。 |
| 类型 | 输入                                                         |
| 格式 | $PCAS00*CS<CR><LF>                                           |
| 示例 | $PCAS00*01                                                   |

| 字段 | 名称     | 格式        | 参数说明                                              |
| ---- | -------- | ----------- | ----------------------------------------------------- |
| 1    | $PCAS00  | 字符串      | 消息 ID，语句头                                      |
| 2    | CS       | 16 进制数值 | 校验和，$和&#42;之间（不包括$和&#42;） 所有字符的异或结果 |
| 3    | <CR> <LF> | 字符        | 回车与换行符                                          |

**CAS01**

| 信息 | CAS01                 |
| ---- | --------------------- |
| 描述 | 设置串口通信波特率。    |
| 类型 | 输入                  |
| 格式 | $PCAS01,br*CS<CR><LF> |
| 示例 | $PCAS01,1*1D          |

| 字段 | 名称     | 格式        | 参数说明                                                     |
| ---- | -------- | ----------- | ------------------------------------------------------------ |
| 1    | $PCAS01  | 字符串      | 消息 ID，语句头                                              |
| 2    | br       | 数字        | 波特率配置。   0=4800bps   1=9600bps   2=19200bps   3=38400bps   4=57600bps   5=115200bps |
| 3    | CS       | 16 进制数值 | 校验和，$和&#42;之间（不包括$和&#42;）所有字符的异或结果             |
| 4    | <CR><LF> | 字符        | 回车与换行符                                                 |

**CAS02**

| 信息 | CAS02                     |
| ---- | ------------------------- |
| 描述 | 设置定位更新率。          |
| 类型 | 输入                      |
| 格式 | $PCAS02,fixInt*CS<CR><LF> |
| 示例 | $PCAS02,1000*2E           |

| 字段 | 名称     | 格式        | 参数说明                                                     |
| ---- | -------- | ----------- | ------------------------------------------------------------ |
| 1    | $PCAS02  | 字符串      | 消息 ID， 语句头                                             |
| 2    | fixInt   | 数值        |定位更新时间间隔，单位为 ms。   1000= 更新率为1Hz，       每秒输出1个定位点                  &nbsp;500=更新率为2Hz，每秒输出2个定位点 &nbsp;250=更新率为4Hz，每秒输出4个定位点 200=更新率为5Hz，每秒输出5个定位点 &nbsp; 100=更新率为10Hz，每秒输出10个定位点 |
| 3    | CS       | 16 进制数值 | 校验和，$和&#42;之间（不包括$和&#42;） 所有字符的异或结果            |
| 4    | <CR><LF> | 字符        | 回车与换行符                                                 |

**CAS03**

| 信息 | CAS03                                                        |
| ---- | ------------------------------------------------------------ |
| 描述 | 设置要求输出或停止输出的 NMEA 语句。                         |
| 类型 | 输入                                                         |
| 格式 | $PCAS03,nGGA,nGLL,nGSA,nGSV,nRMC,nVTG,nZDA,nANT,nDHV,nLPS,res1,r   es2,nUTC,nGST,res3,res4,res5,nTIM*CS<CR><LF> |
| 示例 | $PCAS03,1,1,1,1,1,1,1,1,0,0,,,1,1,,,,1*33                    |

| 字段 | 名称     | 格式        | 参数说明                                                     |
| ---- | -------- | ----------- | ------------------------------------------------------------ |
| 1    | $PCAS03  | 字符串      | 消息 ID，语句头                                              |
| 2    | nGGA     | 数值        | GGA 输出频率， 语句输出频率是以定位更新率为基准的，n（0~9）表示每 n 次定位输出一次， 0 表示不输出该语句，空则保持原有配置。 |
| 3    | nGLL     | 数值        | GLL 输出频率，同 nGGA                                        |
| 4    | nGSA     | 数值        | GSA 输出频率，同 nGGA                                        |
| 5    | nGSV     | 数值        | GSV 输出频率，同 nGGA                                        |
| 6    | nRMC     | 数值        | RMC 输出频率，同 nGGA                                        |
| 7    | nVTG     | 数值        | VTG 输出频率，同 nGGA                                        |
| 8    | nZDA     | 数值        | ZDA 输出频率，同 nGGA                                        |
| 9    | nANT     | 数值        | ANT 输出频率，同 nGGA                                        |
| 10   | nDHV     | 数值        | DHV 输出频率，同 nGGA                                        |
| 11   | nLPS     | 数值        | LPS 输出频率， 同 nGGA                                       |
| 12   | res1     | 数值        | 保留                                                         |
| 13   | res2     | 数值        | 保留                                                         |
| 14   | nUTC     | 数值        | UTC 输出频率， 同 nGGA                                       |
| 15   | nGST     | 数值        | GST 输出频率， 同 nGST                                       |
| 16   | res3     | 数值        | 保留                                                         |
| 17   | res4     | 数值        | 保留                                                         |
| 18   | res5     | 数值        | 保留                                                         |
| 19   | nTIM     | 数值        | TIM（PCAS60） 输出频率， 同 nGGA                             |
| 20   | CS       | 16 进制数值 | 校验和，$和&#42;之间（不包括$和&#42;） 所有字符的异或结果            |
| 21   | <CR><LF> | 字符        | 回车与换行符                                                 |

**CAS04**

| 信息 | CAS04                                                        |
| ---- | ------------------------------------------------------------ |
| 描述 | 配置工作系统。                                               |
| 类型 | 输入                                                         |
| 格式 | $PCAS04,mode*hh<CR><LF>                                      |
| 示例 | $PCAS04,3&#42;1A 北斗和 GPS 双模   $PCAS04,1&#42;18 单 GPS 工作模式   $PCAS04,2&#42;1B 单北斗工作模式 |

| 字段 | 名称     | 格式       | 参数说明                                                     |
| ---- | -------- | ---------- | ------------------------------------------------------------ |
| 1    | $PCAS04  | 字符串     | 消息 ID， 语句头                                             |
| 2    | mode     | 数字       | 工作系统配置。对于特点的产品型号支持下面的部分配置。   1=GPS   2=BDS   3=GPS+BDS   4=GLONASS   5=GPS+GLONASS   6=BDS+GLONASS   7=GPS+BDS+GLONASS |
| 3    | CS       | 16进制数值 | 校验和， $和&#42;之间（不包括$和&#42;） 所有字符的异或结果           |
| 4    | <CR><LF> | 字符       | 回车与换行符                                                 |

**CAS05**

| 信息 | CAS05                                                        |
| ---- | ------------------------------------------------------------ |
| 描述 | 设置 NMEA 协议类型选择。 多模导航接收机的协议类型比较繁多， 数据协议标准也比较多， 本接收机产品可以支持多种协议（可选配置） 。 |
| 类型 | 输入                                                         |
| 格式 | $PCAS05,ver*CS<CR><LF>                                       |
| 示例 | $PCAS05,1*19                                                 |

| 字段 | 名称     | 格式        | 参数说明                                           |
| ---- | -------- | ----------- | -------------------------------------------------- |
| 1    | $PCAS05  | 字符串      | 消息 ID， 语句头                                   |
| 2    | mode     | 数字        | NMEA 协议类型选择（备注[1]）                       |
| 3    | CS       | 16 进制数值 | 校验和， $和&#42;之间（不包括$和&#42;） 所有字符的异或结果 |
| 4    | <CR><LF> | 字符        | 回车与换行符                                       |

备注[1] NMEA 协议类型选择

| 2   | 兼容 NMEA 4.1 以上版本                                       |
| ---- | ------------------------------------------------------------ |
| 5    | 兼容中国交通运输信息中心的 BDS/GPS 双模协议，兼容 NMEA 2.3 以上版本， 兼容NMEA4.0 协议 |
| 9    | 兼容单 GPS NMEA0183 协议， 兼容 NMEA 2.2 版本                |

**CAS06**

| 信息 | CAS06                   |
| ---- | ----------------------- |
| 描述 | 查询产品信息            |
| 类型 | 输入                    |
| 格式 | $PCAS06,info*CS<CR><LF> |
| 示例 | $PCAS06,0*1B            |

| 字段 | 名称     | 格式        | 参数说明                                                     |
| ---- | -------- | ----------- | ------------------------------------------------------------ |
| 1    | $PCAS06  | 字符串      | 消息 ID， 语句头                                             |
| 2    | info     | 数字        |查询产品的信息类型  &nbsp;&nbsp;&nbsp;&nbsp;0=查询固件版本号 &nbsp;&nbsp;1=查询硬件型号及序列号 &nbsp;2=查询多模接收机的工作模式 &nbsp;3=查询产品的客户编号 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5=查询升级代码信息|
| 3    | CS       | 16 进制数值 | 校验和，$和&#42;之间（不包括$和&#42;） 所有字符的异或结果           |
| 4    | <CR><LF> | 字符        | 回车与换行符                                                 |

**CAS10**

| 信息 | CAS10                                                        |
| ---- | ------------------------------------------------------------ |
| 描述 | 接收机重启                                                   |
| 类型 | 输入                                                         |
| 格式 | $PCAS10,rs*CS<CR><LF>                                        |
| 示例 | $PCAS10,0&#42;1C 热启动   $PCAS10,1&#42;1D 温启动   $PCAS10,2&#42;1E 冷启动   $PCAS10,3&#42;1F 出厂启动 |

| 字段 | 名称     | 格式       | 参数说明                                                     |
| ---- | -------- | ---------- | ------------------------------------------------------------ |
| 1    | $PCAS10  | 字符串     | 消息 ID，语句头                                              |
| 2    | rs       | 数字       | 启动模式配置。   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0=热启动。 不使用初始化信息备份存储中的所有数据有效。   1=温启动。 不使用初始化信息， 清除星历。2=冷启动。 不使用初始化信息,清除备份存储中除配置外的所有数据。 &nbsp;3=出厂启动。 清除内存所有数据，并将接收机复位   至出厂默认配置。 |
| 3    | CS       | 16进制数值 | 校验和，$和&#42;之间（不包括$和&#42;）所有字符的异或结果           |
| 4    | <CR><LF> | 字符       | 回车与换行符                                                 |
**CAS12**

| 信息 | CAS12                                                   |
| ---- | ------------------------------------------------------- |
| 描述 | 接收机待机模式控制                                      |
| 类型 | 输入                                                    |
| 格式 | $PCAS12,stdbysec*CS<CR><LF>                             |
| 示例 | $PCAS12,60*28 接收机进入待机模式， 持续 60 秒后自动开机 |

| 字段 | 名称     | 格式        | 参数说明                                           |
| ---- | -------- | ----------- | -------------------------------------------------- |
| 1    | $PCAS12  | 字符串      | 消息 ID， 语句头                                   |
| 2    | stdbysec | 数值        | 接收机进入待机模式的时间，  最大 65535 秒          |
| 3    | CS       | 16 进制数值 | 校验和， $和&#42;之间（不包括$和&#42;） 所有字符的异或结果 |
| 4    | <CR><LF> | 字符        | 回车与换行符                                       |

**CAS20**

| 信息 | CAS20              |
| ---- | ------------------ |
| 描述 | 在线升级指令       |
| 类型 | 输入               |
| 格式 | $PCAS20*CS<CR><LF> |
| 示例 | $PCAS20*03         |

| 字段 | 名称     | 格式        | 参数说明                                          |
| ---- | -------- | ----------- | ------------------------------------------------- |
| 1    | $PCAS20  | 字符串      | 消息 ID，语句头                                   |
| 2    | CS       | 16 进制数值 | 校验和，$和&#42;之间（不包括$和&#42;） 所有字符的异或结果 |
| 3    | <CR><LF> | 字符        | 回车与换行符                                      |
**CAS15**

| 信息 | CAS15                                                        |
| ---- | ------------------------------------------------------------ |
| 描述 | 卫星系统控制指令，  可以配置是否接收系统中任何一颗卫星       |
| 类型 | 输入                                                         |
| 格式 | $PCAS15,X,YYYYYYYY*CS<CR><LF>                                |
| 示例 | $PCAS15,2,FFFFFFFF&#42;37， 开启北斗的 1-32 号卫星   $PCAS15,2,FFFFFFE0&#42;42， 开启北斗的 6-32 号卫星， 北斗 1-5 号卫星关闭   $PCAS15,4,FFFF&#42;31， 开启 SBAS 的  1-16 号卫星， 即 PRN=120-135   $PCAS15,5,1F&#42;47， 开启 QZSS 的  1-5 号卫星， 即 PRN=193， 194， 195， 199， 197 |

| 字段 | 名称     | 格式                  | 参数说明                                                     |
| ---- | -------- | --------------------- | ------------------------------------------------------------ |
| 1    | $PCAS15  | 字符串                | 消息 ID，语句头                                              |
| 2    | SYS_ID   | 1 个数字              | 2=北斗 1-32 号卫星   3=北斗 33-64 号卫星   4=SBAS 卫星（1-19 号 SBAS 卫星，  对应 PRN 120-138号）   5=QZSS 卫星（1-5 号 QZSS 卫星，  对应 PRN 193，194， 195， 199， 197 号） |
| 3    | SV_MASK  | 1 到 8 个 16 进制数值 | 每个16进制字符控制4颗卫星， 最右边的控制1-4号卫星。16 进制字符转换为 4bit 二进制， 每 1bit 对应 1 颗卫星， 1=接收该卫星；  0=禁止。   举例： 3FFFFFE0， 表示禁止 31,32,1-5 号卫星。 |
| 4    | CS       | 16 进制数值           | 校验和， $和&#42;之间（不包括$和&#42;） 所有字符的异或结果           |
| 5    | <CR><LF> | 字符                  | 回车与换行符                                                 |

**CAS60**

| 信息 | CAS60                                                        |
| ---- | ------------------------------------------------------------ |
| 描述 | 接收机时间信息。                                             |
| 类型 | 输出                                                         |
| 格式 | $PCAS60,UTCtime,ddmmyyyy,wn,tow,timevalid,leaps,leapsValid&#42;CS |
| 示例 | $PCAS60,091242.000,23122019,2085,119580,1,18,1&#42;33   $PCAS60,091222.000,23122019,,,0,,0&#42;33   $PCAS60,092011.000,23122019,2085,120029,1,,0&#42;33 |

| 字段 | 名称       | 格式         | 参数说明                                                     |
| ---- | ---------- | ------------ | ------------------------------------------------------------ |
| 1    | $PCAS60    | 字符串       | 消息 ID                                                      |
| 2    | UTCtime    | hhmmss.sss   | 当前时刻的 UTC 时间， leapsValid 为 0,则采用默认 leaps 计算 |
| 3    | ddmmyyyy   | 数值         | 当前日月年                                                   |
| 4    | wn         | 数值         | GPS 系统周数                                                 |
| 5    | tow        | 数值         | GPS 系统周内秒                                               |
| 6    | timeValid  | 数值         | 时间有效性(2/3/4/5 字段)， 1=有效，0=无效                    |
| 7    | leaps      | 数值         | GPS 时间和 UTC 时间的差距,闰秒数                             |
| 8    | leapsValid | 数值         | 闰秒数 leaps 有效性， 1=有效，0=无效                         |
| 9    | CS         | 16 进制数值  | 校验和，$和之间（不包括$和） 所有字符的异或结果              |
| 10   | 字符       | 回车与换行符 |                                                              |

## 9.2 支持NMEA0183协议

Air530Z支持NMEA0183 V4.1协议并兼容以前版本，关于NMEA0183 V4.1的详细信息可以参照NMEA 0183 V4.1官方文档。

常见输出格式如下：
GGA：时间、位置、卫星数量
GSA：GPS接收机操作模式，定位使用的卫星，DOP值，定位状态
GSV：可见GPS卫星信息、仰角、方位角、信噪比
RMC：时间、日期、位置、速度
VTG：地面速度信息

**语句标识符:**

| 标识符 | 含  义                |
| ------ | --------------------- |
| BD     | BDS,北斗二代卫星系统  |
| GP     | GPS                   |
| GL     | GLONASS               |
| GA     | Galileo               |
| GN     | GNSS,全球导航卫星系统 |

**GGA**

| 信息 | GGA                                                          |
| ---- | ------------------------------------------------------------ |
| 描述 | 接收机时间、  位置及定位相关的数据                           |
| 类型 | 输出                                                         |
| 格式 | $-GGA,UTCtime,lat,uLat,lon,uLon,FS,numSv,HDOP,msl,uMsl,sep,uSep,diffAg   e,diffSta*CS<CR><LF> |
| 示例 |$GPGGA,235316.000,2959.9925,S,12000.0090,E,1,06,1.21,62.77,M,0.00,M,,*7B |

| 字段 | 名称     | 格式          | 参数说明                                                     |
| ---- | -------- | ------------- | ------------------------------------------------------------ |
| 1    | $--GGA   | 字符串        | 消息 ID，GGA 语句头，’--‘为系统标识                          |
| 2    | UTCtime  | hhmmss.sss    | 当前定位的 UTC 时间                                          |
| 3    | lat      | ddmm.mmmm     | 纬度，  前 2 字符表示度， 后面的字符表示分                   |
| 4    | uLat     | 字符          | 纬度方向： N-北， S-南                                       |
| 5    | lon      | dddmm.mmm   m | 经度，  前 3 字符表示度，后面的字符表示分                    |
| 6    | uLon     | 字符          | 经度方向：E-东，W-西                                         |
| 7    | FS       | 数值          | 指示当前定位质量，该字段不应为空                             |
| 8    | numSv    | 数值          | 用于定位的卫星数目，00~24                                    |
| 9    | HDOP     | 数值          | 水平精度因子（HDOP）                                         |
| 10   | msl      | 数值          | 海拔高度，即接收机天线相对于大地水准面的高度                 |
| 11   | uMsl     | 字符          | 高度单位，米，固定字符 M                                     |
| 12   | sep      | 数值          | 参考椭球面与大地水准面之间的距离，“-” 表示大地水准面低于参考椭球面 |
| 13   | uSep     | 字符          | 高度单位，米，固定字符 M                                     |
| 14   | diffAge  | 数值          | 差分修正的数据龄期，  未使用 DGPS 时该域为空                 |
| 15   | diffSta  | 数值          | 差分参考站的ID                                               |
| 16   | CS       | 16 进制数值   | 校验和，$和&#42;之间（不包括$和&#42;） 所有字符的异或结果            |
| 17   | <CR><LF> | 字符          | 回车与换行符                                                 |

**GSA**

| 信息 | GSA                                                          |
| ---- | ------------------------------------------------------------ |
| 描述 | 用于定位的卫星编号与 DOP 信息。 不管是否定位或者是否有可用卫星， 都输出 GSA   语句； 当接收机处于多系统联合工作时， 每个系统的可用卫星对应一条 GSA 语句，   每条 GSA 语句都包含根据组合卫星系统得到的 PDOP、 HDOP 和 VDOP。 |
| 类型 | 输出                                                         |
| 格式 | $--GSA,smode,FS{,SVID},PDOP,HDOP,VDOP*CS<CR><LF>             |
| 示例 | $GPGSA,A,3,05,21,31,12,18,29,,,,,,,2.56,1.21,2.25*01         |

| 字段 | 名称     | 格式        | 参数说明                                                     |
| ---- | -------- | ----------- | ------------------------------------------------------------ |
| 1    | $--GSA   | 字符串      | 消息 ID， GSA 语句头， ’--‘为系统标识                        |
| 2    | smode    | 字符        | 模式切换方式指示                                             |
| 3    | FS       | 数字        | 定位状态标志                                                 |
| 4    | {,SVID}  | 数值        | 用于定位的卫星编号，  该字段共显示 12 颗可用卫星编号，多于12 颗时只输出前12颗，不足 12 颗时不足的区域补空 |
| 5    | PDOP     | 数值        | 位置精度因子（PDOP）                                         |
| 6    | HDOP     | 数值        | 水平精度因子（HDOP）                                         |
| 7    | VDOP     | 数值        | 垂直精度因子（VDOP）                                         |
| 8    | systemId | 数值        | NMEA 所定义的 GNSS系统 ID号   仅 NMEA 4.1 及以上版本有效     |
| 9    | CS       | 16 进制数值 | 校验和， $和&#42;之间（不包括$和&#42;） 所有字符的异或结果           |
| 10   | <CR><LF> | 字符        | 回车与换行符                                                 |

| 模式切换方式指示 | 描述                                      |
| ---------------- | ----------------------------------------- |
| M                | 手动切换。  强制为 2D 或者 3D 工作模式    |
| A                | 自动切换。  接收机自动切换 2D/3D 工作模式 |
| 定位状态         | 描述                                      |
| 1                | 定位无效                                  |
| 2                | 2D 定位                                   |
| 3                | 3D 定位                                   |
| 系统  ID         | 描述                                      |
| 1                | GPS 系统                                  |
| 2                | GLONASS 系统                              |
| 4                | BDS 系统                                  |

**GSV**

| 信息 | GSV                                                          |
| ---- | ------------------------------------------------------------ |
| 描述 | 可见卫星的卫星编号及其仰角、  方位角、 载噪比等信息。 每条 GSV 语句中的{卫星编号,仰角,方位角,载噪比}参数组的数量可变，最多为  4 组， 最少为 0 组。 |
| 类型 | 输出                                                         |
| 格式 | $--GSV,numMsg,msgNo,numSv{,SVID,ele,az,cn0}  *CS<CR><LF>     |
| 示例 | $GPGSV,3,1,10,25,68,053,47,21,59,306,49,29,56,161,49,31,36,265,49&#42;79   $GPGSV,3,2,10,12,29,048,49,05,22,123,49,18,13,000,49,01,00,000,49&#42;72   $GPGSV,3,3,10,14,00,000,03,16,00,000,27&#42;7C |

| 字段 | 名称                  | 格式        | 参数说明                                                     |
| ---- | --------------------- | ----------- | ------------------------------------------------------------ |
| 1    | $--GSV                | 字符串      | 消息 ID， GSV 语句头， ’--‘为系统标识                        |
| 2    | numMsg                | 字符        | 语句总数。每条 GSV 语句最多输出 4 颗可见卫星信息，因此，当该系统可见卫星多于 4 颗时，将需要多条 GSV 语句。 |
| 3    | msgNo                 | 数字        | 当前语句编号                                                 |
| 4    | numSv                 | 数值        | 可见卫星总数                                                 |
| 5    | {,SVID,ele,   az,cn0} | 数值        | 依次为:卫星编号;   仰角，  取值范围为 0~90， 单位是度;   方位角， 取值范围为 0~359，单位是度;   载噪比， 取值范围为 0~99， 单位是 dB-Hz，  如果没有跟踪到当前卫星，补空 |
| 6    | signalId              | 数值        | NMEA 所定义的 GNSS 信号 ID（0 代表全部信号）仅  NMEA 4.1 及以上版本有效 |
| 7    | CS                    | 16 进制数值 | 校验和， $和&#42;之间（不包括$和&#42;） 所有字符的异或结果           |
| 8    | <CR><LF>              | 字符        | 回车与换行符                                                 |

**RMC**

| 信息 | RMC                                                          |
| ---- | ------------------------------------------------------------ |
| 描述 | 推荐的最小定位信息                                           |
| 类型 | 输出                                                         |
| 格式 | $--RMC,UTCtime,status,lat,uLat,lon,uLon,spd,cog,date,mv,mvE,mode*CS<C   R><LF> |
| 示例 | $GPRMC,235316.000,A,2959.9925,S,12000.0090,E,0.009,75.020,020711,,,A&#42;45 |

| 字段 | 名称      | 格式          | 参数说明                                                     |
| ---- | --------- | ------------- | ------------------------------------------------------------ |
| 1    | $--RMC    | 字符串        | 消息 ID， RMC 语句头， ’--‘为系统标识                        |
| 2    | UTCtime   | hhmmss.sss    | 当前定位的 UTC 时间                                          |
| 3    | status    | 字符串        | 位置有效标志。   V=接收机警告，  数据无效   A=数据有效       |
| 4    | lat       | ddmm.mmmm     | 纬度，前2字符表示度，后面的字符表示分                        |
| 5    | uLat      | 字符          | 纬度方向： N-北， S-南                                       |
| 6    | lon       | dddmm.mmm   m | 经度，前3字符表示度，后面的字符表示分                        |
| 7    | uLon      | 字符          | 经度方向：E-东，W-西                                         |
| 8    | spd       | 数值          | 对地速度，单位为节                                           |
| 9    | cog       | 数值          | 对地真航向，单位为度                                         |
| 10   | date      | ddmmyy        | 日期（dd 为日，mm为月，yy 为年）                             |
| 11   | mv        | 数值          | 磁偏角，单位为度。固定为空                                   |
| 12   | mvE       | 字符          | 磁偏角方向：E-东，W-西。固定为空                             |
| 13   | mode      | 字符          | 定位模式标志   仅 *NMEA 2.3* 及以上版本有效                  |
| 14   | navStatus | 字符          | 导航状态标示符（V 表示系统不输出导航状态信息）   仅 NMEA 4.1 及以上版本有效 |
| 15   | CS        | 16进制数值    | 校验和， $和&#42;之间（不包括$和&#42;） 所有字符的异或结果           |
| 16   | <CR><LF>  | 字符          | 回车与换行符                                                 |

| 定位模式标志 | 描述                                     |
| ------------ | ---------------------------------------- |
| A            | 自主模式                                 |
| E            | 估算模式（航位推算）                     |
| N            | 数据无效                                 |
| D            | 差分模式                                 |
| M            | 未定位，  但存在外部输入或历史保存的位置 |

**VTG**

| 信息 | VTG                                              |
| ---- | ------------------------------------------------ |
| 描述 | 对地速度与对地航向信息。                         |
| 类型 | 输出                                             |
| 格式 | $--VTG,cogt,T,cogm,M,sog,N,kph,K,mode*CS<CR><LF> |
| 示例 | $GPVTG,75.20,T,,M,0.009,N,0.017,K,A*02           |

| 字段 | 名称     | 格式        | 参数说明                                           |
| ---- | -------- | ----------- | -------------------------------------------------- |
| 1    | $--VTG   | 字符串      | 消息 ID， VTG 语句头， ’--‘为系统标识              |
| 2    | cogt     | 数值        | 对地真北航向，  单位为度                           |
| 3    | T        | 字符        | 真北指示，  固定为 T                               |
| 4    | cogm     | 数值        | 对地磁北航向，  单位为度                           |
| 5    | M        | 字符        | 磁北指示，  固定为 M                               |
| 6    | sog      | 数值        | 对地速度，  单位为节                               |
| 7    | N        | 字符        | 速度单位节，  固定为 N                             |
| 8    | kph      | 数值        | 对地速度，  单位为千米每小时                       |
| 9    | K        | 字符        | 速度单位，  千米每小时， 固定为 K                  |
| 10   | mode     | 字符        | 定位模式标志   仅 *NMEA 2.3* 及以上版本有效        |
| 11   | CS       | 16 进制数值 | 校验和， $和&#42;之间（不包括$和&#42;） 所有字符的异或结果 |
| 12   | <CR><LF> | 字符        | 回车与换行符                                       |

| 定位模式标志 | 描述                                     |
| ------------ | ---------------------------------------- |
| A            | 自主模式                                 |
| E            | 估算模式（航位推算）                     |
| N            | 数据无效                                 |
| D            | 差分模式                                 |
| M            | 未定位，  但存在外部输入或历史保存的位置 |

# 10 GNSS工具GnssToolKit3

Gnss ToolKit3是一个专为Air530Z开发的GNSS工具，它为用户评估、控制Air530Z模块提供了一个易用、强大的可视化PC端工具。当然用户也可以使用诸如u-Center、PowerGPS等工具。
![](http://openluat-luatcommunity.oss-cn-hangzhou.aliyuncs.com/images/20201012145930342_ZKW.png)

| 版本号 | 修改记录                                          | 日期      | 作者       |
| ------ | :------------------------------------------------ | :---------------- | ---------- |
| V1.0   | 新建                                              | 2020-10-12 | Loukanghua |
| V1.1   | 更新休眠模式下的功耗数据为6.4mA  | 2020-12-10 | Loukanghua |