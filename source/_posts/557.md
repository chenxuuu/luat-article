---
title: "dtu连接阿里云发送数据"
date: 2019-03-04 19:18:59
---


                            <p>用dtu固件可以方便的实现快速接入阿里云实现数据透传，稀饭放姜大神已经视频演示了如何使用，我这里根据实际项目演示一下如何上报数据。</p><p>1，首先按照教程刷好dtu固件，并在dtu的网页上添加好设备（当然你也可以用软件配置）</p><p>2，在阿里云新建产品，我这里就用以前演示luat连接阿里云的产品演示，建立过程可以看以前的文章</p><p><img src="http://oldask.openluat.com/image/show/attachments-2019-03-ic7BIpG85c7d035f9061a.png" style="width: 543px;" class="img-responsive">可以看到我们添加的功能类型为属性，所以我们会用的这个两个topic，这里请根据自己项目实际选择</p><p></p><p><img src="http://oldask.openluat.com/image/show/attachments-2019-03-MuLRRDSB5c7d03e0859a9.png" style="width: 543px;" class="img-responsive"></p><p>3，配置dtu平台</p><p>根据刚才解释和稀饭大神教程这里配置就很简单了。<span style="background-color: rgb(206, 198, 206);">（注释：qos建议选择1，因为阿里云仅支持对qos1消息内容查询，查询消息可以帮助修改开发过程中的错误）</span>此处失效，现在都可以查询</p><p><img src="http://oldask.openluat.com/image/show/attachments-2019-03-CuAe3L325c7d0484b4253.png" style="width: 467.5px;" class="img-responsive">确定保存，然后重启一下设备，就可以连接阿里云了。</p><p>4，上传数据</p><p>组织报文，以前文章介绍过，我们需要的报文如下</p><p>{"id":"1","version":"1.0","method":"thing.event.property.post","params":{"PowerSwitch":0,"LightVolt":4.086} }</p><p>打开串口调试助手，配置成你dtu平台设置的波特率等参数，发送这条组织好的报文即可。（注意：这里用的是串口不是host口注意接线）</p><p><img src="http://oldask.openluat.com/image/show/attachments-2019-03-kBrRidib5c7d0937cdeec.png" style="width: 353.5px;" class="img-responsive"></p><p>回到阿里云，我们可以看到数据更新成功</p><p><img src="http://oldask.openluat.com/image/show/attachments-2019-03-k2Qeb8oR5c7d096b1c0ea.png" style="width: 344px;" class="img-responsive"><br></p>
                        