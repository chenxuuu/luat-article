---
title: "[分享]调试信息打印出文件名和行号,建议LAUT 直接加入到底层,更快速定位到项目代码位置."
date: 2018-09-06 15:41:14
---

<p>调试时候直接打印出具体文件名和行号,大大提高编程效率<br /></p>

<div><div><span style="color:#008000;">任意位置加入以下代码,</span></div><div><span style="color:#008000;"><br /></span></div><div><span style="color:#008000;">--[[</span></div><div><span style="color:#008000;">    print 重定向</span></div><div><span style="color:#008000;">]]</span></div><div><span style="color:#0000ff;">_G</span>.<span style="color:#001080;">_print</span> = <span style="color:#0000ff;">_G</span>.<span style="color:#001080;">print</span></div><div><span style="color:#0000ff;">_G</span>.<span style="color:#001080;">print</span> = <span style="color:#af00db;">function</span>(...)</div><div>    <span style="color:#0000ff;">_G</span>.<span style="color:#795e26;">_print</span>(<span style="color:#a31515;">"["</span> .. <span style="color:#795e26;">debug.getinfo</span>(<span style="color:#09885a;">2</span>).<span style="color:#001080;">short_src</span> .. <span style="color:#a31515;">" : "</span> .. <span style="color:#795e26;">debug.getinfo</span>(<span style="color:#09885a;">2</span>).<span style="color:#001080;">currentline</span> .. <span style="color:#a31515;">"]"</span>, <span style="color:#0000ff;">...</span>)</div><div><span style="color:#af00db;">end</span></div><div><span style="color:#0000ff;">_G</span>.<span style="color:#001080;">debugInfo</span> = <span style="color:#0000ff;">_G</span>.<span style="color:#001080;">print</span></div><div><span style="color:#001080;"><br /></span></div><div><span style="color:#001080;"><br /></span></div><div><span style="color:#001080;">调用方法(与print一致):debugInfo("打印出什么",变量,...)</span></div><div><span style="color:#001080;">或者在main.lua 中直接将log.info = debugInfo</span></div><div><span style="color:#001080;">即可满足.欢迎使用</span></div><div><span style="color:#001080;"><br /></span></div><div><span style="color:#001080;"><br /></span></div></div>