---
title: "air202luat二次开发设备接入阿里云（一）"
date: 2018-11-18 15:29:33
---





                            <p>代码传送门<a href="https://github.com/chain01/luat_test/blob/master/%E8%AE%BA%E5%9D%9B%E8%BF%9E%E6%8E%A5%E9%98%BF%E9%87%8C%E4%BA%91%E6%95%99%E7%A8%8B%E4%BB%A3%E7%A0%81/testALiYun.lua" target="_blank">源码</a></p><p>记录设备接入阿里云的过程</p><p>一，连接阿里云</p><p>1，创建产品</p><p>阿里云注册链接<a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=8qbzoull" target="_blank">注册阿里云</a></p><p><span style="background-color: rgb(255, 0, 0);">此处为4月份修改：阿里云进行了升级，新创建的产品不再区分高级和初级，全部等同于高级版</span></p><p>选择高级版</p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-O7MCACGq5bf10d1b5db5b.png" style="width: 282.5px;" class="img-responsive"></p><p>设置属性，我这里选择了自定义，也可以根据需要选择阿里云提供的一些模型</p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-nhlKWnMU5bf10de185f80.png" style="width: 277px;" class="img-responsive"></p><p>创建完成这时候查看产品，因为我选择的是自定义所以是没有任何功能的，如果选择阿里给出的模型这个地方会有模型中定义的一些功能</p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-UI5Rn9l45bf10fd4e36f5.png" style="width: 568px;" class="img-responsive"><br></p><p>2，添加设备<br></p><p>选择刚才我们创建的产品，DeviceName最好设置成设备的IMEI，一是方便识别不容易重复，二是方便我们改成一型一密</p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-9EqjZ7CK5bf10e92a92c5.png" style="width: 269px;" class="img-responsive"></p><p>一键复制三元认证</p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-LWmme0U95bf10f389ee0b.png" style="width: 269.5px;" class="img-responsive"><br></p><p>3，修改demo</p><p>根据刚才复制的修改合宙给出的aliyun的demo的以下几个地方</p><p>ProductKey直接替换成刚才复制的<br></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-s0SYmgcy5bf11030215e6.png" style="width: 402.5px;" class="img-responsive">DeviceName把demo中的return misc.getImei()注释掉并把下面的注释去掉，然后把引号里的替换成刚才复制的DeviceName<br></p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-p1fJQG0c5bf110aa8b691.png" style="width: 535.5px;" class="img-responsive"></p><p>DeviceSecret也和DeviceName一样进行修改</p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-8pa27gQ85bf1118cd4ce5.png" style="width: 601.5px;" class="img-responsive"></p><p>4，烧录代码</p><p>选择我们刚才修改过的aliyun的demo所在的文件夹，把两个文件添加进工作区</p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-D5dzvKJn5bf1121a51e64.png" style="width: 334.5px;" class="img-responsive"></p><p>点击下载，选择自动添加库</p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-yfjBopQO5bf112d8179d9.png" style="width: 352px;" class="img-responsive"></p><p>烧录成功</p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-fwbxx4fO5bf11399a3747.png" style="width: 398px;" class="img-responsive">回到阿里云可以看到我们的设备已经在线了</p><p><img src="http://oldask.openluat.com/image/show/attachments-2018-11-AMGlt3sn5bf1147daf7b2.png" style="width: 521.5px;" class="img-responsive"><br></p>



